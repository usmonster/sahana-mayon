<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: agPersonForm Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>agPersonForm Class Reference</h1><!-- doxytag: class="agPersonForm" -->
<p><a class="el" href="namespaceAgasti.html" title="Agasti Sudo User Class.">Agasti</a> Person Form Class - A class to generate either a 'new person' or 'edit person' form.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for agPersonForm:</div>
<div class="dynsection">
 <div class="center">
  <img src="classagPersonForm.png" usemap="#agPersonForm_map" alt=""/>
  <map id="agPersonForm_map" name="agPersonForm_map">
<area href="classPluginagStaffPersonForm.html" alt="PluginagStaffPersonForm" shape="rect" coords="0,56,156,80"/>
</map>
 </div>
</div>

<p><a href="classagPersonForm-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4a16b3359b0b2ce7de61b6ddf86a53c"></a><!-- doxytag: member="agPersonForm::configure" ref="ad4a16b3359b0b2ce7de61b6ddf86a53c" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#ad4a16b3359b0b2ce7de61b6ddf86a53c">configure</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures the form, setting up widgets and some meta-data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a77315bb8fe509b53275f3960f9310cca">configureWidgets</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad81ed11cd418555b65649780278b30d6"></a><!-- doxytag: member="agPersonForm::embedAgPersonForms" ref="ad81ed11cd418555b65649780278b30d6" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#ad81ed11cd418555b65649780278b30d6">embedAgPersonForms</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sets up the embedded forms by calling all of the embed[<a class="el" href="classFoo.html">Foo</a>]Forms methods. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cea4728ce393eb413187d9f8f693279"></a><!-- doxytag: member="agPersonForm::embedPrimaryForms" ref="a4cea4728ce393eb413187d9f8f693279" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>embedPrimaryForms</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebbea6c2a4338bc1dd55f2dd53add6af"></a><!-- doxytag: member="agPersonForm::embedContactForms" ref="aebbea6c2a4338bc1dd55f2dd53add6af" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>embedContactForms</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a5687043d22de5dec39855b928b976ece">embedDateOfBirthForm</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sets up the date of birth form.  <a href="#a5687043d22de5dec39855b928b976ece"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#ad0a82f2ff82a89e005c8197243fecc36">embedLanguageForm</a> ($primaryContainer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sets up language forms using <a class="el" href="classagEmbeddedAgPersonMjAgLanguageForm.html" title="agEmbeddedAgPersonMjAgLanguageForm.">agEmbeddedAgPersonMjAgLanguageForm</a> and <a class="el" href="classagEmbeddedAgPersonLanguageCompetencyForm.html" title="agEmbeddedAgPersonLanguageCompetencyForm">agEmbeddedAgPersonLanguageCompetencyForm</a>.  <a href="#ad0a82f2ff82a89e005c8197243fecc36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad957bc3175b7c605e02f16aa5ffe6dc5"></a><!-- doxytag: member="agPersonForm::embedNameForm" ref="ad957bc3175b7c605e02f16aa5ffe6dc5" args="($primaryContainer)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#ad957bc3175b7c605e02f16aa5ffe6dc5">embedNameForm</a> ($primaryContainer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sets up the embedded agEmbeddedAgPersonNameForms, one for each <a class="el" href="classagPersonNameType.html" title="extends the Doctrine-generated BaseagPersonNameType model">agPersonNameType</a>, populated with the <a class="el" href="classagPersonName.html" title="Agasti Sudo User Class.">agPersonName</a> that corresponds to the current <a class="el" href="classagPerson.html" title="Extends the person object for various purposes.">agPerson</a> and <a class="el" href="classagPersonNameType.html" title="extends the Doctrine-generated BaseagPersonNameType model">agPersonNameType</a> (if it exists). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#aa632fbf4f9c2566f647a17b0ec66da6a">embedEmailForm</a> ($contactContainer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This block sets up the embedded agEmbeddedAgEmailContactForms, one for each <a class="el" href="classagEmailContactType.html">agEmailContactType</a>, populated with the <a class="el" href="classagPersonName.html" title="Agasti Sudo User Class.">agPersonName</a> that corresponds to the current <a class="el" href="classagPerson.html" title="Extends the person object for various purposes.">agPerson</a> and <a class="el" href="classagEmailContactType.html">agEmailContactType</a> (if it exists).  <a href="#aa632fbf4f9c2566f647a17b0ec66da6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a4f8b185f0d991748395e9844343e3884">embedPhoneForm</a> ($contactContainer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sets up the embedded agEmbeddedAgPhoneContactForms, one for each <a class="el" href="classagPhoneContactType.html">agPhoneContactType</a>, populated with the <a class="el" href="classagPersonName.html" title="Agasti Sudo User Class.">agPersonName</a> that corresponds to the current <a class="el" href="classagPerson.html" title="Extends the person object for various purposes.">agPerson</a> and <a class="el" href="classagPhoneContactType.html">agPhoneContactType</a> (if it exists).  <a href="#a4f8b185f0d991748395e9844343e3884"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a60074f9ee2d57cd064dbb1a184a8364b">embedAddressForm</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sets up address forms.  <a href="#a60074f9ee2d57cd064dbb1a184a8364b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a92a22e912a1e8bc4eafb64e4effc7b13">saveDateOfBirthForm</a> ($form)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves data in the embedded date of birth form.  <a href="#a92a22e912a1e8bc4eafb64e4effc7b13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a963bdc8206a081c0e879c21d9926718a">saveNameForm</a> ($key, $form, $values)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves data in an embedded name form.  <a href="#a963bdc8206a081c0e879c21d9926718a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#aa4eb3e94add3f807ebcef8018084b373">saveEmailForm</a> ($key, $form, $values)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">* ************************************************************************** Saves data in an embedded email form.  <a href="#aa4eb3e94add3f807ebcef8018084b373"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36e200f9c9b6e28896450fcb5fb8bfea"></a><!-- doxytag: member="agPersonForm::savePhoneForm" ref="a36e200f9c9b6e28896450fcb5fb8bfea" args="($key, $form, $values)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>savePhoneForm</b> ($key, $form, $values)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21b1c8ceb2265a2ee097271c9ec395bf"></a><!-- doxytag: member="agPersonForm::saveAddressForm" ref="a21b1c8ceb2265a2ee097271c9ec395bf" args="($addressContainerForm)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>saveAddressForm</b> ($addressContainerForm)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad35ab9c614029791f2decba4f1b405f9"></a><!-- doxytag: member="agPersonForm::saveLanguageForm" ref="ad35ab9c614029791f2decba4f1b405f9" args="($form, $joinId)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>saveLanguageForm</b> ($form, $joinId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#afa8d5056e38f33339839f812b4020cee">saveEmbeddedForms</a> ($con=NULL, $forms=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64fda7c70c7c947b60bb3d0987e1ef54"></a><!-- doxytag: member="agPersonForm::getStylesheets" ref="a64fda7c70c7c947b60bb3d0987e1ef54" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>getStylesheets</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57c096e13bab64a6412d44c1cfd15614"></a><!-- doxytag: member="agPersonForm::getJavaScripts" ref="a57c096e13bab64a6412d44c1cfd15614" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>getJavaScripts</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4a16b3359b0b2ce7de61b6ddf86a53c"></a><!-- doxytag: member="agPersonForm::configure" ref="ad4a16b3359b0b2ce7de61b6ddf86a53c" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>configure</b> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagPersonForm.html#a528c98289c17fb6dc0beb6eef4c94734">doSave</a> ($con=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is here to override BaseagPersonForm's <a class="el" href="classagPersonForm.html#a528c98289c17fb6dc0beb6eef4c94734" title="This function is here to override BaseagPersonForm&#39;s doSave() method.">doSave()</a> method.  <a href="#a528c98289c17fb6dc0beb6eef4c94734"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="namespaceAgasti.html" title="Agasti Sudo User Class.">Agasti</a> Person Form Class - A class to generate either a 'new person' or 'edit person' form. </p>
<p>PHP Version 5.3</p>
<p>LICENSE: This source file is subject to LGPLv2.1 license that is available through the world-wide-web at the following URI: <a href="http://www.gnu.org/licenses/lgpl-2.1.html">http://www.gnu.org/licenses/lgpl-2.1.html</a></p>
<dl class="author"><dt><b>Author:</b></dt><dd>Charles Wisniewski, CUNY SPS </dd>
<dd>
Nils Stolpe, CUNY SPS </dd>
<dd>
Ilya Gulko, CUNY SPS</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>Major clean-up required.</dd></dl>
<p>Copyright of the Sahana Software Foundation, sahanafoundation.org </p>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00021">21</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a77315bb8fe509b53275f3960f9310cca"></a><!-- doxytag: member="agPersonForm::configureWidgets" ref="a77315bb8fe509b53275f3960f9310cca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::configureWidgets </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Remove multiple selection from widgets that have been autogenerated with multiple selection but don't actually need it.</p>
<p>Give the list widgets more aesthetically appealing and descriptive labels.</p>
<p>Narrow down the options for select lists by using app_display. Lots of repetetive code, could be moved to function.</p>
</p>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00035">35</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a528c98289c17fb6dc0beb6eef4c94734"></a><!-- doxytag: member="agPersonForm::doSave" ref="a528c98289c17fb6dc0beb6eef4c94734" args="($con=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::doSave </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>con</em> = <code>NULL</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is here to override BaseagPersonForm's <a class="el" href="classagPersonForm.html#a528c98289c17fb6dc0beb6eef4c94734" title="This function is here to override BaseagPersonForm&#39;s doSave() method.">doSave()</a> method. </p>
<p>This is necessary to remove some of the save...List() functions that Symfony autogenerates for many-to-many relations. The relations are more complex than Symfony is able to auto-determine, and calling the save...List() methods will often cause an error on save. The only lists needed are below.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDoctrine__Connection.html">Doctrine_Connection</a></em>&nbsp;</td><td>$con </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l01129">1129</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a60074f9ee2d57cd064dbb1a184a8364b"></a><!-- doxytag: member="agPersonForm::embedAddressForm" ref="a60074f9ee2d57cd064dbb1a184a8364b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::embedAddressForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function sets up address forms. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>refactor this function similarly to <a class="el" href="classagPersonForm.html#ad957bc3175b7c605e02f16aa5ffe6dc5" title="This function sets up the embedded agEmbeddedAgPersonNameForms, one for each agPersonNameType...">embedNameForm()</a> and <a class="el" href="classagPersonForm.html#aa632fbf4f9c2566f647a17b0ec66da6a" title="This block sets up the embedded agEmbeddedAgEmailContactForms, one for each agEmailContactType...">embedEmailForm()</a>. </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>this works fine for now, since we only have one address format, but should be refactored to create a new array from values in the <a class="el" href="classagAddressFormat.html">agAddressFormat</a> table for each address_standard_id in that table. </dd></dl>
</p>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00395">395</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5687043d22de5dec39855b928b976ece"></a><!-- doxytag: member="agPersonForm::embedDateOfBirthForm" ref="a5687043d22de5dec39855b928b976ece" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::embedDateOfBirthForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function sets up the date of birth form. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>refactor this function similarly to <a class="el" href="classagPersonForm.html#ad957bc3175b7c605e02f16aa5ffe6dc5" title="This function sets up the embedded agEmbeddedAgPersonNameForms, one for each agPersonNameType...">embedNameForm()</a> and <a class="el" href="classagPersonForm.html#aa632fbf4f9c2566f647a17b0ec66da6a" title="This block sets up the embedded agEmbeddedAgEmailContactForms, one for each agEmailContactType...">embedEmailForm()</a>. Get rid of default use. </dd></dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00159">159</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa632fbf4f9c2566f647a17b0ec66da6a"></a><!-- doxytag: member="agPersonForm::embedEmailForm" ref="aa632fbf4f9c2566f647a17b0ec66da6a" args="($contactContainer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::embedEmailForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>contactContainer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This block sets up the embedded agEmbeddedAgEmailContactForms, one for each <a class="el" href="classagEmailContactType.html">agEmailContactType</a>, populated with the <a class="el" href="classagPersonName.html" title="Agasti Sudo User Class.">agPersonName</a> that corresponds to the current <a class="el" href="classagPerson.html" title="Extends the person object for various purposes.">agPerson</a> and <a class="el" href="classagEmailContactType.html">agEmailContactType</a> (if it exists). </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>make a new formatter for these forms to use and set it up, so we don't need to set label to FALSE. </dd></dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00328">328</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad0a82f2ff82a89e005c8197243fecc36"></a><!-- doxytag: member="agPersonForm::embedLanguageForm" ref="ad0a82f2ff82a89e005c8197243fecc36" args="($primaryContainer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::embedLanguageForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primaryContainer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function sets up language forms using <a class="el" href="classagEmbeddedAgPersonMjAgLanguageForm.html" title="agEmbeddedAgPersonMjAgLanguageForm.">agEmbeddedAgPersonMjAgLanguageForm</a> and <a class="el" href="classagEmbeddedAgPersonLanguageCompetencyForm.html" title="agEmbeddedAgPersonLanguageCompetencyForm">agEmbeddedAgPersonLanguageCompetencyForm</a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000018">Todo:</a></b></dt><dd>refactor this function similarly to <a class="el" href="classagPersonForm.html#ad957bc3175b7c605e02f16aa5ffe6dc5" title="This function sets up the embedded agEmbeddedAgPersonNameForms, one for each agPersonNameType...">embedNameForm()</a> and <a class="el" href="classagPersonForm.html#aa632fbf4f9c2566f647a17b0ec66da6a" title="This block sets up the embedded agEmbeddedAgEmailContactForms, one for each agEmailContactType...">embedEmailForm()</a>. </dd></dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00173">173</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4f8b185f0d991748395e9844343e3884"></a><!-- doxytag: member="agPersonForm::embedPhoneForm" ref="a4f8b185f0d991748395e9844343e3884" args="($contactContainer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::embedPhoneForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>contactContainer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function sets up the embedded agEmbeddedAgPhoneContactForms, one for each <a class="el" href="classagPhoneContactType.html">agPhoneContactType</a>, populated with the <a class="el" href="classagPersonName.html" title="Agasti Sudo User Class.">agPersonName</a> that corresponds to the current <a class="el" href="classagPerson.html" title="Extends the person object for various purposes.">agPerson</a> and <a class="el" href="classagPhoneContactType.html">agPhoneContactType</a> (if it exists). </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>refactor this function similarly to <a class="el" href="classagPersonForm.html#ad957bc3175b7c605e02f16aa5ffe6dc5" title="This function sets up the embedded agEmbeddedAgPersonNameForms, one for each agPersonNameType...">embedNameForm()</a> and <a class="el" href="classagPersonForm.html#aa632fbf4f9c2566f647a17b0ec66da6a" title="This block sets up the embedded agEmbeddedAgEmailContactForms, one for each agEmailContactType...">embedEmailForm()</a>. </dd></dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00362">362</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a92a22e912a1e8bc4eafb64e4effc7b13"></a><!-- doxytag: member="agPersonForm::saveDateOfBirthForm" ref="a92a22e912a1e8bc4eafb64e4effc7b13" args="($form)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::saveDateOfBirthForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves data in the embedded date of birth form. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classagEmbeddedPersonDateOfBirthForm.html" title="Extends agPersonDateOfBirthForm and return date of birth information.">agEmbeddedPersonDateOfBirthForm</a></em>&nbsp;</td><td>$form</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000023">Todo:</a></b></dt><dd>: The '0000-00-00' below is pretty hackish and should be fixed. It prevents a DB error for a field that should not be NULL formValuesAreBlank() or something similar should really be used, in updateObject, to catch this earlier and unset. </dd></dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00588">588</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa4eb3e94add3f807ebcef8018084b373"></a><!-- doxytag: member="agPersonForm::saveEmailForm" ref="aa4eb3e94add3f807ebcef8018084b373" args="($key, $form, $values)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::saveEmailForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>values</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>* ************************************************************************** Saves data in an embedded email form. </p>
<p>*************************************************************************** </p>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00685">685</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="afa8d5056e38f33339839f812b4020cee"></a><!-- doxytag: member="agPersonForm::saveEmbeddedForms" ref="afa8d5056e38f33339839f812b4020cee" args="($con=NULL, $forms=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::saveEmbeddedForms </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>con</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>forms</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Date of Birth</p>
<p>Name</p>
<p>Email</p>
<p>Phone This is slightly more complex than name or email. Phone values need to be formatted first, as the DB holds them in 2125551212 form, but users will input in (212) 555-1212 form (or 212.555.1212, etc.). Because the values will always be processed, the form's object will always be seen as modified. That's the purpose of calling state(Doctrine_Record::STATE_CLEAN) on the object. After that, it will return unmodified. The phone number stored in the $values array is also reformatted to be DB friendly.</p>
<p>Address</p>
<p>Save the address forms.</p>
<p>Language</p>
<p>The saveLanguageForm() function is in need of refactoring, which will most likely necessitate some changes here as well</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>The if() below needs to be removed/replaced. Right now it is preventing and invalid error on some of the staff specific forms from <a class="el" href="classPluginagStaffPersonForm.html">PluginagStaffPersonForm</a>. </dd></dl>
</p>

<p>Reimplemented in <a class="el" href="classPluginagStaffPersonForm.html#a49aef23c5e8f6d0a131026dd0d62d1cd">PluginagStaffPersonForm</a>.</p>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l01017">1017</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a963bdc8206a081c0e879c21d9926718a"></a><!-- doxytag: member="agPersonForm::saveNameForm" ref="a963bdc8206a081c0e879c21d9926718a" args="($key, $form, $values)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agPersonForm::saveNameForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>values</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves data in an embedded name form. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$key the key of the <a class="el" href="classagEmbeddedAgPersonNameForm.html" title="A form the extends agPersonName form for name entry when creating an agPerson.">agEmbeddedAgPersonNameForm</a> being acted on. It should correspond to the name_type value that is linked to the name and person in the <a class="el" href="classagPersonMjAgPersonName.html">agPersonMjAgPersonName</a> table.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>agEmbeddedAgPersonNameForm()</em>&nbsp;</td><td>the name form being saved</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$values incoming values from the form, retrieved in <a class="el" href="classagPersonForm.html#afa8d5056e38f33339839f812b4020cee">saveEmbeddedForms()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html#l00613">613</a> of file <a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>apps/frontend/lib/form/doctrine/<a class="el" href="apps_2frontend_2lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a></li>
<li>lib/form/doctrine/<a class="el" href="lib_2form_2doctrine_2agPersonForm_8class_8php_source.html">agPersonForm.class.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
