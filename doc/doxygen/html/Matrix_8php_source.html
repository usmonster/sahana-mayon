<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: plugins/sfPhpExcelPlugin/lib/PHPExcel/PHPExcel/Shared/JAMA/Matrix.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>plugins/sfPhpExcelPlugin/lib/PHPExcel/PHPExcel/Shared/JAMA/Matrix.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00006"></a>00006 define(<span class="stringliteral">&#39;RAND_MAX&#39;</span>, mt_getrandmax());
<a name="l00007"></a>00007 define(<span class="stringliteral">&#39;RAND_MIN&#39;</span>, 0);
<a name="l00008"></a>00008 
<a name="l00010"></a>00010 <span class="keywordflow">if</span> (!defined(<span class="stringliteral">&#39;PHPEXCEL_ROOT&#39;</span>)) {
<a name="l00014"></a>00014   define(<span class="stringliteral">&#39;PHPEXCEL_ROOT&#39;</span>, dirname(__FILE__) . <span class="stringliteral">&#39;/../../../&#39;</span>);
<a name="l00015"></a>00015   require(PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Autoloader.php&#39;</span>);
<a name="l00016"></a>00016   PHPExcel_Autoloader::Register();
<a name="l00017"></a>00017   <a class="code" href="classPHPExcel__Shared__ZipStreamWrapper.html#a8bcd72796e5e52d695b7678fb7a3a8b2" title="Register wrapper.">PHPExcel_Shared_ZipStreamWrapper::register</a>();
<a name="l00018"></a>00018   <span class="comment">// check mbstring.func_overload</span>
<a name="l00019"></a>00019   <span class="keywordflow">if</span> (ini_get(<span class="stringliteral">&#39;mbstring.func_overload&#39;</span>) &amp; 2) {
<a name="l00020"></a>00020     <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&#39;Multibyte function overloading in PHP must be disabled for string functions (2).&#39;</span>);
<a name="l00021"></a>00021   }
<a name="l00022"></a>00022 }
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/utils/Error.php&#39;</span>;
<a name="l00025"></a>00025 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/utils/Maths.php&#39;</span>;
<a name="l00026"></a>00026 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/CholeskyDecomposition.php&#39;</span>;
<a name="l00027"></a>00027 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/LUDecomposition.php&#39;</span>;
<a name="l00028"></a>00028 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/QRDecomposition.php&#39;</span>;
<a name="l00029"></a>00029 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/EigenvalueDecomposition.php&#39;</span>;
<a name="l00030"></a>00030 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/JAMA/SingularValueDecomposition.php&#39;</span>;
<a name="l00031"></a>00031 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Shared/String.php&#39;</span>;
<a name="l00032"></a>00032 require_once PHPEXCEL_ROOT . <span class="stringliteral">&#39;PHPExcel/Calculation/Functions.php&#39;</span>;
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">/*</span>
<a name="l00035"></a>00035 <span class="comment"> *  Matrix class</span>
<a name="l00036"></a>00036 <span class="comment"> *</span>
<a name="l00037"></a>00037 <span class="comment"> *  @author Paul Meagher</span>
<a name="l00038"></a>00038 <span class="comment"> *  @author Michael Bommarito</span>
<a name="l00039"></a>00039 <span class="comment"> *  @author Lukasz Karapuda</span>
<a name="l00040"></a>00040 <span class="comment"> *  @author Bartek Matosiuk</span>
<a name="l00041"></a>00041 <span class="comment"> *  @version 1.8</span>
<a name="l00042"></a>00042 <span class="comment"> *  @license PHP v3.0</span>
<a name="l00043"></a>00043 <span class="comment"> *  @see http://math.nist.gov/javanumerics/jama/</span>
<a name="l00044"></a>00044 <span class="comment"> */</span>
<a name="l00045"></a><a class="code" href="classMatrix.html">00045</a> <span class="keyword">class </span><a class="code" href="classMatrix.html">Matrix</a> {
<a name="l00046"></a>00046 
<a name="l00053"></a>00053   <span class="keyword">public</span> $A = array();
<a name="l00054"></a>00054 
<a name="l00061"></a>00061   <span class="keyword">private</span> $m;
<a name="l00062"></a>00062 
<a name="l00069"></a>00069   <span class="keyword">private</span> $n;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00077"></a><a class="code" href="classMatrix.html#a3ef43e14319e6fb2b4b85c28fc344291">00077</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a3ef43e14319e6fb2b4b85c28fc344291" title="Polymorphic constructor.">__construct</a>() {
<a name="l00078"></a>00078     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00079"></a>00079       $args = func_get_args();
<a name="l00080"></a>00080       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00081"></a>00081 
<a name="l00082"></a>00082       <span class="keywordflow">switch</span>($match) {
<a name="l00083"></a>00083         <span class="comment">//Square matrix - n x n</span>
<a name="l00084"></a>00084         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer&#39;</span>:
<a name="l00085"></a>00085             $this-&gt;m = $args[0];
<a name="l00086"></a>00086             $this-&gt;n = $args[0];
<a name="l00087"></a>00087             $this-&gt;A = array_fill(0, $this-&gt;m, array_fill(0, $this-&gt;n, 0));
<a name="l00088"></a>00088             <span class="keywordflow">break</span>;
<a name="l00089"></a>00089         <span class="comment">//Rectangular matrix - m x n</span>
<a name="l00090"></a>00090         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer&#39;</span>:
<a name="l00091"></a>00091             $this-&gt;m = $args[0];
<a name="l00092"></a>00092             $this-&gt;n = $args[1];
<a name="l00093"></a>00093             $this-&gt;A = array_fill(0, $this-&gt;m, array_fill(0, $this-&gt;n, 0));
<a name="l00094"></a>00094             <span class="keywordflow">break</span>;
<a name="l00095"></a>00095         <span class="comment">//Rectangular matrix constant-filled - m x n filled with c</span>
<a name="l00096"></a>00096         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer,integer&#39;</span>:
<a name="l00097"></a>00097             $this-&gt;m = $args[0];
<a name="l00098"></a>00098             $this-&gt;n = $args[1];
<a name="l00099"></a>00099             $this-&gt;A = array_fill(0, $this-&gt;m, array_fill(0, $this-&gt;n, $args[2]));
<a name="l00100"></a>00100             <span class="keywordflow">break</span>;
<a name="l00101"></a>00101         <span class="comment">//Rectangular matrix constant-filled - m x n filled with c</span>
<a name="l00102"></a>00102         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer,double&#39;</span>:
<a name="l00103"></a>00103             $this-&gt;m = $args[0];
<a name="l00104"></a>00104             $this-&gt;n = $args[1];
<a name="l00105"></a>00105             $this-&gt;A = array_fill(0, $this-&gt;m, array_fill(0, $this-&gt;n, $args[2]));
<a name="l00106"></a>00106             <span class="keywordflow">break</span>;
<a name="l00107"></a>00107         <span class="comment">//Rectangular matrix - m x n initialized from 2D array</span>
<a name="l00108"></a>00108         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00109"></a>00109             $this-&gt;m = count($args[0]);
<a name="l00110"></a>00110             $this-&gt;n = count($args[0][0]);
<a name="l00111"></a>00111             $this-&gt;A = $args[0];
<a name="l00112"></a>00112             <span class="keywordflow">break</span>;
<a name="l00113"></a>00113         <span class="comment">//Rectangular matrix - m x n initialized from 2D array</span>
<a name="l00114"></a>00114         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array,integer,integer&#39;</span>:
<a name="l00115"></a>00115             $this-&gt;m = $args[1];
<a name="l00116"></a>00116             $this-&gt;n = $args[2];
<a name="l00117"></a>00117             $this-&gt;A = $args[0];
<a name="l00118"></a>00118             <span class="keywordflow">break</span>;
<a name="l00119"></a>00119         <span class="comment">//Rectangular matrix - m x n initialized from packed array</span>
<a name="l00120"></a>00120         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array,integer&#39;</span>:
<a name="l00121"></a>00121             $this-&gt;m = $args[1];
<a name="l00122"></a>00122             <span class="keywordflow">if</span> ($this-&gt;m != 0) {
<a name="l00123"></a>00123               $this-&gt;n = count($args[0]) / $this-&gt;m;
<a name="l00124"></a>00124             } <span class="keywordflow">else</span> {
<a name="l00125"></a>00125               $this-&gt;n = 0;
<a name="l00126"></a>00126             }
<a name="l00127"></a>00127             <span class="keywordflow">if</span> (($this-&gt;m * $this-&gt;n) == count($args[0])) {
<a name="l00128"></a>00128               <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00129"></a>00129                 <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00130"></a>00130                   $this-&gt;A[$i][$j] = $args[0][$i + $j * $this-&gt;m];
<a name="l00131"></a>00131                 }
<a name="l00132"></a>00132               }
<a name="l00133"></a>00133             } <span class="keywordflow">else</span> {
<a name="l00134"></a>00134               <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArrayLengthException));
<a name="l00135"></a>00135             }
<a name="l00136"></a>00136             <span class="keywordflow">break</span>;
<a name="l00137"></a>00137         <span class="keywordflow">default</span>:
<a name="l00138"></a>00138             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00139"></a>00139             <span class="keywordflow">break</span>;
<a name="l00140"></a>00140       }
<a name="l00141"></a>00141     } <span class="keywordflow">else</span> {
<a name="l00142"></a>00142       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00143"></a>00143     }
<a name="l00144"></a>00144   } <span class="comment">//  function __construct()</span>
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 
<a name="l00152"></a><a class="code" href="classMatrix.html#a466041274c9f82afa8ecc76e433b88ec">00152</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a466041274c9f82afa8ecc76e433b88ec" title="getArray">getArray</a>() {
<a name="l00153"></a>00153     <span class="keywordflow">return</span> $this-&gt;A;
<a name="l00154"></a>00154   } <span class="comment">//  function getArray()</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00162"></a><a class="code" href="classMatrix.html#ab10e9d526f2e612b4328328dfb59c792">00162</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ab10e9d526f2e612b4328328dfb59c792" title="getArrayCopy">getArrayCopy</a>() {
<a name="l00163"></a>00163     <span class="keywordflow">return</span> $this-&gt;A;
<a name="l00164"></a>00164   } <span class="comment">//  function getArrayCopy()</span>
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 
<a name="l00174"></a><a class="code" href="classMatrix.html#af912298c37da3dddf9a589824d15729f">00174</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#af912298c37da3dddf9a589824d15729f" title="constructWithCopy Construct a matrix from a copy of a 2-D array.">constructWithCopy</a>($A) {
<a name="l00175"></a>00175     $this-&gt;m = count($A);
<a name="l00176"></a>00176     $this-&gt;n = count($A[0]);
<a name="l00177"></a>00177     $newCopyMatrix = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($this-&gt;m, $this-&gt;n);
<a name="l00178"></a>00178     <span class="keywordflow">for</span> ($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00179"></a>00179       <span class="keywordflow">if</span> (count($A[$i]) != $this-&gt;n) {
<a name="l00180"></a>00180         <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(RowLengthException));
<a name="l00181"></a>00181       }
<a name="l00182"></a>00182       <span class="keywordflow">for</span> ($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00183"></a>00183         $newCopyMatrix-&gt;A[$i][$j] = $A[$i][$j];
<a name="l00184"></a>00184       }
<a name="l00185"></a>00185     }
<a name="l00186"></a>00186     <span class="keywordflow">return</span> $newCopyMatrix;
<a name="l00187"></a>00187   } <span class="comment">//  function constructWithCopy()</span>
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00196"></a><a class="code" href="classMatrix.html#a872e6f3e1f1ef55bc7164ed53c78446c">00196</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a872e6f3e1f1ef55bc7164ed53c78446c" title="getColumnPackedCopy">getColumnPackedCopy</a>() {
<a name="l00197"></a>00197     $P = array();
<a name="l00198"></a>00198     <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00199"></a>00199       <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00200"></a>00200         array_push($P, $this-&gt;A[$j][$i]);
<a name="l00201"></a>00201       }
<a name="l00202"></a>00202     }
<a name="l00203"></a>00203     <span class="keywordflow">return</span> $P;
<a name="l00204"></a>00204   } <span class="comment">//  function getColumnPackedCopy()</span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 
<a name="l00213"></a><a class="code" href="classMatrix.html#a2ded29b89e7ce61d1fd698e6398a0cd6">00213</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a2ded29b89e7ce61d1fd698e6398a0cd6" title="getRowPackedCopy">getRowPackedCopy</a>() {
<a name="l00214"></a>00214     $P = array();
<a name="l00215"></a>00215     <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00216"></a>00216       <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00217"></a>00217         array_push($P, $this-&gt;A[$i][$j]);
<a name="l00218"></a>00218       }
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220     <span class="keywordflow">return</span> $P;
<a name="l00221"></a>00221   } <span class="comment">//  function getRowPackedCopy()</span>
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00229"></a><a class="code" href="classMatrix.html#ad9972f15106464f15654b506da0522e9">00229</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ad9972f15106464f15654b506da0522e9" title="getRowDimension">getRowDimension</a>() {
<a name="l00230"></a>00230     <span class="keywordflow">return</span> $this-&gt;m;
<a name="l00231"></a>00231   } <span class="comment">//  function getRowDimension()</span>
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00239"></a><a class="code" href="classMatrix.html#a2869a6c70d318b59dc6a96ea7bb8a490">00239</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a2869a6c70d318b59dc6a96ea7bb8a490" title="getColumnDimension">getColumnDimension</a>() {
<a name="l00240"></a>00240     <span class="keywordflow">return</span> $this-&gt;n;
<a name="l00241"></a>00241   } <span class="comment">//  function getColumnDimension()</span>
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 
<a name="l00252"></a><a class="code" href="classMatrix.html#aeed586af65a83b7ff254c922f504cda5">00252</a>   <span class="keyword">public</span> function <span class="keyword">get</span>($i = null, $j = null) {
<a name="l00253"></a>00253     <span class="keywordflow">return</span> $this-&gt;A[$i][$j];
<a name="l00254"></a>00254   } <span class="comment">//  function get()</span>
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 
<a name="l00267"></a><a class="code" href="classMatrix.html#a66a061fc7f6633959f82ee2329f9d741">00267</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a66a061fc7f6633959f82ee2329f9d741" title="getMatrix">getMatrix</a>() {
<a name="l00268"></a>00268     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00269"></a>00269       $args = func_get_args();
<a name="l00270"></a>00270       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00271"></a>00271 
<a name="l00272"></a>00272       <span class="keywordflow">switch</span>($match) {
<a name="l00273"></a>00273         <span class="comment">//A($i0...; $j0...)</span>
<a name="l00274"></a>00274         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer&#39;</span>:
<a name="l00275"></a>00275             list($i0, $j0) = $args;
<a name="l00276"></a>00276             <span class="keywordflow">if</span> ($i0 &gt;= 0) { $m = $this-&gt;m - $i0; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00277"></a>00277             <span class="keywordflow">if</span> ($j0 &gt;= 0) { $n = $this-&gt;n - $j0; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00278"></a>00278             $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n);
<a name="l00279"></a>00279             <span class="keywordflow">for</span>($i = $i0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00280"></a>00280               <span class="keywordflow">for</span>($j = $j0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00281"></a>00281                 $R-&gt;set($i, $j, $this-&gt;A[$i][$j]);
<a name="l00282"></a>00282               }
<a name="l00283"></a>00283             }
<a name="l00284"></a>00284             <span class="keywordflow">return</span> $R;
<a name="l00285"></a>00285             <span class="keywordflow">break</span>;
<a name="l00286"></a>00286         <span class="comment">//A($i0...$iF; $j0...$jF)</span>
<a name="l00287"></a>00287         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer,integer,integer&#39;</span>:
<a name="l00288"></a>00288             list($i0, $iF, $j0, $jF) = $args;
<a name="l00289"></a>00289             <span class="keywordflow">if</span> (($iF &gt; $i0) &amp;&amp; ($this-&gt;m &gt;= $iF) &amp;&amp; ($i0 &gt;= 0)) { $m = $iF - $i0; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00290"></a>00290             <span class="keywordflow">if</span> (($jF &gt; $j0) &amp;&amp; ($this-&gt;n &gt;= $jF) &amp;&amp; ($j0 &gt;= 0)) { $n = $jF - $j0; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00291"></a>00291             $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m+1, $n+1);
<a name="l00292"></a>00292             <span class="keywordflow">for</span>($i = $i0; $i &lt;= $iF; ++$i) {
<a name="l00293"></a>00293               <span class="keywordflow">for</span>($j = $j0; $j &lt;= $jF; ++$j) {
<a name="l00294"></a>00294                 $R-&gt;set($i - $i0, $j - $j0, $this-&gt;A[$i][$j]);
<a name="l00295"></a>00295               }
<a name="l00296"></a>00296             }
<a name="l00297"></a>00297             <span class="keywordflow">return</span> $R;
<a name="l00298"></a>00298             <span class="keywordflow">break</span>;
<a name="l00299"></a>00299         <span class="comment">//$R = array of row indices; $C = array of column indices</span>
<a name="l00300"></a>00300         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array,array&#39;</span>:
<a name="l00301"></a>00301             list($RL, $CL) = $args;
<a name="l00302"></a>00302             <span class="keywordflow">if</span> (count($RL) &gt; 0) { $m = count($RL); } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00303"></a>00303             <span class="keywordflow">if</span> (count($CL) &gt; 0) { $n = count($CL); } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00304"></a>00304             $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n);
<a name="l00305"></a>00305             <span class="keywordflow">for</span>($i = 0; $i &lt; $m; ++$i) {
<a name="l00306"></a>00306               <span class="keywordflow">for</span>($j = 0; $j &lt; $n; ++$j) {
<a name="l00307"></a>00307                 $R-&gt;set($i - $i0, $j - $j0, $this-&gt;A[$RL[$i]][$CL[$j]]);
<a name="l00308"></a>00308               }
<a name="l00309"></a>00309             }
<a name="l00310"></a>00310             <span class="keywordflow">return</span> $R;
<a name="l00311"></a>00311             <span class="keywordflow">break</span>;
<a name="l00312"></a>00312         <span class="comment">//$RL = array of row indices; $CL = array of column indices</span>
<a name="l00313"></a>00313         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array,array&#39;</span>:
<a name="l00314"></a>00314             list($RL, $CL) = $args;
<a name="l00315"></a>00315             <span class="keywordflow">if</span> (count($RL) &gt; 0) { $m = count($RL); } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00316"></a>00316             <span class="keywordflow">if</span> (count($CL) &gt; 0) { $n = count($CL); } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00317"></a>00317             $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n);
<a name="l00318"></a>00318             <span class="keywordflow">for</span>($i = 0; $i &lt; $m; ++$i) {
<a name="l00319"></a>00319               <span class="keywordflow">for</span>($j = 0; $j &lt; $n; ++$j) {
<a name="l00320"></a>00320                 $R-&gt;set($i, $j, $this-&gt;A[$RL[$i]][$CL[$j]]);
<a name="l00321"></a>00321               }
<a name="l00322"></a>00322             }
<a name="l00323"></a>00323             <span class="keywordflow">return</span> $R;
<a name="l00324"></a>00324             <span class="keywordflow">break</span>;
<a name="l00325"></a>00325         <span class="comment">//A($i0...$iF); $CL = array of column indices</span>
<a name="l00326"></a>00326         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer,array&#39;</span>:
<a name="l00327"></a>00327             list($i0, $iF, $CL) = $args;
<a name="l00328"></a>00328             <span class="keywordflow">if</span> (($iF &gt; $i0) &amp;&amp; ($this-&gt;m &gt;= $iF) &amp;&amp; ($i0 &gt;= 0)) { $m = $iF - $i0; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00329"></a>00329             <span class="keywordflow">if</span> (count($CL) &gt; 0) { $n = count($CL); } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00330"></a>00330             $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n);
<a name="l00331"></a>00331             <span class="keywordflow">for</span>($i = $i0; $i &lt; $iF; ++$i) {
<a name="l00332"></a>00332               <span class="keywordflow">for</span>($j = 0; $j &lt; $n; ++$j) {
<a name="l00333"></a>00333                 $R-&gt;set($i - $i0, $j, $this-&gt;A[$RL[$i]][$j]);
<a name="l00334"></a>00334               }
<a name="l00335"></a>00335             }
<a name="l00336"></a>00336             <span class="keywordflow">return</span> $R;
<a name="l00337"></a>00337             <span class="keywordflow">break</span>;
<a name="l00338"></a>00338         <span class="comment">//$RL = array of row indices</span>
<a name="l00339"></a>00339         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array,integer,integer&#39;</span>:
<a name="l00340"></a>00340             list($RL, $j0, $jF) = $args;
<a name="l00341"></a>00341             <span class="keywordflow">if</span> (count($RL) &gt; 0) { $m = count($RL); } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00342"></a>00342             <span class="keywordflow">if</span> (($jF &gt;= $j0) &amp;&amp; ($this-&gt;n &gt;= $jF) &amp;&amp; ($j0 &gt;= 0)) { $n = $jF - $j0; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00343"></a>00343             $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n+1);
<a name="l00344"></a>00344             <span class="keywordflow">for</span>($i = 0; $i &lt; $m; ++$i) {
<a name="l00345"></a>00345               <span class="keywordflow">for</span>($j = $j0; $j &lt;= $jF; ++$j) {
<a name="l00346"></a>00346                 $R-&gt;set($i, $j - $j0, $this-&gt;A[$RL[$i]][$j]);
<a name="l00347"></a>00347               }
<a name="l00348"></a>00348             }
<a name="l00349"></a>00349             <span class="keywordflow">return</span> $R;
<a name="l00350"></a>00350             <span class="keywordflow">break</span>;
<a name="l00351"></a>00351         <span class="keywordflow">default</span>:
<a name="l00352"></a>00352             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00353"></a>00353             <span class="keywordflow">break</span>;
<a name="l00354"></a>00354       }
<a name="l00355"></a>00355     } <span class="keywordflow">else</span> {
<a name="l00356"></a>00356       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358   } <span class="comment">//  function getMatrix()</span>
<a name="l00359"></a>00359 
<a name="l00360"></a>00360 
<a name="l00371"></a><a class="code" href="classMatrix.html#ae291039da6ac15b47572ce655ac21934">00371</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ae291039da6ac15b47572ce655ac21934" title="setMatrix">setMatrix</a>() {
<a name="l00372"></a>00372     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00373"></a>00373       $args = func_get_args();
<a name="l00374"></a>00374       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00375"></a>00375 
<a name="l00376"></a>00376       <span class="keywordflow">switch</span>($match) {
<a name="l00377"></a>00377         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer,object&#39;</span>:
<a name="l00378"></a>00378             <span class="keywordflow">if</span> ($args[2] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[2]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00379"></a>00379             <span class="keywordflow">if</span> (($args[0] + $M-&gt;m) &lt;= $this-&gt;m) { $i0 = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00380"></a>00380             <span class="keywordflow">if</span> (($args[1] + $M-&gt;n) &lt;= $this-&gt;n) { $j0 = $args[1]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00381"></a>00381             <span class="keywordflow">for</span>($i = $i0; $i &lt; $i0 + $M-&gt;m; ++$i) {
<a name="l00382"></a>00382               <span class="keywordflow">for</span>($j = $j0; $j &lt; $j0 + $M-&gt;n; ++$j) {
<a name="l00383"></a>00383                 $this-&gt;A[$i][$j] = $M-&gt;get($i - $i0, $j - $j0);
<a name="l00384"></a>00384               }
<a name="l00385"></a>00385             }
<a name="l00386"></a>00386             <span class="keywordflow">break</span>;
<a name="l00387"></a>00387         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer,integer,array&#39;</span>:
<a name="l00388"></a>00388             $M = <span class="keyword">new</span> Matrix($args[2]);
<a name="l00389"></a>00389             <span class="keywordflow">if</span> (($args[0] + $M-&gt;m) &lt;= $this-&gt;m) { $i0 = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00390"></a>00390             <span class="keywordflow">if</span> (($args[1] + $M-&gt;n) &lt;= $this-&gt;n) { $j0 = $args[1]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentBoundsException)); }
<a name="l00391"></a>00391             <span class="keywordflow">for</span>($i = $i0; $i &lt; $i0 + $M-&gt;m; ++$i) {
<a name="l00392"></a>00392               <span class="keywordflow">for</span>($j = $j0; $j &lt; $j0 + $M-&gt;n; ++$j) {
<a name="l00393"></a>00393                 $this-&gt;A[$i][$j] = $M-&gt;get($i - $i0, $j - $j0);
<a name="l00394"></a>00394               }
<a name="l00395"></a>00395             }
<a name="l00396"></a>00396             <span class="keywordflow">break</span>;
<a name="l00397"></a>00397         <span class="keywordflow">default</span>:
<a name="l00398"></a>00398             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00399"></a>00399             <span class="keywordflow">break</span>;
<a name="l00400"></a>00400       }
<a name="l00401"></a>00401     } <span class="keywordflow">else</span> {
<a name="l00402"></a>00402       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404   } <span class="comment">//  function setMatrix()</span>
<a name="l00405"></a>00405 
<a name="l00406"></a>00406 
<a name="l00414"></a><a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917">00414</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($B = null) {
<a name="l00415"></a>00415     <span class="keywordflow">if</span> ($B instanceof <a class="code" href="classMatrix.html">Matrix</a>) {
<a name="l00416"></a>00416       <span class="keywordflow">if</span> (($this-&gt;m == $B-&gt;getRowDimension()) &amp;&amp; ($this-&gt;n == $B-&gt;getColumnDimension())) {
<a name="l00417"></a>00417         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00418"></a>00418       } <span class="keywordflow">else</span> {
<a name="l00419"></a>00419         <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(MatrixDimensionException));
<a name="l00420"></a>00420       }
<a name="l00421"></a>00421     } <span class="keywordflow">else</span> {
<a name="l00422"></a>00422       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException));
<a name="l00423"></a>00423     }
<a name="l00424"></a>00424   } <span class="comment">//  function checkMatrixDimensions()</span>
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 
<a name="l00437"></a><a class="code" href="classMatrix.html#a47eb30058644af6af0c714dd0b0a8cf6">00437</a>   <span class="keyword">public</span> function <span class="keyword">set</span>($i = null, $j = null, $c = null) {
<a name="l00438"></a>00438     <span class="comment">// Optimized set version just has this</span>
<a name="l00439"></a>00439     $this-&gt;A[$i][$j] = $c;
<a name="l00440"></a>00440     <span class="comment">/*</span>
<a name="l00441"></a>00441 <span class="comment">    if (is_int($i) &amp;&amp; is_int($j) &amp;&amp; is_numeric($c)) {</span>
<a name="l00442"></a>00442 <span class="comment">      if (($i &lt; $this-&gt;m) &amp;&amp; ($j &lt; $this-&gt;n)) {</span>
<a name="l00443"></a>00443 <span class="comment">        $this-&gt;A[$i][$j] = $c;</span>
<a name="l00444"></a>00444 <span class="comment">      } else {</span>
<a name="l00445"></a>00445 <span class="comment">        echo &quot;A[$i][$j] = $c&lt;br /&gt;&quot;;</span>
<a name="l00446"></a>00446 <span class="comment">        throw new Exception(JAMAError(ArgumentBoundsException));</span>
<a name="l00447"></a>00447 <span class="comment">      }</span>
<a name="l00448"></a>00448 <span class="comment">    } else {</span>
<a name="l00449"></a>00449 <span class="comment">      throw new Exception(JAMAError(ArgumentTypeException));</span>
<a name="l00450"></a>00450 <span class="comment">    }</span>
<a name="l00451"></a>00451 <span class="comment">    */</span>
<a name="l00452"></a>00452   } <span class="comment">//  function set()</span>
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 
<a name="l00463"></a><a class="code" href="classMatrix.html#a46c423330b1f7864d2c46f7d4621ef06">00463</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a46c423330b1f7864d2c46f7d4621ef06" title="identity">identity</a>($m = null, $n = null) {
<a name="l00464"></a>00464     <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classMatrix.html#ace8709002310b3f2bcbff709bdd5734a" title="diagonal">diagonal</a>($m, $n, 1);
<a name="l00465"></a>00465   } <span class="comment">//  function identity()</span>
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 
<a name="l00477"></a><a class="code" href="classMatrix.html#ace8709002310b3f2bcbff709bdd5734a">00477</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ace8709002310b3f2bcbff709bdd5734a" title="diagonal">diagonal</a>($m = null, $n = null, $c = 1) {
<a name="l00478"></a>00478     $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n);
<a name="l00479"></a>00479     <span class="keywordflow">for</span>($i = 0; $i &lt; $m; ++$i) {
<a name="l00480"></a>00480       $R-&gt;set($i, $i, $c);
<a name="l00481"></a>00481     }
<a name="l00482"></a>00482     <span class="keywordflow">return</span> $R;
<a name="l00483"></a>00483   } <span class="comment">//  function diagonal()</span>
<a name="l00484"></a>00484 
<a name="l00485"></a>00485 
<a name="l00495"></a><a class="code" href="classMatrix.html#a7e01a66189dbadcc94aea7b171071680">00495</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a7e01a66189dbadcc94aea7b171071680" title="filled">filled</a>($m = null, $n = null, $c = 0) {
<a name="l00496"></a>00496     <span class="keywordflow">if</span> (is_int($m) &amp;&amp; is_int($n) &amp;&amp; is_numeric($c)) {
<a name="l00497"></a>00497       $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n, $c);
<a name="l00498"></a>00498       <span class="keywordflow">return</span> $R;
<a name="l00499"></a>00499     } <span class="keywordflow">else</span> {
<a name="l00500"></a>00500       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException));
<a name="l00501"></a>00501     }
<a name="l00502"></a>00502   } <span class="comment">//  function filled()</span>
<a name="l00503"></a>00503 
<a name="l00512"></a><a class="code" href="classMatrix.html#a5945c9ddcd1107d6a21468cfb1b31153">00512</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a5945c9ddcd1107d6a21468cfb1b31153" title="random">random</a>($m = null, $n = null, $a = RAND_MIN, $b = RAND_MAX) {
<a name="l00513"></a>00513     <span class="keywordflow">if</span> (is_int($m) &amp;&amp; is_int($n) &amp;&amp; is_numeric($a) &amp;&amp; is_numeric($b)) {
<a name="l00514"></a>00514       $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($m, $n);
<a name="l00515"></a>00515       <span class="keywordflow">for</span>($i = 0; $i &lt; $m; ++$i) {
<a name="l00516"></a>00516         <span class="keywordflow">for</span>($j = 0; $j &lt; $n; ++$j) {
<a name="l00517"></a>00517           $R-&gt;set($i, $j, mt_rand($a, $b));
<a name="l00518"></a>00518         }
<a name="l00519"></a>00519       }
<a name="l00520"></a>00520       <span class="keywordflow">return</span> $R;
<a name="l00521"></a>00521     } <span class="keywordflow">else</span> {
<a name="l00522"></a>00522       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException));
<a name="l00523"></a>00523     }
<a name="l00524"></a>00524   } <span class="comment">//  function random()</span>
<a name="l00525"></a>00525 
<a name="l00526"></a>00526 
<a name="l00533"></a><a class="code" href="classMatrix.html#ac5f946327e48f3cc043b9c2be72be25e">00533</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ac5f946327e48f3cc043b9c2be72be25e" title="packed">packed</a>() {
<a name="l00534"></a>00534     <span class="keywordflow">return</span> $this-&gt;getRowPacked();
<a name="l00535"></a>00535   } <span class="comment">//  function packed()</span>
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 
<a name="l00546"></a><a class="code" href="classMatrix.html#af777ec62b2b4b1b24375f7b4ec8e0b22">00546</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#af777ec62b2b4b1b24375f7b4ec8e0b22" title="getMatrixByRow">getMatrixByRow</a>($i0 = null, $iF = null) {
<a name="l00547"></a>00547     <span class="keywordflow">if</span> (is_int($i0)) {
<a name="l00548"></a>00548       <span class="keywordflow">if</span> (is_int($iF)) {
<a name="l00549"></a>00549         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classMatrix.html#a66a061fc7f6633959f82ee2329f9d741" title="getMatrix">getMatrix</a>($i0, 0, $iF + 1, $this-&gt;n);
<a name="l00550"></a>00550       } <span class="keywordflow">else</span> {
<a name="l00551"></a>00551         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classMatrix.html#a66a061fc7f6633959f82ee2329f9d741" title="getMatrix">getMatrix</a>($i0, 0, $i0 + 1, $this-&gt;n);
<a name="l00552"></a>00552       }
<a name="l00553"></a>00553     } <span class="keywordflow">else</span> {
<a name="l00554"></a>00554       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException));
<a name="l00555"></a>00555     }
<a name="l00556"></a>00556   } <span class="comment">//  function getMatrixByRow()</span>
<a name="l00557"></a>00557 
<a name="l00558"></a>00558 
<a name="l00567"></a><a class="code" href="classMatrix.html#a134091f2cccd7025743ab2a96ba23dbb">00567</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a134091f2cccd7025743ab2a96ba23dbb" title="getMatrixByCol">getMatrixByCol</a>($j0 = null, $jF = null) {
<a name="l00568"></a>00568     <span class="keywordflow">if</span> (is_int($j0)) {
<a name="l00569"></a>00569       <span class="keywordflow">if</span> (is_int($jF)) {
<a name="l00570"></a>00570         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classMatrix.html#a66a061fc7f6633959f82ee2329f9d741" title="getMatrix">getMatrix</a>(0, $j0, $this-&gt;m, $jF + 1);
<a name="l00571"></a>00571       } <span class="keywordflow">else</span> {
<a name="l00572"></a>00572         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classMatrix.html#a66a061fc7f6633959f82ee2329f9d741" title="getMatrix">getMatrix</a>(0, $j0, $this-&gt;m, $j0 + 1);
<a name="l00573"></a>00573       }
<a name="l00574"></a>00574     } <span class="keywordflow">else</span> {
<a name="l00575"></a>00575       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException));
<a name="l00576"></a>00576     }
<a name="l00577"></a>00577   } <span class="comment">//  function getMatrixByCol()</span>
<a name="l00578"></a>00578 
<a name="l00579"></a>00579 
<a name="l00586"></a><a class="code" href="classMatrix.html#a9666e1891a0c9be30983ce850bed7627">00586</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a9666e1891a0c9be30983ce850bed7627" title="transpose">transpose</a>() {
<a name="l00587"></a>00587     $R = <span class="keyword">new</span> <a class="code" href="classMatrix.html">Matrix</a>($this-&gt;n, $this-&gt;m);
<a name="l00588"></a>00588     <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00589"></a>00589       <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00590"></a>00590         $R-&gt;set($j, $i, $this-&gt;A[$i][$j]);
<a name="l00591"></a>00591       }
<a name="l00592"></a>00592     }
<a name="l00593"></a>00593     <span class="keywordflow">return</span> $R;
<a name="l00594"></a>00594   } <span class="comment">//  function transpose()</span>
<a name="l00595"></a>00595 
<a name="l00596"></a>00596 
<a name="l00603"></a><a class="code" href="classMatrix.html#acd2429ebd6659d717548290e4a8f4e44">00603</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#acd2429ebd6659d717548290e4a8f4e44" title="norm1">norm1</a>() {
<a name="l00604"></a>00604     $r = 0;
<a name="l00605"></a>00605     <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00606"></a>00606       $s = 0;
<a name="l00607"></a>00607       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00608"></a>00608         $s += abs($this-&gt;A[$i][$j]);
<a name="l00609"></a>00609       }
<a name="l00610"></a>00610       $r = ($r &gt; $s) ? $r : $s;
<a name="l00611"></a>00611     }
<a name="l00612"></a>00612     <span class="keywordflow">return</span> $r;
<a name="l00613"></a>00613   } <span class="comment">//  function norm1()</span>
<a name="l00614"></a>00614 
<a name="l00615"></a>00615 
<a name="l00622"></a><a class="code" href="classMatrix.html#a4ce07d8017a9c4aac62e181190f7dbda">00622</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a4ce07d8017a9c4aac62e181190f7dbda" title="norm2">norm2</a>() {
<a name="l00623"></a>00623   } <span class="comment">//  function norm2()</span>
<a name="l00624"></a>00624 
<a name="l00625"></a>00625 
<a name="l00632"></a><a class="code" href="classMatrix.html#a007cb4feb0fc5521ab7693009f5e9149">00632</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a007cb4feb0fc5521ab7693009f5e9149" title="normInf">normInf</a>() {
<a name="l00633"></a>00633     $r = 0;
<a name="l00634"></a>00634     <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00635"></a>00635       $s = 0;
<a name="l00636"></a>00636       <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00637"></a>00637         $s += abs($this-&gt;A[$i][$j]);
<a name="l00638"></a>00638       }
<a name="l00639"></a>00639       $r = ($r &gt; $s) ? $r : $s;
<a name="l00640"></a>00640     }
<a name="l00641"></a>00641     <span class="keywordflow">return</span> $r;
<a name="l00642"></a>00642   } <span class="comment">//  function normInf()</span>
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 
<a name="l00651"></a><a class="code" href="classMatrix.html#a0638c41e4d5f7f6e23016fdde7eb0e97">00651</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a0638c41e4d5f7f6e23016fdde7eb0e97" title="normF">normF</a>() {
<a name="l00652"></a>00652     $f = 0;
<a name="l00653"></a>00653     <span class="keywordflow">for</span> ($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00654"></a>00654       <span class="keywordflow">for</span> ($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00655"></a>00655         $f = hypo($f,$this-&gt;A[$i][$j]);
<a name="l00656"></a>00656       }
<a name="l00657"></a>00657     }
<a name="l00658"></a>00658     <span class="keywordflow">return</span> $f;
<a name="l00659"></a>00659   } <span class="comment">//  function normF()</span>
<a name="l00660"></a>00660 
<a name="l00661"></a>00661 
<a name="l00667"></a><a class="code" href="classMatrix.html#a679533b547d1c43a5698190b803902fa">00667</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a679533b547d1c43a5698190b803902fa" title="Matrix rank.">rank</a> () {
<a name="l00668"></a>00668     $svd = <span class="keyword">new</span> <a class="code" href="classSingularValueDecomposition.html">SingularValueDecomposition</a>($this);
<a name="l00669"></a>00669     <span class="keywordflow">return</span> $svd-&gt;rank();
<a name="l00670"></a>00670   } <span class="comment">//  function rank ()</span>
<a name="l00671"></a>00671 
<a name="l00672"></a>00672 
<a name="l00678"></a><a class="code" href="classMatrix.html#aff278cb1415aab7c6672c2213d0d41ab">00678</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#aff278cb1415aab7c6672c2213d0d41ab" title="Matrix condition (2 norm).">cond</a> () {
<a name="l00679"></a>00679     $svd = <span class="keyword">new</span> <a class="code" href="classSingularValueDecomposition.html">SingularValueDecomposition</a>($this);
<a name="l00680"></a>00680     <span class="keywordflow">return</span> $svd-&gt;cond();
<a name="l00681"></a>00681   } <span class="comment">//  function cond ()</span>
<a name="l00682"></a>00682 
<a name="l00683"></a>00683 
<a name="l00690"></a><a class="code" href="classMatrix.html#a232ad1174e2719946c635e51210e6202">00690</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a232ad1174e2719946c635e51210e6202" title="trace">trace</a>() {
<a name="l00691"></a>00691     $s = 0;
<a name="l00692"></a>00692     $n = min($this-&gt;m, $this-&gt;n);
<a name="l00693"></a>00693     <span class="keywordflow">for</span>($i = 0; $i &lt; $n; ++$i) {
<a name="l00694"></a>00694       $s += $this-&gt;A[$i][$i];
<a name="l00695"></a>00695     }
<a name="l00696"></a>00696     <span class="keywordflow">return</span> $s;
<a name="l00697"></a>00697   } <span class="comment">//  function trace()</span>
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 
<a name="l00706"></a><a class="code" href="classMatrix.html#ae85f531ba495658da27f30f5fbbde9e9">00706</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ae85f531ba495658da27f30f5fbbde9e9" title="uminus">uminus</a>() {
<a name="l00707"></a>00707   } <span class="comment">//  function uminus()</span>
<a name="l00708"></a>00708 
<a name="l00709"></a>00709 
<a name="l00717"></a><a class="code" href="classMatrix.html#aeda49ad4c26914cc68ef4e3432fbf1e1">00717</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#aeda49ad4c26914cc68ef4e3432fbf1e1" title="plus">plus</a>() {
<a name="l00718"></a>00718     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00719"></a>00719       $args = func_get_args();
<a name="l00720"></a>00720       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00721"></a>00721 
<a name="l00722"></a>00722       <span class="keywordflow">switch</span>($match) {
<a name="l00723"></a>00723         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00724"></a>00724             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00725"></a>00725             <span class="keywordflow">break</span>;
<a name="l00726"></a>00726         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00727"></a>00727             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00728"></a>00728             <span class="keywordflow">break</span>;
<a name="l00729"></a>00729         <span class="keywordflow">default</span>:
<a name="l00730"></a>00730             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00731"></a>00731             <span class="keywordflow">break</span>;
<a name="l00732"></a>00732       }
<a name="l00733"></a>00733       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00734"></a>00734       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00735"></a>00735         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00736"></a>00736           $M-&gt;set($i, $j, $M-&gt;get($i, $j) + $this-&gt;A[$i][$j]);
<a name="l00737"></a>00737         }
<a name="l00738"></a>00738       }
<a name="l00739"></a>00739       <span class="keywordflow">return</span> $M;
<a name="l00740"></a>00740     } <span class="keywordflow">else</span> {
<a name="l00741"></a>00741       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00742"></a>00742     }
<a name="l00743"></a>00743   } <span class="comment">//  function plus()</span>
<a name="l00744"></a>00744 
<a name="l00745"></a>00745 
<a name="l00753"></a><a class="code" href="classMatrix.html#a33956a3bb7c1c6959a3e09df524640a6">00753</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a33956a3bb7c1c6959a3e09df524640a6" title="plusEquals">plusEquals</a>() {
<a name="l00754"></a>00754     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00755"></a>00755       $args = func_get_args();
<a name="l00756"></a>00756       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00757"></a>00757 
<a name="l00758"></a>00758       <span class="keywordflow">switch</span>($match) {
<a name="l00759"></a>00759         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00760"></a>00760             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00761"></a>00761             <span class="keywordflow">break</span>;
<a name="l00762"></a>00762         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00763"></a>00763             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00764"></a>00764             <span class="keywordflow">break</span>;
<a name="l00765"></a>00765         <span class="keywordflow">default</span>:
<a name="l00766"></a>00766             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00767"></a>00767             <span class="keywordflow">break</span>;
<a name="l00768"></a>00768       }
<a name="l00769"></a>00769       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00770"></a>00770       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00771"></a>00771         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00772"></a>00772           $validValues = True;
<a name="l00773"></a>00773           $value = $M-&gt;get($i, $j);
<a name="l00774"></a>00774           <span class="keywordflow">if</span> ((is_string($this-&gt;A[$i][$j])) &amp;&amp; (strlen($this-&gt;A[$i][$j]) &gt; 0) &amp;&amp; (!is_numeric($this-&gt;A[$i][$j]))) {
<a name="l00775"></a>00775             $this-&gt;A[$i][$j] = trim($this-&gt;A[$i][$j],<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00776"></a>00776             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($this-&gt;A[$i][$j]);
<a name="l00777"></a>00777           }
<a name="l00778"></a>00778           <span class="keywordflow">if</span> ((is_string($value)) &amp;&amp; (strlen($value) &gt; 0) &amp;&amp; (!is_numeric($value))) {
<a name="l00779"></a>00779             $value = trim($value,<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00780"></a>00780             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($value);
<a name="l00781"></a>00781           }
<a name="l00782"></a>00782           <span class="keywordflow">if</span> ($validValues) {
<a name="l00783"></a>00783             $this-&gt;A[$i][$j] += $value;
<a name="l00784"></a>00784           } <span class="keywordflow">else</span> {
<a name="l00785"></a>00785             $this-&gt;A[$i][$j] = PHPExcel_Calculation_Functions::NaN();
<a name="l00786"></a>00786           }
<a name="l00787"></a>00787         }
<a name="l00788"></a>00788       }
<a name="l00789"></a>00789       <span class="keywordflow">return</span> $this;
<a name="l00790"></a>00790     } <span class="keywordflow">else</span> {
<a name="l00791"></a>00791       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00792"></a>00792     }
<a name="l00793"></a>00793   } <span class="comment">//  function plusEquals()</span>
<a name="l00794"></a>00794 
<a name="l00795"></a>00795 
<a name="l00803"></a><a class="code" href="classMatrix.html#ac9f0ccb54011867dc5e0a956c1e8ff3d">00803</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ac9f0ccb54011867dc5e0a956c1e8ff3d" title="minus">minus</a>() {
<a name="l00804"></a>00804     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00805"></a>00805       $args = func_get_args();
<a name="l00806"></a>00806       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00807"></a>00807 
<a name="l00808"></a>00808       <span class="keywordflow">switch</span>($match) {
<a name="l00809"></a>00809         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00810"></a>00810             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00811"></a>00811             <span class="keywordflow">break</span>;
<a name="l00812"></a>00812         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00813"></a>00813             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00814"></a>00814             <span class="keywordflow">break</span>;
<a name="l00815"></a>00815         <span class="keywordflow">default</span>:
<a name="l00816"></a>00816             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00817"></a>00817             <span class="keywordflow">break</span>;
<a name="l00818"></a>00818       }
<a name="l00819"></a>00819       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00820"></a>00820       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00821"></a>00821         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00822"></a>00822           $M-&gt;set($i, $j, $M-&gt;get($i, $j) - $this-&gt;A[$i][$j]);
<a name="l00823"></a>00823         }
<a name="l00824"></a>00824       }
<a name="l00825"></a>00825       <span class="keywordflow">return</span> $M;
<a name="l00826"></a>00826     } <span class="keywordflow">else</span> {
<a name="l00827"></a>00827       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00828"></a>00828     }
<a name="l00829"></a>00829   } <span class="comment">//  function minus()</span>
<a name="l00830"></a>00830 
<a name="l00831"></a>00831 
<a name="l00839"></a><a class="code" href="classMatrix.html#a1c1a9e4021e91dc1c4cd97b9bb87c2e6">00839</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a1c1a9e4021e91dc1c4cd97b9bb87c2e6" title="minusEquals">minusEquals</a>() {
<a name="l00840"></a>00840     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00841"></a>00841       $args = func_get_args();
<a name="l00842"></a>00842       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00843"></a>00843 
<a name="l00844"></a>00844       <span class="keywordflow">switch</span>($match) {
<a name="l00845"></a>00845         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00846"></a>00846             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00847"></a>00847             <span class="keywordflow">break</span>;
<a name="l00848"></a>00848         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00849"></a>00849             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00850"></a>00850             <span class="keywordflow">break</span>;
<a name="l00851"></a>00851         <span class="keywordflow">default</span>:
<a name="l00852"></a>00852             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00853"></a>00853             <span class="keywordflow">break</span>;
<a name="l00854"></a>00854       }
<a name="l00855"></a>00855       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00856"></a>00856       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00857"></a>00857         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00858"></a>00858           $validValues = True;
<a name="l00859"></a>00859           $value = $M-&gt;get($i, $j);
<a name="l00860"></a>00860           <span class="keywordflow">if</span> ((is_string($this-&gt;A[$i][$j])) &amp;&amp; (strlen($this-&gt;A[$i][$j]) &gt; 0) &amp;&amp; (!is_numeric($this-&gt;A[$i][$j]))) {
<a name="l00861"></a>00861             $this-&gt;A[$i][$j] = trim($this-&gt;A[$i][$j],<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00862"></a>00862             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($this-&gt;A[$i][$j]);
<a name="l00863"></a>00863           }
<a name="l00864"></a>00864           <span class="keywordflow">if</span> ((is_string($value)) &amp;&amp; (strlen($value) &gt; 0) &amp;&amp; (!is_numeric($value))) {
<a name="l00865"></a>00865             $value = trim($value,<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00866"></a>00866             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($value);
<a name="l00867"></a>00867           }
<a name="l00868"></a>00868           <span class="keywordflow">if</span> ($validValues) {
<a name="l00869"></a>00869             $this-&gt;A[$i][$j] -= $value;
<a name="l00870"></a>00870           } <span class="keywordflow">else</span> {
<a name="l00871"></a>00871             $this-&gt;A[$i][$j] = PHPExcel_Calculation_Functions::NaN();
<a name="l00872"></a>00872           }
<a name="l00873"></a>00873         }
<a name="l00874"></a>00874       }
<a name="l00875"></a>00875       <span class="keywordflow">return</span> $this;
<a name="l00876"></a>00876     } <span class="keywordflow">else</span> {
<a name="l00877"></a>00877       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00878"></a>00878     }
<a name="l00879"></a>00879   } <span class="comment">//  function minusEquals()</span>
<a name="l00880"></a>00880 
<a name="l00881"></a>00881 
<a name="l00890"></a><a class="code" href="classMatrix.html#ab2f8565379b54e97165f8fe4d252d720">00890</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ab2f8565379b54e97165f8fe4d252d720" title="arrayTimes">arrayTimes</a>() {
<a name="l00891"></a>00891     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00892"></a>00892       $args = func_get_args();
<a name="l00893"></a>00893       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00894"></a>00894 
<a name="l00895"></a>00895       <span class="keywordflow">switch</span>($match) {
<a name="l00896"></a>00896         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00897"></a>00897             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00898"></a>00898             <span class="keywordflow">break</span>;
<a name="l00899"></a>00899         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00900"></a>00900             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00901"></a>00901             <span class="keywordflow">break</span>;
<a name="l00902"></a>00902         <span class="keywordflow">default</span>:
<a name="l00903"></a>00903             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00904"></a>00904             <span class="keywordflow">break</span>;
<a name="l00905"></a>00905       }
<a name="l00906"></a>00906       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00907"></a>00907       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00908"></a>00908         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00909"></a>00909           $M-&gt;set($i, $j, $M-&gt;get($i, $j) * $this-&gt;A[$i][$j]);
<a name="l00910"></a>00910         }
<a name="l00911"></a>00911       }
<a name="l00912"></a>00912       <span class="keywordflow">return</span> $M;
<a name="l00913"></a>00913     } <span class="keywordflow">else</span> {
<a name="l00914"></a>00914       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00915"></a>00915     }
<a name="l00916"></a>00916   } <span class="comment">//  function arrayTimes()</span>
<a name="l00917"></a>00917 
<a name="l00918"></a>00918 
<a name="l00927"></a><a class="code" href="classMatrix.html#af4db3bbbb48d68eb4b6e0600c566ffa8">00927</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#af4db3bbbb48d68eb4b6e0600c566ffa8" title="arrayTimesEquals">arrayTimesEquals</a>() {
<a name="l00928"></a>00928     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00929"></a>00929       $args = func_get_args();
<a name="l00930"></a>00930       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00931"></a>00931 
<a name="l00932"></a>00932       <span class="keywordflow">switch</span>($match) {
<a name="l00933"></a>00933         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00934"></a>00934             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00935"></a>00935             <span class="keywordflow">break</span>;
<a name="l00936"></a>00936         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00937"></a>00937             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00938"></a>00938             <span class="keywordflow">break</span>;
<a name="l00939"></a>00939         <span class="keywordflow">default</span>:
<a name="l00940"></a>00940             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00941"></a>00941             <span class="keywordflow">break</span>;
<a name="l00942"></a>00942       }
<a name="l00943"></a>00943       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00944"></a>00944       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00945"></a>00945         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00946"></a>00946           $validValues = True;
<a name="l00947"></a>00947           $value = $M-&gt;get($i, $j);
<a name="l00948"></a>00948           <span class="keywordflow">if</span> ((is_string($this-&gt;A[$i][$j])) &amp;&amp; (strlen($this-&gt;A[$i][$j]) &gt; 0) &amp;&amp; (!is_numeric($this-&gt;A[$i][$j]))) {
<a name="l00949"></a>00949             $this-&gt;A[$i][$j] = trim($this-&gt;A[$i][$j],<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00950"></a>00950             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($this-&gt;A[$i][$j]);
<a name="l00951"></a>00951           }
<a name="l00952"></a>00952           <span class="keywordflow">if</span> ((is_string($value)) &amp;&amp; (strlen($value) &gt; 0) &amp;&amp; (!is_numeric($value))) {
<a name="l00953"></a>00953             $value = trim($value,<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00954"></a>00954             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($value);
<a name="l00955"></a>00955           }
<a name="l00956"></a>00956           <span class="keywordflow">if</span> ($validValues) {
<a name="l00957"></a>00957             $this-&gt;A[$i][$j] *= $value;
<a name="l00958"></a>00958           } <span class="keywordflow">else</span> {
<a name="l00959"></a>00959             $this-&gt;A[$i][$j] = PHPExcel_Calculation_Functions::NaN();
<a name="l00960"></a>00960           }
<a name="l00961"></a>00961         }
<a name="l00962"></a>00962       }
<a name="l00963"></a>00963       <span class="keywordflow">return</span> $this;
<a name="l00964"></a>00964     } <span class="keywordflow">else</span> {
<a name="l00965"></a>00965       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00966"></a>00966     }
<a name="l00967"></a>00967   } <span class="comment">//  function arrayTimesEquals()</span>
<a name="l00968"></a>00968 
<a name="l00969"></a>00969 
<a name="l00978"></a><a class="code" href="classMatrix.html#a3d22f4f96a6d7cb9beb40375f92eedcd">00978</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a3d22f4f96a6d7cb9beb40375f92eedcd" title="arrayRightDivide">arrayRightDivide</a>() {
<a name="l00979"></a>00979     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l00980"></a>00980       $args = func_get_args();
<a name="l00981"></a>00981       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l00982"></a>00982 
<a name="l00983"></a>00983       <span class="keywordflow">switch</span>($match) {
<a name="l00984"></a>00984         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00985"></a>00985             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l00986"></a>00986             <span class="keywordflow">break</span>;
<a name="l00987"></a>00987         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00988"></a>00988             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l00989"></a>00989             <span class="keywordflow">break</span>;
<a name="l00990"></a>00990         <span class="keywordflow">default</span>:
<a name="l00991"></a>00991             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l00992"></a>00992             <span class="keywordflow">break</span>;
<a name="l00993"></a>00993       }
<a name="l00994"></a>00994       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l00995"></a>00995       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l00996"></a>00996         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l00997"></a>00997           $validValues = True;
<a name="l00998"></a>00998           $value = $M-&gt;get($i, $j);
<a name="l00999"></a>00999           <span class="keywordflow">if</span> ((is_string($this-&gt;A[$i][$j])) &amp;&amp; (strlen($this-&gt;A[$i][$j]) &gt; 0) &amp;&amp; (!is_numeric($this-&gt;A[$i][$j]))) {
<a name="l01000"></a>01000             $this-&gt;A[$i][$j] = trim($this-&gt;A[$i][$j],<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01001"></a>01001             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($this-&gt;A[$i][$j]);
<a name="l01002"></a>01002           }
<a name="l01003"></a>01003           <span class="keywordflow">if</span> ((is_string($value)) &amp;&amp; (strlen($value) &gt; 0) &amp;&amp; (!is_numeric($value))) {
<a name="l01004"></a>01004             $value = trim($value,<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01005"></a>01005             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($value);
<a name="l01006"></a>01006           }
<a name="l01007"></a>01007           <span class="keywordflow">if</span> ($validValues) {
<a name="l01008"></a>01008             <span class="keywordflow">if</span> ($value == 0) {
<a name="l01009"></a>01009               <span class="comment">//  Trap for Divide by Zero error</span>
<a name="l01010"></a>01010               $M-&gt;set($i, $j, <span class="stringliteral">&#39;#DIV/0!&#39;</span>);
<a name="l01011"></a>01011             } <span class="keywordflow">else</span> {
<a name="l01012"></a>01012               $M-&gt;set($i, $j, $this-&gt;A[$i][$j] / $value);
<a name="l01013"></a>01013             }
<a name="l01014"></a>01014           } <span class="keywordflow">else</span> {
<a name="l01015"></a>01015             $this-&gt;A[$i][$j] = PHPExcel_Calculation_Functions::NaN();
<a name="l01016"></a>01016           }
<a name="l01017"></a>01017         }
<a name="l01018"></a>01018       }
<a name="l01019"></a>01019       <span class="keywordflow">return</span> $M;
<a name="l01020"></a>01020     } <span class="keywordflow">else</span> {
<a name="l01021"></a>01021       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01022"></a>01022     }
<a name="l01023"></a>01023   } <span class="comment">//  function arrayRightDivide()</span>
<a name="l01024"></a>01024 
<a name="l01025"></a>01025 
<a name="l01034"></a><a class="code" href="classMatrix.html#a77cb9640710372bffbeb0bae809d4bb3">01034</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a77cb9640710372bffbeb0bae809d4bb3" title="arrayRightDivideEquals">arrayRightDivideEquals</a>() {
<a name="l01035"></a>01035     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l01036"></a>01036       $args = func_get_args();
<a name="l01037"></a>01037       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l01038"></a>01038 
<a name="l01039"></a>01039       <span class="keywordflow">switch</span>($match) {
<a name="l01040"></a>01040         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01041"></a>01041             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l01042"></a>01042             <span class="keywordflow">break</span>;
<a name="l01043"></a>01043         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01044"></a>01044             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l01045"></a>01045             <span class="keywordflow">break</span>;
<a name="l01046"></a>01046         <span class="keywordflow">default</span>:
<a name="l01047"></a>01047             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01048"></a>01048             <span class="keywordflow">break</span>;
<a name="l01049"></a>01049       }
<a name="l01050"></a>01050       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l01051"></a>01051       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01052"></a>01052         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l01053"></a>01053           $this-&gt;A[$i][$j] = $this-&gt;A[$i][$j] / $M-&gt;get($i, $j);
<a name="l01054"></a>01054         }
<a name="l01055"></a>01055       }
<a name="l01056"></a>01056       <span class="keywordflow">return</span> $M;
<a name="l01057"></a>01057     } <span class="keywordflow">else</span> {
<a name="l01058"></a>01058       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01059"></a>01059     }
<a name="l01060"></a>01060   } <span class="comment">//  function arrayRightDivideEquals()</span>
<a name="l01061"></a>01061 
<a name="l01062"></a>01062 
<a name="l01071"></a><a class="code" href="classMatrix.html#af892bc1e48ca7d79f53e8bb821040a6b">01071</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#af892bc1e48ca7d79f53e8bb821040a6b" title="arrayLeftDivide">arrayLeftDivide</a>() {
<a name="l01072"></a>01072     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l01073"></a>01073       $args = func_get_args();
<a name="l01074"></a>01074       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l01075"></a>01075 
<a name="l01076"></a>01076       <span class="keywordflow">switch</span>($match) {
<a name="l01077"></a>01077         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01078"></a>01078             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l01079"></a>01079             <span class="keywordflow">break</span>;
<a name="l01080"></a>01080         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01081"></a>01081             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l01082"></a>01082             <span class="keywordflow">break</span>;
<a name="l01083"></a>01083         <span class="keywordflow">default</span>:
<a name="l01084"></a>01084             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01085"></a>01085             <span class="keywordflow">break</span>;
<a name="l01086"></a>01086       }
<a name="l01087"></a>01087       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l01088"></a>01088       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01089"></a>01089         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l01090"></a>01090           $M-&gt;set($i, $j, $M-&gt;get($i, $j) / $this-&gt;A[$i][$j]);
<a name="l01091"></a>01091         }
<a name="l01092"></a>01092       }
<a name="l01093"></a>01093       <span class="keywordflow">return</span> $M;
<a name="l01094"></a>01094     } <span class="keywordflow">else</span> {
<a name="l01095"></a>01095       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01096"></a>01096     }
<a name="l01097"></a>01097   } <span class="comment">//  function arrayLeftDivide()</span>
<a name="l01098"></a>01098 
<a name="l01099"></a>01099 
<a name="l01108"></a><a class="code" href="classMatrix.html#ada2186bf3127f8d2c01b6f5e5a6107b1">01108</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ada2186bf3127f8d2c01b6f5e5a6107b1" title="arrayLeftDivideEquals">arrayLeftDivideEquals</a>() {
<a name="l01109"></a>01109     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l01110"></a>01110       $args = func_get_args();
<a name="l01111"></a>01111       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l01112"></a>01112 
<a name="l01113"></a>01113       <span class="keywordflow">switch</span>($match) {
<a name="l01114"></a>01114         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01115"></a>01115             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l01116"></a>01116             <span class="keywordflow">break</span>;
<a name="l01117"></a>01117         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01118"></a>01118             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l01119"></a>01119             <span class="keywordflow">break</span>;
<a name="l01120"></a>01120         <span class="keywordflow">default</span>:
<a name="l01121"></a>01121             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01122"></a>01122             <span class="keywordflow">break</span>;
<a name="l01123"></a>01123       }
<a name="l01124"></a>01124       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l01125"></a>01125       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01126"></a>01126         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l01127"></a>01127           $this-&gt;A[$i][$j] = $M-&gt;get($i, $j) / $this-&gt;A[$i][$j];
<a name="l01128"></a>01128         }
<a name="l01129"></a>01129       }
<a name="l01130"></a>01130       <span class="keywordflow">return</span> $M;
<a name="l01131"></a>01131     } <span class="keywordflow">else</span> {
<a name="l01132"></a>01132       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01133"></a>01133     }
<a name="l01134"></a>01134   } <span class="comment">//  function arrayLeftDivideEquals()</span>
<a name="l01135"></a>01135 
<a name="l01136"></a>01136 
<a name="l01144"></a><a class="code" href="classMatrix.html#a0f6b5d928e31a1a5f67b7a283470a63f">01144</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a0f6b5d928e31a1a5f67b7a283470a63f" title="times">times</a>() {
<a name="l01145"></a>01145     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l01146"></a>01146       $args  = func_get_args();
<a name="l01147"></a>01147       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l01148"></a>01148 
<a name="l01149"></a>01149       <span class="keywordflow">switch</span>($match) {
<a name="l01150"></a>01150         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01151"></a>01151             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $B = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l01152"></a>01152             <span class="keywordflow">if</span> ($this-&gt;n == $B-&gt;m) {
<a name="l01153"></a>01153               $C = <span class="keyword">new</span> Matrix($this-&gt;m, $B-&gt;n);
<a name="l01154"></a>01154               <span class="keywordflow">for</span>($j = 0; $j &lt; $B-&gt;n; ++$j) {
<a name="l01155"></a>01155                 <span class="keywordflow">for</span> ($k = 0; $k &lt; $this-&gt;n; ++$k) {
<a name="l01156"></a>01156                   $Bcolj[$k] = $B-&gt;A[$k][$j];
<a name="l01157"></a>01157                 }
<a name="l01158"></a>01158                 <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01159"></a>01159                   $Arowi = $this-&gt;A[$i];
<a name="l01160"></a>01160                   $s = 0;
<a name="l01161"></a>01161                   <span class="keywordflow">for</span>($k = 0; $k &lt; $this-&gt;n; ++$k) {
<a name="l01162"></a>01162                     $s += $Arowi[$k] * $Bcolj[$k];
<a name="l01163"></a>01163                   }
<a name="l01164"></a>01164                   $C-&gt;A[$i][$j] = $s;
<a name="l01165"></a>01165                 }
<a name="l01166"></a>01166               }
<a name="l01167"></a>01167               <span class="keywordflow">return</span> $C;
<a name="l01168"></a>01168             } <span class="keywordflow">else</span> {
<a name="l01169"></a>01169               <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(MatrixDimensionMismatch));
<a name="l01170"></a>01170             }
<a name="l01171"></a>01171             <span class="keywordflow">break</span>;
<a name="l01172"></a>01172         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01173"></a>01173             $B = <span class="keyword">new</span> Matrix($args[0]);
<a name="l01174"></a>01174             <span class="keywordflow">if</span> ($this-&gt;n == $B-&gt;m) {
<a name="l01175"></a>01175               $C = <span class="keyword">new</span> Matrix($this-&gt;m, $B-&gt;n);
<a name="l01176"></a>01176               <span class="keywordflow">for</span>($i = 0; $i &lt; $C-&gt;m; ++$i) {
<a name="l01177"></a>01177                 <span class="keywordflow">for</span>($j = 0; $j &lt; $C-&gt;n; ++$j) {
<a name="l01178"></a>01178                   $s = <span class="stringliteral">&quot;0&quot;</span>;
<a name="l01179"></a>01179                   <span class="keywordflow">for</span>($k = 0; $k &lt; $C-&gt;n; ++$k) {
<a name="l01180"></a>01180                     $s += $this-&gt;A[$i][$k] * $B-&gt;A[$k][$j];
<a name="l01181"></a>01181                   }
<a name="l01182"></a>01182                   $C-&gt;A[$i][$j] = $s;
<a name="l01183"></a>01183                 }
<a name="l01184"></a>01184               }
<a name="l01185"></a>01185               <span class="keywordflow">return</span> $C;
<a name="l01186"></a>01186             } <span class="keywordflow">else</span> {
<a name="l01187"></a>01187               <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(MatrixDimensionMismatch));
<a name="l01188"></a>01188             }
<a name="l01189"></a>01189             <span class="keywordflow">return</span> $M;
<a name="l01190"></a>01190             <span class="keywordflow">break</span>;
<a name="l01191"></a>01191         <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer&#39;</span>:
<a name="l01192"></a>01192             $C = <span class="keyword">new</span> Matrix($this-&gt;A);
<a name="l01193"></a>01193             <span class="keywordflow">for</span>($i = 0; $i &lt; $C-&gt;m; ++$i) {
<a name="l01194"></a>01194               <span class="keywordflow">for</span>($j = 0; $j &lt; $C-&gt;n; ++$j) {
<a name="l01195"></a>01195                 $C-&gt;A[$i][$j] *= $args[0];
<a name="l01196"></a>01196               }
<a name="l01197"></a>01197             }
<a name="l01198"></a>01198             <span class="keywordflow">return</span> $C;
<a name="l01199"></a>01199             <span class="keywordflow">break</span>;
<a name="l01200"></a>01200         <span class="keywordflow">case</span> <span class="stringliteral">&#39;double&#39;</span>:
<a name="l01201"></a>01201             $C = <span class="keyword">new</span> Matrix($this-&gt;m, $this-&gt;n);
<a name="l01202"></a>01202             <span class="keywordflow">for</span>($i = 0; $i &lt; $C-&gt;m; ++$i) {
<a name="l01203"></a>01203               <span class="keywordflow">for</span>($j = 0; $j &lt; $C-&gt;n; ++$j) {
<a name="l01204"></a>01204                 $C-&gt;A[$i][$j] = $args[0] * $this-&gt;A[$i][$j];
<a name="l01205"></a>01205               }
<a name="l01206"></a>01206             }
<a name="l01207"></a>01207             <span class="keywordflow">return</span> $C;
<a name="l01208"></a>01208             <span class="keywordflow">break</span>;
<a name="l01209"></a>01209         <span class="keywordflow">case</span> <span class="stringliteral">&#39;float&#39;</span>:
<a name="l01210"></a>01210             $C = <span class="keyword">new</span> Matrix($this-&gt;A);
<a name="l01211"></a>01211             <span class="keywordflow">for</span>($i = 0; $i &lt; $C-&gt;m; ++$i) {
<a name="l01212"></a>01212               <span class="keywordflow">for</span>($j = 0; $j &lt; $C-&gt;n; ++$j) {
<a name="l01213"></a>01213                 $C-&gt;A[$i][$j] *= $args[0];
<a name="l01214"></a>01214               }
<a name="l01215"></a>01215             }
<a name="l01216"></a>01216             <span class="keywordflow">return</span> $C;
<a name="l01217"></a>01217             <span class="keywordflow">break</span>;
<a name="l01218"></a>01218         <span class="keywordflow">default</span>:
<a name="l01219"></a>01219             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01220"></a>01220             <span class="keywordflow">break</span>;
<a name="l01221"></a>01221       }
<a name="l01222"></a>01222     } <span class="keywordflow">else</span> {
<a name="l01223"></a>01223       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(PolymorphicArgumentException);
<a name="l01224"></a>01224     }
<a name="l01225"></a>01225   } <span class="comment">//  function times()</span>
<a name="l01226"></a>01226 
<a name="l01227"></a>01227 
<a name="l01235"></a><a class="code" href="classMatrix.html#a94159eb65d3e0761bbc0c2f62dc43e7f">01235</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a94159eb65d3e0761bbc0c2f62dc43e7f" title="power">power</a>() {
<a name="l01236"></a>01236     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l01237"></a>01237       $args = func_get_args();
<a name="l01238"></a>01238       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l01239"></a>01239 
<a name="l01240"></a>01240       <span class="keywordflow">switch</span>($match) {
<a name="l01241"></a>01241         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01242"></a>01242             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l01243"></a>01243             <span class="keywordflow">break</span>;
<a name="l01244"></a>01244         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01245"></a>01245             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l01246"></a>01246             <span class="keywordflow">break</span>;
<a name="l01247"></a>01247         <span class="keywordflow">default</span>:
<a name="l01248"></a>01248             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01249"></a>01249             <span class="keywordflow">break</span>;
<a name="l01250"></a>01250       }
<a name="l01251"></a>01251       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l01252"></a>01252       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01253"></a>01253         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l01254"></a>01254           $validValues = True;
<a name="l01255"></a>01255           $value = $M-&gt;get($i, $j);
<a name="l01256"></a>01256           <span class="keywordflow">if</span> ((is_string($this-&gt;A[$i][$j])) &amp;&amp; (strlen($this-&gt;A[$i][$j]) &gt; 0) &amp;&amp; (!is_numeric($this-&gt;A[$i][$j]))) {
<a name="l01257"></a>01257             $this-&gt;A[$i][$j] = trim($this-&gt;A[$i][$j],<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01258"></a>01258             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($this-&gt;A[$i][$j]);
<a name="l01259"></a>01259           }
<a name="l01260"></a>01260           <span class="keywordflow">if</span> ((is_string($value)) &amp;&amp; (strlen($value) &gt; 0) &amp;&amp; (!is_numeric($value))) {
<a name="l01261"></a>01261             $value = trim($value,<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01262"></a>01262             $validValues &amp;= <a class="code" href="classPHPExcel__Shared__String.html#a161d9a05d646ca88720b7bcf409b12cb" title="Identify whether a string contains a fractional numeric value, and convert it to...">PHPExcel_Shared_String::convertToNumberIfFraction</a>($value);
<a name="l01263"></a>01263           }
<a name="l01264"></a>01264           <span class="keywordflow">if</span> ($validValues) {
<a name="l01265"></a>01265             $this-&gt;A[$i][$j] = pow($this-&gt;A[$i][$j],$value);
<a name="l01266"></a>01266           } <span class="keywordflow">else</span> {
<a name="l01267"></a>01267             $this-&gt;A[$i][$j] = PHPExcel_Calculation_Functions::NaN();
<a name="l01268"></a>01268           }
<a name="l01269"></a>01269         }
<a name="l01270"></a>01270       }
<a name="l01271"></a>01271       <span class="keywordflow">return</span> $this;
<a name="l01272"></a>01272     } <span class="keywordflow">else</span> {
<a name="l01273"></a>01273       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01274"></a>01274     }
<a name="l01275"></a>01275   } <span class="comment">//  function power()</span>
<a name="l01276"></a>01276 
<a name="l01277"></a>01277 
<a name="l01285"></a><a class="code" href="classMatrix.html#ab1cdb1d221159cf9389d7af9ff12c68c">01285</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ab1cdb1d221159cf9389d7af9ff12c68c" title="concat">concat</a>() {
<a name="l01286"></a>01286     <span class="keywordflow">if</span> (func_num_args() &gt; 0) {
<a name="l01287"></a>01287       $args = func_get_args();
<a name="l01288"></a>01288       $match = implode(<span class="stringliteral">&quot;,&quot;</span>, array_map(<span class="stringliteral">&#39;gettype&#39;</span>, $args));
<a name="l01289"></a>01289 
<a name="l01290"></a>01290       <span class="keywordflow">switch</span>($match) {
<a name="l01291"></a>01291         <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01292"></a>01292             <span class="keywordflow">if</span> ($args[0] instanceof <a class="code" href="classMatrix.html">Matrix</a>) { $M = $args[0]; } <span class="keywordflow">else</span> { <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(ArgumentTypeException)); }
<a name="l01293"></a>01293         <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01294"></a>01294             $M = <span class="keyword">new</span> Matrix($args[0]);
<a name="l01295"></a>01295             <span class="keywordflow">break</span>;
<a name="l01296"></a>01296         <span class="keywordflow">default</span>:
<a name="l01297"></a>01297             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01298"></a>01298             <span class="keywordflow">break</span>;
<a name="l01299"></a>01299       }
<a name="l01300"></a>01300       $this-&gt;<a class="code" href="classMatrix.html#ade153d77ae483394ddcdd49a8a0bd917" title="checkMatrixDimensions">checkMatrixDimensions</a>($M);
<a name="l01301"></a>01301       <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01302"></a>01302         <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l01303"></a>01303 <span class="comment">//          $this-&gt;A[$i][$j] = &#39;&quot;&#39;.trim($this-&gt;A[$i][$j],&#39;&quot;&#39;).trim($M-&gt;get($i, $j),&#39;&quot;&#39;).&#39;&quot;&#39;;</span>
<a name="l01304"></a>01304           $this-&gt;A[$i][$j] = trim($this-&gt;A[$i][$j],<span class="charliteral">&#39;&quot;&#39;</span>).trim($M-&gt;get($i, $j),<span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01305"></a>01305         }
<a name="l01306"></a>01306       }
<a name="l01307"></a>01307       <span class="keywordflow">return</span> $this;
<a name="l01308"></a>01308     } <span class="keywordflow">else</span> {
<a name="l01309"></a>01309       <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(JAMAError(PolymorphicArgumentException));
<a name="l01310"></a>01310     }
<a name="l01311"></a>01311   } <span class="comment">//  function concat()</span>
<a name="l01312"></a>01312 
<a name="l01313"></a>01313 
<a name="l01320"></a><a class="code" href="classMatrix.html#a5687f216beffe3f539867de4ca46a886">01320</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a5687f216beffe3f539867de4ca46a886" title="chol">chol</a>() {
<a name="l01321"></a>01321     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCholeskyDecomposition.html">CholeskyDecomposition</a>($this);
<a name="l01322"></a>01322   } <span class="comment">//  function chol()</span>
<a name="l01323"></a>01323 
<a name="l01324"></a>01324 
<a name="l01331"></a><a class="code" href="classMatrix.html#ab821edfc510d0eeef72e886e827216a8">01331</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#ab821edfc510d0eeef72e886e827216a8" title="lu">lu</a>() {
<a name="l01332"></a>01332     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classLUDecomposition.html">LUDecomposition</a>($this);
<a name="l01333"></a>01333   } <span class="comment">//  function lu()</span>
<a name="l01334"></a>01334 
<a name="l01335"></a>01335 
<a name="l01342"></a><a class="code" href="classMatrix.html#a31b246bfe806db537e553230e5583ed5">01342</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a31b246bfe806db537e553230e5583ed5" title="qr">qr</a>() {
<a name="l01343"></a>01343     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classQRDecomposition.html">QRDecomposition</a>($this);
<a name="l01344"></a>01344   } <span class="comment">//  function qr()</span>
<a name="l01345"></a>01345 
<a name="l01346"></a>01346 
<a name="l01353"></a><a class="code" href="classMatrix.html#af03fbf95cb561ebd5675bf7e36a71404">01353</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#af03fbf95cb561ebd5675bf7e36a71404" title="eig">eig</a>() {
<a name="l01354"></a>01354     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classEigenvalueDecomposition.html">EigenvalueDecomposition</a>($this);
<a name="l01355"></a>01355   } <span class="comment">//  function eig()</span>
<a name="l01356"></a>01356 
<a name="l01357"></a>01357 
<a name="l01364"></a><a class="code" href="classMatrix.html#a65311c3baedb3b527fc5a896b5451a7a">01364</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a65311c3baedb3b527fc5a896b5451a7a" title="svd">svd</a>() {
<a name="l01365"></a>01365     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classSingularValueDecomposition.html">SingularValueDecomposition</a>($this);
<a name="l01366"></a>01366   } <span class="comment">//  function svd()</span>
<a name="l01367"></a>01367 
<a name="l01368"></a>01368 
<a name="l01375"></a><a class="code" href="classMatrix.html#a95c5f95c47f2c7f26c3aabf348eb6b81">01375</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a95c5f95c47f2c7f26c3aabf348eb6b81" title="Solve A*X = B.">solve</a>($B) {
<a name="l01376"></a>01376     <span class="keywordflow">if</span> ($this-&gt;m == $this-&gt;n) {
<a name="l01377"></a>01377       $LU = <span class="keyword">new</span> <a class="code" href="classLUDecomposition.html">LUDecomposition</a>($this);
<a name="l01378"></a>01378       <span class="keywordflow">return</span> $LU-&gt;solve($B);
<a name="l01379"></a>01379     } <span class="keywordflow">else</span> {
<a name="l01380"></a>01380       $QR = <span class="keyword">new</span> <a class="code" href="classQRDecomposition.html">QRDecomposition</a>($this);
<a name="l01381"></a>01381       <span class="keywordflow">return</span> $QR-&gt;solve($B);
<a name="l01382"></a>01382     }
<a name="l01383"></a>01383   } <span class="comment">//  function solve()</span>
<a name="l01384"></a>01384 
<a name="l01385"></a>01385 
<a name="l01391"></a><a class="code" href="classMatrix.html#a4f7974e9ec6935ff84691b1b1a279bb2">01391</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a4f7974e9ec6935ff84691b1b1a279bb2" title="Matrix inverse or pseudoinverse.">inverse</a>() {
<a name="l01392"></a>01392     <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classMatrix.html#a95c5f95c47f2c7f26c3aabf348eb6b81" title="Solve A*X = B.">solve</a>($this-&gt;<a class="code" href="classMatrix.html#a46c423330b1f7864d2c46f7d4621ef06" title="identity">identity</a>($this-&gt;m, $this-&gt;m));
<a name="l01393"></a>01393   } <span class="comment">//  function inverse()</span>
<a name="l01394"></a>01394 
<a name="l01395"></a>01395 
<a name="l01402"></a><a class="code" href="classMatrix.html#a39b68bb47f5e5184178184d5bd217202">01402</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a39b68bb47f5e5184178184d5bd217202" title="det">det</a>() {
<a name="l01403"></a>01403     $L = <span class="keyword">new</span> <a class="code" href="classLUDecomposition.html">LUDecomposition</a>($this);
<a name="l01404"></a>01404     <span class="keywordflow">return</span> $L-&gt;det();
<a name="l01405"></a>01405   } <span class="comment">//  function det()</span>
<a name="l01406"></a>01406 
<a name="l01407"></a>01407 
<a name="l01413"></a><a class="code" href="classMatrix.html#aee3f061518fd0d8e5357ee1c982cfb79">01413</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#aee3f061518fd0d8e5357ee1c982cfb79" title="Older debugging utility for backwards compatability.">mprint</a>($A, $format=<span class="stringliteral">&quot;%01.2f&quot;</span>, $width=2) {
<a name="l01414"></a>01414     $m = count($A);
<a name="l01415"></a>01415     $n = count($A[0]);
<a name="l01416"></a>01416     $spacing = str_repeat(<span class="stringliteral">&#39;&amp;nbsp;&#39;</span>,$width);
<a name="l01417"></a>01417 
<a name="l01418"></a>01418     <span class="keywordflow">for</span> ($i = 0; $i &lt; $m; ++$i) {
<a name="l01419"></a>01419       <span class="keywordflow">for</span> ($j = 0; $j &lt; $n; ++$j) {
<a name="l01420"></a>01420         $formatted = sprintf($format, $A[$i][$j]);
<a name="l01421"></a>01421         echo $formatted.$spacing;
<a name="l01422"></a>01422       }
<a name="l01423"></a>01423       echo <span class="stringliteral">&quot;&lt;br /&gt;&quot;</span>;
<a name="l01424"></a>01424     }
<a name="l01425"></a>01425   } <span class="comment">//  function mprint()</span>
<a name="l01426"></a>01426 
<a name="l01427"></a>01427 
<a name="l01433"></a><a class="code" href="classMatrix.html#a6ab4b741b1d4c82ab09e7a331295b8c9">01433</a>   <span class="keyword">public</span> function <a class="code" href="classMatrix.html#a6ab4b741b1d4c82ab09e7a331295b8c9" title="Debugging utility.">toHTML</a>($width=2) {
<a name="l01434"></a>01434     print(<span class="stringliteral">&#39;&lt;table style=&quot;background-color:#eee;&quot;&gt;&#39;</span>);
<a name="l01435"></a>01435     <span class="keywordflow">for</span>($i = 0; $i &lt; $this-&gt;m; ++$i) {
<a name="l01436"></a>01436       print(<span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>);
<a name="l01437"></a>01437       <span class="keywordflow">for</span>($j = 0; $j &lt; $this-&gt;n; ++$j) {
<a name="l01438"></a>01438         print(<span class="stringliteral">&#39;&lt;td style=&quot;background-color:#fff;border:1px solid #000;padding:2px;text-align:center;vertical-align:middle;&quot;&gt;&#39;</span> . $this-&gt;A[$i][$j] . <span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>);
<a name="l01439"></a>01439       }
<a name="l01440"></a>01440       print(<span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>);
<a name="l01441"></a>01441     }
<a name="l01442"></a>01442     print(<span class="stringliteral">&#39;&lt;/table&gt;&#39;</span>);
<a name="l01443"></a>01443   } <span class="comment">//  function toHTML()</span>
<a name="l01444"></a>01444 
<a name="l01445"></a>01445 } <span class="comment">//  class Matrix</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
