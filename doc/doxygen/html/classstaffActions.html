<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: staffActions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>staffActions Class Reference</h1><!-- doxytag: class="staffActions" -->
<p>Staff Actions extends sfActions.  
<a href="#_details">More...</a></p>

<p><a href="classstaffActions-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a053eca93fdb2f778a7fb9417e00ffc8e">executeSearch</a> (sfWebRequest $request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a274fc28f294c55451f564d058b886b4a">executeIndex</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">executeIndex is currently used to execute the index action for the staff person module, it incorporates our join query to pull all staff information and passes a 'pager' object to the next step in execution: sfView  <a href="#a274fc28f294c55451f564d058b886b4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#af3ebc8feceb0c163628e7427883c0982">executeList</a> (sfWebRequest $request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a0f30300f065d08d27b60819ce9607112">executeShow</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">executeShow displays an individual agPerson/staff-member entry.  <a href="#a0f30300f065d08d27b60819ce9607112"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#acd05aaadb70b656fc5f894c8724068ed">executeNew</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a blank <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> form to create and save a new agPerson/staff-member.  <a href="#acd05aaadb70b656fc5f894c8724068ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a9eee4d6bd0c92ba6a88f0961469f097f">executeCreate</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves the new <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> from data entered into the form generated by executeNew.  <a href="#a9eee4d6bd0c92ba6a88f0961469f097f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a8cfd5f3950a35988a1cdf96e535dba1d">executeEdit</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a form prepopulated with the current information of the staff member to be edited.  <a href="#a8cfd5f3950a35988a1cdf96e535dba1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a33219dbdd462cc7809421bd42f78eb9d">executeUpdate</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes the form created by executeEdit to update the agPerson/staff-member being edited.  <a href="#a33219dbdd462cc7809421bd42f78eb9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a25449b143a123fd1c68f10e52c4aaae4">executeDelete</a> (sfWebRequest $request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes the selected agPerson/staff-member.  <a href="#a25449b143a123fd1c68f10e52c4aaae4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#ad742fad2e65ab563c73d8c7edcd2be33">executeExport</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Export the entire staff list of an Agasti installation as an XLS and offer the option to open the file.  <a href="#ad742fad2e65ab563c73d8c7edcd2be33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#abd0811afe76b3eb63a846f65d4ecd774">executeImport</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Imports staff records from a properly formatted XLS file.  <a href="#abd0811afe76b3eb63a846f65d4ecd774"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstaffActions.html#a611cfec2c66c5a34e3e63508b385dbe9">processForm</a> (sfWebRequest $request, sfForm $form)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes one of the forms generated in the above actions.  <a href="#a611cfec2c66c5a34e3e63508b385dbe9"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Staff Actions extends sfActions. </p>
<p>PHP Version 5</p>
<p>LICENSE: This source file is subject to LGPLv3.0 license that is available through the world-wide-web at the following URI: <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a></p>
<dl class="author"><dt><b>Author:</b></dt><dd>Charles Wisniewski, CUNY SPS </dd>
<dd>
Nils Stolpe, CUNY SPS </dd>
<dd>
Ilya Gulko, CUNY SPS</dd></dl>
<p>Copyright of the Sahana Software Foundation, sahanafoundation.org </p>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00018">18</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9eee4d6bd0c92ba6a88f0961469f097f"></a><!-- doxytag: member="staffActions::executeCreate" ref="a9eee4d6bd0c92ba6a88f0961469f097f" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeCreate </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves the new <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> from data entered into the form generated by executeNew. </p>
<p>A new <a class="el" href="classagEntity.html" title="Extends BaseagEntity and returns entity information.">agEntity</a> is also created and assigned to the <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> being created. This ensures that the new <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> gets a new entity_id and that creation does not fail.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - A request object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00304">304</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a25449b143a123fd1c68f10e52c4aaae4"></a><!-- doxytag: member="staffActions::executeDelete" ref="a25449b143a123fd1c68f10e52c4aaae4" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeDelete </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes the selected agPerson/staff-member. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - This function expects an ag_person.id as a pass-in parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000061">Todo:</a></b></dt><dd>implement soft delete</dd></dl>
<p>The getting and deleting of various $ag_person properties is necessary to ensure that the agPerson's relations are all properly deleted as well.</p>
<p>As values for agPersonLanguageCompetency are not directly availabe to an <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a>, it is necessary to iterate through the agPerson's agPersonMjAgPersonAgLanguage values and delete their related agPersonLanguageCompetency values before deleting the actual agPersonMjAgPerosnLanguage values.</p>
<p>Last to be deleted is the actual <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a>. </p>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00366">366</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8cfd5f3950a35988a1cdf96e535dba1d"></a><!-- doxytag: member="staffActions::executeEdit" ref="a8cfd5f3950a35988a1cdf96e535dba1d" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeEdit </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a form prepopulated with the current information of the staff member to be edited. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - This function expects an ag_person.id as pass-in parameter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00323">323</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad742fad2e65ab563c73d8c7edcd2be33"></a><!-- doxytag: member="staffActions::executeExport" ref="ad742fad2e65ab563c73d8c7edcd2be33" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeExport </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Export the entire staff list of an Agasti installation as an XLS and offer the option to open the file. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000062">Todo:</a></b></dt><dd><p class="startdd">: allow export of group selections or search results, implement export for other modules and models. </p>
<p class="enddd">: add some more formatting to the file that is output to make reading easier. </p>
</dd></dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00436">436</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="abd0811afe76b3eb63a846f65d4ecd774"></a><!-- doxytag: member="staffActions::executeImport" ref="abd0811afe76b3eb63a846f65d4ecd774" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeImport </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Imports staff records from a properly formatted XLS file. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000063">Todo:</a></b></dt><dd><p class="startdd">: define a standard import format and document it for the end user. </p>
<p class="enddd">: make this more robust and create meaningful error messages for failed import fiels and records. </p>
</dd></dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00678">678</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a274fc28f294c55451f564d058b886b4a"></a><!-- doxytag: member="staffActions::executeIndex" ref="a274fc28f294c55451f564d058b886b4a" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeIndex </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>executeIndex is currently used to execute the index action for the staff person module, it incorporates our join query to pull all staff information and passes a 'pager' object to the next step in execution: sfView </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$request</em>&nbsp;</td><td>the field name for sorting and the sorting order as pass-in parameters. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00142">142</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="af3ebc8feceb0c163628e7427883c0982"></a><!-- doxytag: member="staffActions::executeList" ref="af3ebc8feceb0c163628e7427883c0982" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeList </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000058">Todo:</a></b></dt><dd>detail this function </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000059">Todo:</a></b></dt><dd>include exception handling for a bad sort param </dd></dl>
</p>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00151">151</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="acd05aaadb70b656fc5f894c8724068ed"></a><!-- doxytag: member="staffActions::executeNew" ref="acd05aaadb70b656fc5f894c8724068ed" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeNew </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a blank <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> form to create and save a new agPerson/staff-member. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - A request object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00291">291</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a053eca93fdb2f778a7fb9417e00ffc8e"></a><!-- doxytag: member="staffActions::executeSearch" ref="a053eca93fdb2f778a7fb9417e00ffc8e" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeSearch </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - The function expects a query as pass-in parameter. It may also accepts one or multiple arrays of ag_nationality.id, ag_ethnicity.id, and/or ag_religion.id.</td></tr>
  </table>
  </dd>
</dl>
<p>executeSearch processes a search string and returns its results for the staff module. sfDoctrinePager is used to return paginated results. It checks if the query exists, then queries against entries in the <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> table.</p>
<p>$lqResults is processed to get the <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> IDs from the Lucene Query, and then these IDs are used to construct a Doctrine query that will be used to construct the pagination for showSuccess.php.</p>
<p>The final line of this function ($this-&gt;query = $query;) sets a query attribute that will be used by _results.php to ensure that pagination links work properly. </p>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000057">Todo:</a></b></dt><dd>include exception handling for a bad sort param </dd></dl>
</p>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00036">36</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0f30300f065d08d27b60819ce9607112"></a><!-- doxytag: member="staffActions::executeShow" ref="a0f30300f065d08d27b60819ce9607112" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeShow </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>executeShow displays an individual agPerson/staff-member entry. </p>
<p>It uses an sfDoctrinePager to navigate</p>
<p>the list of all staff members and to display the current staff member.</p>
<p>The use of Doctrine::getTable for various _types and _formats tables is used to generate table labels for the staff module's showSuccess.php.</p>
<p>executeShow has also been modified so it can handle requests called from indexSuccess or searchSuccess. In the former case, pagination is done for the entire list of agPersons, and users can browse through every one in the DB. In the later case, a check is made to see if $request has a query (it will only have one if it has come from searchSuccess). If $request has query, paginated results will only include those agPersons returned by the Lucene query. If not, each <a class="el" href="classagPerson.html" title="agPerson this class extends the person object for various purposes">agPerson</a> object will be paginated.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$request</em>&nbsp;</td><td>- a query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000060">Todo:</a></b></dt><dd>refactor the _types and _formats queries into one larger query. </dd></dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00208">208</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a33219dbdd462cc7809421bd42f78eb9d"></a><!-- doxytag: member="staffActions::executeUpdate" ref="a33219dbdd462cc7809421bd42f78eb9d" args="(sfWebRequest $request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::executeUpdate </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes the form created by executeEdit to update the agPerson/staff-member being edited. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - This function expects an ag_person.id as a pass-in parameter. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00336">336</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a611cfec2c66c5a34e3e63508b385dbe9"></a><!-- doxytag: member="staffActions::processForm" ref="a611cfec2c66c5a34e3e63508b385dbe9" args="(sfWebRequest $request, sfForm $form)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">staffActions::processForm </td>
          <td>(</td>
          <td class="paramtype">sfWebRequest $&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sfForm $&nbsp;</td>
          <td class="paramname"> <em>form</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes one of the forms generated in the above actions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sfWebRequest</em>&nbsp;</td><td>$request - A request object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sfForm</em>&nbsp;</td><td>$form - A form object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="staff_2actions_2actions_8class_8php_source.html#l00420">420</a> of file <a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>apps/frontend/modules/staff/actions/<a class="el" href="staff_2actions_2actions_8class_8php_source.html">actions.class.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
