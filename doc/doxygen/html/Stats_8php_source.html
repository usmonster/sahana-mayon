<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: plugins/sfPhpExcelPlugin/lib/PHPExcel/PHPExcel/Shared/JAMA/examples/Stats.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>plugins/sfPhpExcelPlugin/lib/PHPExcel/PHPExcel/Shared/JAMA/examples/Stats.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l00004"></a>00004 <span class="comment">// | PHP Version 4                                                        |</span>
<a name="l00005"></a>00005 <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l00006"></a>00006 <span class="comment">// | Copyright (c) 1997-2003 The PHP Group                                |</span>
<a name="l00007"></a>00007 <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l00008"></a>00008 <span class="comment">// | This source file is subject to version 2.0 of the PHP license,       |</span>
<a name="l00009"></a>00009 <span class="comment">// | that is bundled with this package in the file LICENSE, and is        |</span>
<a name="l00010"></a>00010 <span class="comment">// | available at through the world-wide-web at                           |</span>
<a name="l00011"></a>00011 <span class="comment">// | http://www.php.net/license/2_02.txt.                                 |</span>
<a name="l00012"></a>00012 <span class="comment">// | If you did not receive a copy of the PHP license and are unable to   |</span>
<a name="l00013"></a>00013 <span class="comment">// | obtain it through the world-wide-web, please send a note to          |</span>
<a name="l00014"></a>00014 <span class="comment">// | license@php.net so we can mail you a copy immediately.               |</span>
<a name="l00015"></a>00015 <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l00016"></a>00016 <span class="comment">// | Authors: Jesus M. Castagnetto &lt;jmcastagnetto@php.net&gt;                |</span>
<a name="l00017"></a>00017 <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="comment">// $Id: Stats.php,v 1.15 2003/06/01 11:40:30 jmcastagnetto Exp $</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 
<a name="l00022"></a><a class="code" href="namespaceMath__Stats.html">00022</a> include_once <span class="stringliteral">&#39;PEAR.php&#39;</span>;
<a name="l00023"></a>00023 
<a name="l00028"></a>00028 <span class="comment">// Constants for defining the statistics to calculate /*{{{*/</span>
<a name="l00032"></a>00032 <span class="comment"></span>define(<span class="stringliteral">&#39;STATS_BASIC&#39;</span>, 1);
<a name="l00036"></a>00036 define(<span class="stringliteral">&#39;STATS_FULL&#39;</span>, 2);
<a name="l00037"></a>00037 <span class="comment">/*}}}*/</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">// Constants describing the data set format /*{{{*/</span>
<a name="l00044"></a>00044 <span class="comment"></span>define(<span class="stringliteral">&#39;STATS_DATA_SIMPLE&#39;</span>, 0);
<a name="l00051"></a>00051 define(<span class="stringliteral">&#39;STATS_DATA_CUMMULATIVE&#39;</span>, 1);
<a name="l00052"></a>00052 <span class="comment">/*}}}*/</span>
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="comment">// Constants defining how to handle nulls /*{{{*/</span>
<a name="l00059"></a>00059 <span class="comment"></span>define(<span class="stringliteral">&#39;STATS_REJECT_NULL&#39;</span>, -1);
<a name="l00064"></a>00064 define(<span class="stringliteral">&#39;STATS_IGNORE_NULL&#39;</span>, -2);
<a name="l00069"></a>00069 define(<span class="stringliteral">&#39;STATS_USE_NULL_AS_ZERO&#39;</span>, -3);
<a name="l00070"></a>00070 <span class="comment">/*}}}*/</span>
<a name="l00071"></a>00071 
<a name="l00119"></a><a class="code" href="classBase.html">00119</a> <span class="keyword">class </span><a class="code" href="classBase.html">Base</a> {<span class="comment">/*{{{*/</span>
<a name="l00120"></a>00120     <span class="comment">// properties /*{{{*/</span>
<a name="l00121"></a>00121 
<a name="l00129"></a>00129     <span class="keyword">public</span> $_data = null;
<a name="l00130"></a>00130 
<a name="l00138"></a>00138     <span class="keyword">public</span> $_dataExpanded = null;
<a name="l00139"></a>00139 
<a name="l00147"></a>00147     <span class="keyword">public</span> $_dataOption = null;
<a name="l00148"></a>00148 
<a name="l00156"></a>00156     <span class="keyword">public</span> $_nullOption;
<a name="l00157"></a>00157 
<a name="l00165"></a>00165     <span class="keyword">public</span> $_calculatedValues = array();
<a name="l00166"></a>00166 
<a name="l00167"></a>00167     <span class="comment">/*}}}*/</span>
<a name="l00168"></a>00168 
<a name="l00176"></a><a class="code" href="classBase.html#ac9400bd104b8caa57f39cd857082faeb">00176</a>     function <a class="code" href="classBase.html#ac9400bd104b8caa57f39cd857082faeb" title="Constructor for the class.">Math_Stats</a>($nullOption=STATS_REJECT_NULL) {<span class="comment">/*{{{*/</span>
<a name="l00177"></a>00177         $this-&gt;_nullOption = $nullOption;
<a name="l00178"></a>00178     }<span class="comment">/*}}}*/</span>
<a name="l00179"></a>00179 
<a name="l00189"></a><a class="code" href="classBase.html#af194ab8896a113b3723141a6379dbb9c">00189</a>     function <a class="code" href="classBase.html#af194ab8896a113b3723141a6379dbb9c" title="Sets and verifies the data, checking for nulls and using the current null handling...">setData</a>($arr, $opt=STATS_DATA_SIMPLE) {<span class="comment">/*{{{*/</span>
<a name="l00190"></a>00190         <span class="keywordflow">if</span> (!is_array($arr)) {
<a name="l00191"></a>00191             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;invalid data, an array of numeric data was expected&#39;</span>);
<a name="l00192"></a>00192         }
<a name="l00193"></a>00193         $this-&gt;_data = null;
<a name="l00194"></a>00194         $this-&gt;_dataExpanded = null;
<a name="l00195"></a>00195         $this-&gt;_dataOption = null;
<a name="l00196"></a>00196         $this-&gt;_calculatedValues = array();
<a name="l00197"></a>00197         <span class="keywordflow">if</span> ($opt == STATS_DATA_SIMPLE) {
<a name="l00198"></a>00198             $this-&gt;_dataOption = $opt;
<a name="l00199"></a>00199             $this-&gt;_data = array_values($arr);
<a name="l00200"></a>00200         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($opt == STATS_DATA_CUMMULATIVE) {
<a name="l00201"></a>00201             $this-&gt;_dataOption = $opt;
<a name="l00202"></a>00202             $this-&gt;_data = $arr;
<a name="l00203"></a>00203             $this-&gt;_dataExpanded = array();
<a name="l00204"></a>00204         }
<a name="l00205"></a>00205         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#a4509b4d8cafa0c50e52669b239f54057" title="Utility function to validate the data and modify it according to the current null...">_validate</a>();
<a name="l00206"></a>00206     }<span class="comment">/*}}}*/</span>
<a name="l00207"></a>00207 
<a name="l00217"></a><a class="code" href="classBase.html#ac798a8e02c0461d7935b5e205e421ecf">00217</a>     function <a class="code" href="classBase.html#ac798a8e02c0461d7935b5e205e421ecf" title="Returns the data which might have been modified according to the current null handling...">getData</a>($expanded=<span class="keyword">false</span>) {<span class="comment">/*{{{*/</span>
<a name="l00218"></a>00218         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00219"></a>00219             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE &amp;&amp; $expanded) {
<a name="l00222"></a>00222             <span class="keywordflow">return</span> $this-&gt;_dataExpanded;
<a name="l00223"></a>00223         } <span class="keywordflow">else</span> {
<a name="l00224"></a>00224             <span class="keywordflow">return</span> $this-&gt;_data;
<a name="l00225"></a>00225         }
<a name="l00226"></a>00226     }<span class="comment">/*}}}*/</span>
<a name="l00227"></a>00227 
<a name="l00236"></a><a class="code" href="classBase.html#a6c39b5d96e70d35e2df2142ff3bce089">00236</a>     function <a class="code" href="classBase.html#a6c39b5d96e70d35e2df2142ff3bce089" title="Sets the null handling option.">setNullOption</a>($nullOption) {<span class="comment">/*{{{*/</span>
<a name="l00237"></a>00237         <span class="keywordflow">if</span> ($nullOption == STATS_REJECT_NULL
<a name="l00238"></a>00238             || $nullOption == STATS_IGNORE_NULL
<a name="l00239"></a>00239             || $nullOption == STATS_USE_NULL_AS_ZERO) {
<a name="l00240"></a>00240             $this-&gt;_nullOption = $nullOption;
<a name="l00241"></a>00241             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00242"></a>00242         } <span class="keywordflow">else</span> {
<a name="l00243"></a>00243             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;invalid null handling option expecting: &#39;</span>.
<a name="l00244"></a>00244                         <span class="stringliteral">&#39;STATS_REJECT_NULL, STATS_IGNORE_NULL or STATS_USE_NULL_AS_ZERO&#39;</span>);
<a name="l00245"></a>00245         }
<a name="l00246"></a>00246     }<span class="comment">/*}}}*/</span>
<a name="l00247"></a>00247 
<a name="l00259"></a><a class="code" href="classBase.html#adda0ea99c7e1ebbcc7a52dcc8269fdb6">00259</a>     function <a class="code" href="classBase.html#adda0ea99c7e1ebbcc7a52dcc8269fdb6" title="Transforms the data by substracting each entry from the mean and dividing by its...">studentize</a>() {<span class="comment">/*{{{*/</span>
<a name="l00260"></a>00260         $mean = $this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>();
<a name="l00261"></a>00261         <span class="keywordflow">if</span> (PEAR::isError($mean)) {
<a name="l00262"></a>00262             <span class="keywordflow">return</span> $mean;
<a name="l00263"></a>00263         }
<a name="l00264"></a>00264         $std = $this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>();
<a name="l00265"></a>00265         <span class="keywordflow">if</span> (PEAR::isError($std)) {
<a name="l00266"></a>00266             <span class="keywordflow">return</span> $std;
<a name="l00267"></a>00267         }
<a name="l00268"></a>00268         <span class="keywordflow">if</span> ($std == 0) {
<a name="l00269"></a>00269             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;cannot studentize data, standard deviation is zero.&#39;</span>);
<a name="l00270"></a>00270         }
<a name="l00271"></a>00271         $arr  = array();
<a name="l00272"></a>00272         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00273"></a>00273             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val=&gt;$freq) {
<a name="l00274"></a>00274                 $newval = ($val - $mean) / $std;
<a name="l00275"></a>00275                 $arr[<span class="stringliteral">&quot;$newval&quot;</span>] = $freq;
<a name="l00276"></a>00276             }
<a name="l00277"></a>00277         } <span class="keywordflow">else</span> {
<a name="l00278"></a>00278             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val) {
<a name="l00279"></a>00279                 $newval = ($val - $mean) / $std;
<a name="l00280"></a>00280                 $arr[] = $newval;
<a name="l00281"></a>00281             }
<a name="l00282"></a>00282         }
<a name="l00283"></a>00283         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#af194ab8896a113b3723141a6379dbb9c" title="Sets and verifies the data, checking for nulls and using the current null handling...">setData</a>($arr, $this-&gt;_dataOption);
<a name="l00284"></a>00284     }<span class="comment">/*}}}*/</span>
<a name="l00285"></a>00285 
<a name="l00295"></a><a class="code" href="classBase.html#a08d056ecd2735fe24b676f2063accce2">00295</a>     function <a class="code" href="classBase.html#a08d056ecd2735fe24b676f2063accce2" title="Transforms the data by substracting each entry from the mean.">center</a>() {<span class="comment">/*{{{*/</span>
<a name="l00296"></a>00296         $mean = $this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>();
<a name="l00297"></a>00297         <span class="keywordflow">if</span> (PEAR::isError($mean)) {
<a name="l00298"></a>00298             <span class="keywordflow">return</span> $mean;
<a name="l00299"></a>00299         }
<a name="l00300"></a>00300         $arr  = array();
<a name="l00301"></a>00301         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00302"></a>00302             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val=&gt;$freq) {
<a name="l00303"></a>00303                 $newval = $val - $mean;
<a name="l00304"></a>00304                 $arr[<span class="stringliteral">&quot;$newval&quot;</span>] = $freq;
<a name="l00305"></a>00305             }
<a name="l00306"></a>00306         } <span class="keywordflow">else</span> {
<a name="l00307"></a>00307             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val) {
<a name="l00308"></a>00308                 $newval = $val - $mean;
<a name="l00309"></a>00309                 $arr[] = $newval;
<a name="l00310"></a>00310             }
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#af194ab8896a113b3723141a6379dbb9c" title="Sets and verifies the data, checking for nulls and using the current null handling...">setData</a>($arr, $this-&gt;_dataOption);
<a name="l00313"></a>00313     }<span class="comment">/*}}}*/</span>
<a name="l00314"></a>00314 
<a name="l00326"></a><a class="code" href="classBase.html#a6c8b66032632e911f666cd88654b937d">00326</a>     function <a class="code" href="classBase.html#a6c8b66032632e911f666cd88654b937d" title="Calculates the basic or full statistics for the data set.">calc</a>($mode, $returnErrorObject=<span class="keyword">true</span>) {<span class="comment">/*{{{*/</span>
<a name="l00327"></a>00327         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00328"></a>00328             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00329"></a>00329         }
<a name="l00330"></a>00330         <span class="keywordflow">if</span> ($mode == STATS_BASIC) {
<a name="l00331"></a>00331             <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#a9c8dde87ca8224763856ad19f873f260" title="Calculates a basic set of statistics.">calcBasic</a>($returnErrorObject);
<a name="l00332"></a>00332         } elseif ($mode == STATS_FULL) {
<a name="l00333"></a>00333             <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#a153178ad7011cdeac0a206b18a396f44" title="Calculates a full set of statistics.">calcFull</a>($returnErrorObject);
<a name="l00334"></a>00334         } <span class="keywordflow">else</span> {
<a name="l00335"></a>00335             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;incorrect mode, expected STATS_BASIC or STATS_FULL&#39;</span>);
<a name="l00336"></a>00336         }
<a name="l00337"></a>00337     }<span class="comment">/*}}}*/</span>
<a name="l00338"></a>00338 
<a name="l00349"></a><a class="code" href="classBase.html#a9c8dde87ca8224763856ad19f873f260">00349</a>     function <a class="code" href="classBase.html#a9c8dde87ca8224763856ad19f873f260" title="Calculates a basic set of statistics.">calcBasic</a>($returnErrorObject=<span class="keyword">true</span>) {<span class="comment">/*{{{*/</span>
<a name="l00350"></a>00350             <span class="keywordflow">return</span> array (
<a name="l00351"></a>00351                 <span class="stringliteral">&#39;min&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>(), $returnErrorObject),
<a name="l00352"></a>00352                 <span class="stringliteral">&#39;max&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>(), $returnErrorObject),
<a name="l00353"></a>00353                 <span class="stringliteral">&#39;sum&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a2e02bb75078cc0e62b54998183212606" title="Calculates SUM { xi } Handles cummulative data sets correctly.">sum</a>(), $returnErrorObject),
<a name="l00354"></a>00354                 <span class="stringliteral">&#39;sum2&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52bdbbc0444308cde812818be369724a" title="Calculates SUM { (xi)^2 } Handles cummulative data sets correctly.">sum2</a>(), $returnErrorObject),
<a name="l00355"></a>00355                 <span class="stringliteral">&#39;count&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>(), $returnErrorObject),
<a name="l00356"></a>00356                 <span class="stringliteral">&#39;mean&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>(), $returnErrorObject),
<a name="l00357"></a>00357                 <span class="stringliteral">&#39;stdev&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>(), $returnErrorObject),
<a name="l00358"></a>00358                 <span class="stringliteral">&#39;variance&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a92327fca41b2cac87802786096800494" title="Calculates the variance (unbiased) of the data points in the set Handles cummulative...">variance</a>(), $returnErrorObject),
<a name="l00359"></a>00359                 <span class="stringliteral">&#39;range&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ae1877965cb1b5728c9d01bf5980dada8" title="Calculates the range of the data set = max - min.">range</a>(), $returnErrorObject)
<a name="l00360"></a>00360             );
<a name="l00361"></a>00361     }<span class="comment">/*}}}*/</span>
<a name="l00362"></a>00362 
<a name="l00373"></a><a class="code" href="classBase.html#a153178ad7011cdeac0a206b18a396f44">00373</a>     function <a class="code" href="classBase.html#a153178ad7011cdeac0a206b18a396f44" title="Calculates a full set of statistics.">calcFull</a>($returnErrorObject=<span class="keyword">true</span>) {<span class="comment">/*{{{*/</span>
<a name="l00374"></a>00374             <span class="keywordflow">return</span> array (
<a name="l00375"></a>00375                 <span class="stringliteral">&#39;min&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>(), $returnErrorObject),
<a name="l00376"></a>00376                 <span class="stringliteral">&#39;max&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>(), $returnErrorObject),
<a name="l00377"></a>00377                 <span class="stringliteral">&#39;sum&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a2e02bb75078cc0e62b54998183212606" title="Calculates SUM { xi } Handles cummulative data sets correctly.">sum</a>(), $returnErrorObject),
<a name="l00378"></a>00378                 <span class="stringliteral">&#39;sum2&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52bdbbc0444308cde812818be369724a" title="Calculates SUM { (xi)^2 } Handles cummulative data sets correctly.">sum2</a>(), $returnErrorObject),
<a name="l00379"></a>00379                 <span class="stringliteral">&#39;count&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>(), $returnErrorObject),
<a name="l00380"></a>00380                 <span class="stringliteral">&#39;mean&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>(), $returnErrorObject),
<a name="l00381"></a>00381                 <span class="stringliteral">&#39;median&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a8285075f56f5ac515ec3e9efbe7a3a70" title="Calculates the median of a data set.">median</a>(), $returnErrorObject),
<a name="l00382"></a>00382                 <span class="stringliteral">&#39;mode&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a2e68d7752c5e07b5d383e54eef53fb3a" title="Calculates the mode of a data set.">mode</a>(), $returnErrorObject),
<a name="l00383"></a>00383                 <span class="stringliteral">&#39;midrange&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ac96ddf23bb995cf0e0a94e7e7367d503" title="Calculates the midrange of a data set.">midrange</a>(), $returnErrorObject),
<a name="l00384"></a>00384                 <span class="stringliteral">&#39;geometric_mean&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a3f39091e2d01ce04926855786ba1b51a" title="Calculates the geometrical mean of the data points in the set Handles cummulative...">geometricMean</a>(), $returnErrorObject),
<a name="l00385"></a>00385                 <span class="stringliteral">&#39;harmonic_mean&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#aaacf84cdd9f19ea6c01c607f18f37640" title="Calculates the harmonic mean of the data points in the set Handles cummulative data...">harmonicMean</a>(), $returnErrorObject),
<a name="l00386"></a>00386                 <span class="stringliteral">&#39;stdev&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>(), $returnErrorObject),
<a name="l00387"></a>00387                 <span class="stringliteral">&#39;absdev&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ae6a77cc3f0f4cffa63efaf7200e5ed75" title="Calculates the absolute deviation of the data points in the set Handles cummulative...">absDev</a>(), $returnErrorObject),
<a name="l00388"></a>00388                 <span class="stringliteral">&#39;variance&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a92327fca41b2cac87802786096800494" title="Calculates the variance (unbiased) of the data points in the set Handles cummulative...">variance</a>(), $returnErrorObject),
<a name="l00389"></a>00389                 <span class="stringliteral">&#39;range&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ae1877965cb1b5728c9d01bf5980dada8" title="Calculates the range of the data set = max - min.">range</a>(), $returnErrorObject),
<a name="l00390"></a>00390                 <span class="stringliteral">&#39;std_error_of_mean&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a66ac806d797e00eba3a7116c2ad4374d" title="Calculates the standard error of the mean.">stdErrorOfMean</a>(), $returnErrorObject),
<a name="l00391"></a>00391                 <span class="stringliteral">&#39;skewness&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#afd66b90db44ca0f2af2748057046d1c0" title="Calculates the skewness of the data distribution in the set The skewness measures...">skewness</a>(), $returnErrorObject),
<a name="l00392"></a>00392                 <span class="stringliteral">&#39;kurtosis&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#af498f07e6ef58d9fd8162c132743a1ed" title="Calculates the kurtosis of the data distribution in the set The kurtosis measures...">kurtosis</a>(), $returnErrorObject),
<a name="l00393"></a>00393                 <span class="stringliteral">&#39;coeff_of_variation&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a8c3108c9a96ac531694c4b4d7162cb56" title="Calculates the coefficient of variation of a data set.">coeffOfVariation</a>(), $returnErrorObject),
<a name="l00394"></a>00394                 <span class="stringliteral">&#39;sample_central_moments&#39;</span> =&gt; array (
<a name="l00395"></a>00395                             1 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af" title="Calculates the nth central moment (m{n}) of a data set.">sampleCentralMoment</a>(1), $returnErrorObject),
<a name="l00396"></a>00396                             2 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af" title="Calculates the nth central moment (m{n}) of a data set.">sampleCentralMoment</a>(2), $returnErrorObject),
<a name="l00397"></a>00397                             3 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af" title="Calculates the nth central moment (m{n}) of a data set.">sampleCentralMoment</a>(3), $returnErrorObject),
<a name="l00398"></a>00398                             4 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af" title="Calculates the nth central moment (m{n}) of a data set.">sampleCentralMoment</a>(4), $returnErrorObject),
<a name="l00399"></a>00399                             5 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af" title="Calculates the nth central moment (m{n}) of a data set.">sampleCentralMoment</a>(5), $returnErrorObject)
<a name="l00400"></a>00400                             ),
<a name="l00401"></a>00401                 <span class="stringliteral">&#39;sample_raw_moments&#39;</span> =&gt; array (
<a name="l00402"></a>00402                             1 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5" title="Calculates the nth raw moment (m{n}) of a data set.">sampleRawMoment</a>(1), $returnErrorObject),
<a name="l00403"></a>00403                             2 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5" title="Calculates the nth raw moment (m{n}) of a data set.">sampleRawMoment</a>(2), $returnErrorObject),
<a name="l00404"></a>00404                             3 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5" title="Calculates the nth raw moment (m{n}) of a data set.">sampleRawMoment</a>(3), $returnErrorObject),
<a name="l00405"></a>00405                             4 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5" title="Calculates the nth raw moment (m{n}) of a data set.">sampleRawMoment</a>(4), $returnErrorObject),
<a name="l00406"></a>00406                             5 =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5" title="Calculates the nth raw moment (m{n}) of a data set.">sampleRawMoment</a>(5), $returnErrorObject)
<a name="l00407"></a>00407                             ),
<a name="l00408"></a>00408                 <span class="stringliteral">&#39;frequency&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ac6383e09c269486da6c4d19b6105a67c" title="Calculates the value frequency table of a data set.">frequency</a>(), $returnErrorObject),
<a name="l00409"></a>00409                 <span class="stringliteral">&#39;quartiles&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f" title="The quartiles are defined as the values that divide a sorted data set into four equal-sized...">quartiles</a>(), $returnErrorObject),
<a name="l00410"></a>00410                 <span class="stringliteral">&#39;interquartile_range&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a25c74359866ef900fc092178c55da6dd" title="The interquartile range is the distance between the 75th and 25th percentiles.">interquartileRange</a>(), $returnErrorObject),
<a name="l00411"></a>00411                 <span class="stringliteral">&#39;interquartile_mean&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a0c0a7f92eb54eecaeb7b921d630a8ee5" title="The interquartile mean is defined as the mean of the values left after discarding...">interquartileMean</a>(), $returnErrorObject),
<a name="l00412"></a>00412                 <span class="stringliteral">&#39;quartile_deviation&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#aacd8637d4f2935a3b890b89268e9125a" title="The quartile deviation is half of the interquartile range value.">quartileDeviation</a>(), $returnErrorObject),
<a name="l00413"></a>00413                 <span class="stringliteral">&#39;quartile_variation_coefficient&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#a4cf514317ee1def7320db4b3e87f5212" title="The quartile variation coefficient is defines as follows:">quartileVariationCoefficient</a>(), $returnErrorObject),
<a name="l00414"></a>00414                 <span class="stringliteral">&#39;quartile_skewness_coefficient&#39;</span> =&gt; $this-&gt;<a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($this-&gt;<a class="code" href="classBase.html#ad60458b9d484bb8c2a7d9323f89d0d8f" title="The quartile skewness coefficient (also known as Bowley Skewness), is defined as...">quartileSkewnessCoefficient</a>(), $returnErrorObject)
<a name="l00415"></a>00415             );
<a name="l00416"></a>00416     }<span class="comment">/*}}}*/</span>
<a name="l00417"></a>00417 
<a name="l00427"></a><a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f">00427</a>     function <a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>() {<span class="comment">/*{{{*/</span>
<a name="l00428"></a>00428         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00429"></a>00429             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00430"></a>00430         }
<a name="l00431"></a>00431         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;min&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00432"></a>00432             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00433"></a>00433                 $min = <a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>(array_keys($this-&gt;_data));
<a name="l00434"></a>00434             } <span class="keywordflow">else</span> {
<a name="l00435"></a>00435                 $min = <a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>($this-&gt;_data);
<a name="l00436"></a>00436             }
<a name="l00437"></a>00437             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;min&#39;</span>] = $min;
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;min&#39;</span>];
<a name="l00440"></a>00440     }<span class="comment">/*}}}*/</span>
<a name="l00441"></a>00441 
<a name="l00451"></a><a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263">00451</a>     function <a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>() {<span class="comment">/*{{{*/</span>
<a name="l00452"></a>00452         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00453"></a>00453             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00454"></a>00454         }
<a name="l00455"></a>00455         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;max&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00456"></a>00456             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00457"></a>00457                 $max = <a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>(array_keys($this-&gt;_data));
<a name="l00458"></a>00458             } <span class="keywordflow">else</span> {
<a name="l00459"></a>00459                 $max = <a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>($this-&gt;_data);
<a name="l00460"></a>00460             }
<a name="l00461"></a>00461             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;max&#39;</span>] = $max;
<a name="l00462"></a>00462         }
<a name="l00463"></a>00463         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;max&#39;</span>];
<a name="l00464"></a>00464     }<span class="comment">/*}}}*/</span>
<a name="l00465"></a>00465 
<a name="l00476"></a><a class="code" href="classBase.html#a2e02bb75078cc0e62b54998183212606">00476</a>     function <a class="code" href="classBase.html#a2e02bb75078cc0e62b54998183212606" title="Calculates SUM { xi } Handles cummulative data sets correctly.">sum</a>() {<span class="comment">/*{{{*/</span>
<a name="l00477"></a>00477         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;sum&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00478"></a>00478             $sum = $this-&gt;<a class="code" href="classBase.html#a7a5b32baf1f2ad5a2dfeb3ac7991dc52" title="Calculates SUM { (xi)^n } Handles cummulative data sets correctly.">sumN</a>(1);
<a name="l00479"></a>00479             <span class="keywordflow">if</span> (PEAR::isError($sum)) {
<a name="l00480"></a>00480                 <span class="keywordflow">return</span> $sum;
<a name="l00481"></a>00481             } <span class="keywordflow">else</span> {
<a name="l00482"></a>00482                 $this-&gt;_calculatedValues[<span class="stringliteral">&#39;sum&#39;</span>] = $sum;
<a name="l00483"></a>00483             }
<a name="l00484"></a>00484         }
<a name="l00485"></a>00485         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;sum&#39;</span>];
<a name="l00486"></a>00486     }<span class="comment">/*}}}*/</span>
<a name="l00487"></a>00487 
<a name="l00498"></a><a class="code" href="classBase.html#a52bdbbc0444308cde812818be369724a">00498</a>     function <a class="code" href="classBase.html#a52bdbbc0444308cde812818be369724a" title="Calculates SUM { (xi)^2 } Handles cummulative data sets correctly.">sum2</a>() {<span class="comment">/*{{{*/</span>
<a name="l00499"></a>00499         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;sum2&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00500"></a>00500             $sum2 = $this-&gt;<a class="code" href="classBase.html#a7a5b32baf1f2ad5a2dfeb3ac7991dc52" title="Calculates SUM { (xi)^n } Handles cummulative data sets correctly.">sumN</a>(2);
<a name="l00501"></a>00501             <span class="keywordflow">if</span> (PEAR::isError($sum2)) {
<a name="l00502"></a>00502                 <span class="keywordflow">return</span> $sum2;
<a name="l00503"></a>00503             } <span class="keywordflow">else</span> {
<a name="l00504"></a>00504                 $this-&gt;_calculatedValues[<span class="stringliteral">&#39;sum2&#39;</span>] = $sum2;
<a name="l00505"></a>00505             }
<a name="l00506"></a>00506         }
<a name="l00507"></a>00507         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;sum2&#39;</span>];
<a name="l00508"></a>00508     }<span class="comment">/*}}}*/</span>
<a name="l00509"></a>00509 
<a name="l00521"></a><a class="code" href="classBase.html#a7a5b32baf1f2ad5a2dfeb3ac7991dc52">00521</a>     function <a class="code" href="classBase.html#a7a5b32baf1f2ad5a2dfeb3ac7991dc52" title="Calculates SUM { (xi)^n } Handles cummulative data sets correctly.">sumN</a>($n) {<span class="comment">/*{{{*/</span>
<a name="l00522"></a>00522         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00523"></a>00523             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00524"></a>00524         }
<a name="l00525"></a>00525         $sumN = 0;
<a name="l00526"></a>00526         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00527"></a>00527             <span class="keywordflow">foreach</span>($this-&gt;_data as $val=&gt;$freq) {
<a name="l00528"></a>00528                 $sumN += $freq * pow((<span class="keywordtype">double</span>)$val, (<span class="keywordtype">double</span>)$n);
<a name="l00529"></a>00529             }
<a name="l00530"></a>00530         } <span class="keywordflow">else</span> {
<a name="l00531"></a>00531             <span class="keywordflow">foreach</span>($this-&gt;_data as $val) {
<a name="l00532"></a>00532                 $sumN += pow((<span class="keywordtype">double</span>)$val, (<span class="keywordtype">double</span>)$n);
<a name="l00533"></a>00533             }
<a name="l00534"></a>00534         }
<a name="l00535"></a>00535         <span class="keywordflow">return</span> $sumN;
<a name="l00536"></a>00536     }<span class="comment">/*}}}*/</span>
<a name="l00537"></a>00537 
<a name="l00546"></a><a class="code" href="classBase.html#a8b7382fa2a859c0ec357b267ac5e7994">00546</a>     function <a class="code" href="classBase.html#a8b7382fa2a859c0ec357b267ac5e7994" title="Calculates PROD { (xi) }, (the product of all observations) Handles cummulative data...">product</a>() {<span class="comment">/*{{{*/</span>
<a name="l00547"></a>00547         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;product&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00548"></a>00548             $product = $this-&gt;<a class="code" href="classBase.html#a2655a0bb567c8a7e273728de422b0e04" title="Calculates PROD { (xi)^n }, which is the product of all observations Handles cummulative...">productN</a>(1);
<a name="l00549"></a>00549             <span class="keywordflow">if</span> (PEAR::isError($product)) {
<a name="l00550"></a>00550                 <span class="keywordflow">return</span> $product;
<a name="l00551"></a>00551             } <span class="keywordflow">else</span> {
<a name="l00552"></a>00552                 $this-&gt;_calculatedValues[<span class="stringliteral">&#39;product&#39;</span>] = $product;
<a name="l00553"></a>00553             }
<a name="l00554"></a>00554         }
<a name="l00555"></a>00555         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;product&#39;</span>];
<a name="l00556"></a>00556     }<span class="comment">/*}}}*/</span>
<a name="l00557"></a>00557 
<a name="l00567"></a><a class="code" href="classBase.html#a2655a0bb567c8a7e273728de422b0e04">00567</a>     function <a class="code" href="classBase.html#a2655a0bb567c8a7e273728de422b0e04" title="Calculates PROD { (xi)^n }, which is the product of all observations Handles cummulative...">productN</a>($n) {<span class="comment">/*{{{*/</span>
<a name="l00568"></a>00568         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00569"></a>00569             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00570"></a>00570         }
<a name="l00571"></a>00571         $prodN = 1.0;
<a name="l00572"></a>00572         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00573"></a>00573             <span class="keywordflow">foreach</span>($this-&gt;_data as $val=&gt;$freq) {
<a name="l00574"></a>00574                 <span class="keywordflow">if</span> ($val == 0) {
<a name="l00575"></a>00575                     <span class="keywordflow">return</span> 0.0;
<a name="l00576"></a>00576                 }
<a name="l00577"></a>00577                 $prodN *= $freq * pow((<span class="keywordtype">double</span>)$val, (<span class="keywordtype">double</span>)$n);
<a name="l00578"></a>00578             }
<a name="l00579"></a>00579         } <span class="keywordflow">else</span> {
<a name="l00580"></a>00580             <span class="keywordflow">foreach</span>($this-&gt;_data as $val) {
<a name="l00581"></a>00581                 <span class="keywordflow">if</span> ($val == 0) {
<a name="l00582"></a>00582                     <span class="keywordflow">return</span> 0.0;
<a name="l00583"></a>00583                 }
<a name="l00584"></a>00584                 $prodN *= pow((<span class="keywordtype">double</span>)$val, (<span class="keywordtype">double</span>)$n);
<a name="l00585"></a>00585             }
<a name="l00586"></a>00586         }
<a name="l00587"></a>00587         <span class="keywordflow">return</span> $prodN;
<a name="l00588"></a>00588 
<a name="l00589"></a>00589     }<span class="comment">/*}}}*/</span>
<a name="l00590"></a>00590 
<a name="l00599"></a><a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0">00599</a>     function <a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>() {<span class="comment">/*{{{*/</span>
<a name="l00600"></a>00600         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00601"></a>00601             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00602"></a>00602         }
<a name="l00603"></a>00603         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;count&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00604"></a>00604             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00605"></a>00605                 $count = <a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>($this-&gt;_dataExpanded);
<a name="l00606"></a>00606             } <span class="keywordflow">else</span> {
<a name="l00607"></a>00607                 $count = <a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>($this-&gt;_data);
<a name="l00608"></a>00608             }
<a name="l00609"></a>00609             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;count&#39;</span>] = $count;
<a name="l00610"></a>00610         }
<a name="l00611"></a>00611         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;count&#39;</span>];
<a name="l00612"></a>00612     }<span class="comment">/*}}}*/</span>
<a name="l00613"></a>00613 
<a name="l00624"></a><a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4">00624</a>     function <a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>() {<span class="comment">/*{{{*/</span>
<a name="l00625"></a>00625         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;mean&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00626"></a>00626             $sum = $this-&gt;<a class="code" href="classBase.html#a2e02bb75078cc0e62b54998183212606" title="Calculates SUM { xi } Handles cummulative data sets correctly.">sum</a>();
<a name="l00627"></a>00627             <span class="keywordflow">if</span> (PEAR::isError($sum)) {
<a name="l00628"></a>00628                 <span class="keywordflow">return</span> $sum;
<a name="l00629"></a>00629             }
<a name="l00630"></a>00630             $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l00631"></a>00631             <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l00632"></a>00632                 <span class="keywordflow">return</span> $count;
<a name="l00633"></a>00633             }
<a name="l00634"></a>00634             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;mean&#39;</span>] = $sum / $count;
<a name="l00635"></a>00635         }
<a name="l00636"></a>00636         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;mean&#39;</span>];
<a name="l00637"></a>00637     }<span class="comment">/*}}}*/</span>
<a name="l00638"></a>00638 
<a name="l00645"></a><a class="code" href="classBase.html#ae1877965cb1b5728c9d01bf5980dada8">00645</a>     function <a class="code" href="classBase.html#ae1877965cb1b5728c9d01bf5980dada8" title="Calculates the range of the data set = max - min.">range</a>() {<span class="comment">/*{{{*/</span>
<a name="l00646"></a>00646         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;range&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00647"></a>00647             $min = $this-&gt;<a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>();
<a name="l00648"></a>00648             <span class="keywordflow">if</span> (PEAR::isError($min)) {
<a name="l00649"></a>00649                 <span class="keywordflow">return</span> $min;
<a name="l00650"></a>00650             }
<a name="l00651"></a>00651             $max = $this-&gt;<a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>();
<a name="l00652"></a>00652             <span class="keywordflow">if</span> (PEAR::isError($max)) {
<a name="l00653"></a>00653                 <span class="keywordflow">return</span> $max;
<a name="l00654"></a>00654             }
<a name="l00655"></a>00655             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;range&#39;</span>] = $max - $min;
<a name="l00656"></a>00656         }
<a name="l00657"></a>00657         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;range&#39;</span>];
<a name="l00658"></a>00658 
<a name="l00659"></a>00659     }<span class="comment">/*}}}*/</span>
<a name="l00660"></a>00660 
<a name="l00671"></a><a class="code" href="classBase.html#a92327fca41b2cac87802786096800494">00671</a>     function <a class="code" href="classBase.html#a92327fca41b2cac87802786096800494" title="Calculates the variance (unbiased) of the data points in the set Handles cummulative...">variance</a>() {<span class="comment">/*{{{*/</span>
<a name="l00672"></a>00672         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;variance&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00673"></a>00673             $variance = $this-&gt;<a class="code" href="classBase.html#a086f4488ac395a3e1a7ac7412cd1bcb3" title="Utility function to calculate the variance with or without a fixed mean.">__calcVariance</a>();
<a name="l00674"></a>00674             <span class="keywordflow">if</span> (PEAR::isError($variance)) {
<a name="l00675"></a>00675                 <span class="keywordflow">return</span> $variance;
<a name="l00676"></a>00676             }
<a name="l00677"></a>00677             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;variance&#39;</span>] = $variance;
<a name="l00678"></a>00678         }
<a name="l00679"></a>00679         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;variance&#39;</span>];
<a name="l00680"></a>00680     }<span class="comment">/*}}}*/</span>
<a name="l00681"></a>00681 
<a name="l00691"></a><a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d">00691</a>     function <a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>() {<span class="comment">/*{{{*/</span>
<a name="l00692"></a>00692         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;stDev&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00693"></a>00693             $variance = $this-&gt;<a class="code" href="classBase.html#a92327fca41b2cac87802786096800494" title="Calculates the variance (unbiased) of the data points in the set Handles cummulative...">variance</a>();
<a name="l00694"></a>00694             <span class="keywordflow">if</span> (PEAR::isError($variance)) {
<a name="l00695"></a>00695                 <span class="keywordflow">return</span> $variance;
<a name="l00696"></a>00696             }
<a name="l00697"></a>00697             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;stDev&#39;</span>] = sqrt($variance);
<a name="l00698"></a>00698         }
<a name="l00699"></a>00699         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;stDev&#39;</span>];
<a name="l00700"></a>00700     }<span class="comment">/*}}}*/</span>
<a name="l00701"></a>00701 
<a name="l00715"></a><a class="code" href="classBase.html#a8019398e98c9e9ab15c54a68202e69bc">00715</a>     function <a class="code" href="classBase.html#a8019398e98c9e9ab15c54a68202e69bc" title="Calculates the variance (unbiased) of the data points in the set given a fixed mean...">varianceWithMean</a>($mean) {<span class="comment">/*{{{*/</span>
<a name="l00716"></a>00716         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#a086f4488ac395a3e1a7ac7412cd1bcb3" title="Utility function to calculate the variance with or without a fixed mean.">__calcVariance</a>($mean);
<a name="l00717"></a>00717     }<span class="comment">/*}}}*/</span>
<a name="l00718"></a>00718 
<a name="l00731"></a><a class="code" href="classBase.html#ac116965c1176df7936a9d57a4d2f01f1">00731</a>     function <a class="code" href="classBase.html#ac116965c1176df7936a9d57a4d2f01f1" title="Calculates the standard deviation (unbiased) of the data points in the set given...">stDevWithMean</a>($mean) {<span class="comment">/*{{{*/</span>
<a name="l00732"></a>00732         $varianceWM = $this-&gt;<a class="code" href="classBase.html#a8019398e98c9e9ab15c54a68202e69bc" title="Calculates the variance (unbiased) of the data points in the set given a fixed mean...">varianceWithMean</a>($mean);
<a name="l00733"></a>00733         <span class="keywordflow">if</span> (PEAR::isError($varianceWM)) {
<a name="l00734"></a>00734             <span class="keywordflow">return</span> $varianceWM;
<a name="l00735"></a>00735         }
<a name="l00736"></a>00736         <span class="keywordflow">return</span> sqrt($varianceWM);
<a name="l00737"></a>00737     }<span class="comment">/*}}}*/</span>
<a name="l00738"></a>00738 
<a name="l00750"></a><a class="code" href="classBase.html#ae6a77cc3f0f4cffa63efaf7200e5ed75">00750</a>     function <a class="code" href="classBase.html#ae6a77cc3f0f4cffa63efaf7200e5ed75" title="Calculates the absolute deviation of the data points in the set Handles cummulative...">absDev</a>() {<span class="comment">/*{{{*/</span>
<a name="l00751"></a>00751         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;absDev&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00752"></a>00752             $absDev = $this-&gt;<a class="code" href="classBase.html#afe1f72462b53aa45b0e1cfac05e41faa" title="Utility function to calculate the absolute deviation with or without a fixed mean...">__calcAbsoluteDeviation</a>();
<a name="l00753"></a>00753             <span class="keywordflow">if</span> (PEAR::isError($absdev)) {
<a name="l00754"></a>00754                 <span class="keywordflow">return</span> $absdev;
<a name="l00755"></a>00755             }
<a name="l00756"></a>00756             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;absDev&#39;</span>] = $absDev;
<a name="l00757"></a>00757         }
<a name="l00758"></a>00758         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;absDev&#39;</span>];
<a name="l00759"></a>00759     }<span class="comment">/*}}}*/</span>
<a name="l00760"></a>00760 
<a name="l00773"></a><a class="code" href="classBase.html#aadcaa0ebed1155e035e964bb7c603b89">00773</a>     function <a class="code" href="classBase.html#aadcaa0ebed1155e035e964bb7c603b89" title="Calculates the absolute deviation of the data points in the set given a fixed mean...">absDevWithMean</a>($mean) {<span class="comment">/*{{{*/</span>
<a name="l00774"></a>00774         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBase.html#afe1f72462b53aa45b0e1cfac05e41faa" title="Utility function to calculate the absolute deviation with or without a fixed mean...">__calcAbsoluteDeviation</a>($mean);
<a name="l00775"></a>00775     }<span class="comment">/*}}}*/</span>
<a name="l00776"></a>00776 
<a name="l00795"></a><a class="code" href="classBase.html#afd66b90db44ca0f2af2748057046d1c0">00795</a>     function <a class="code" href="classBase.html#afd66b90db44ca0f2af2748057046d1c0" title="Calculates the skewness of the data distribution in the set The skewness measures...">skewness</a>() {<span class="comment">/*{{{*/</span>
<a name="l00796"></a>00796         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;skewness&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00797"></a>00797             $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l00798"></a>00798             <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l00799"></a>00799                 <span class="keywordflow">return</span> $count;
<a name="l00800"></a>00800             }
<a name="l00801"></a>00801             $stDev = $this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>();
<a name="l00802"></a>00802             <span class="keywordflow">if</span> (PEAR::isError($stDev)) {
<a name="l00803"></a>00803                 <span class="keywordflow">return</span> $stDev;
<a name="l00804"></a>00804             }
<a name="l00805"></a>00805             $sumdiff3 = $this-&gt;<a class="code" href="classBase.html#a19260c549c9b3dc97a1d38647bdbf41d" title="Utility function to calculate: SUM { (xi - mean)^n }.">__sumdiff</a>(3);
<a name="l00806"></a>00806             <span class="keywordflow">if</span> (PEAR::isError($sumdiff3)) {
<a name="l00807"></a>00807                 <span class="keywordflow">return</span> $sumdiff3;
<a name="l00808"></a>00808             }
<a name="l00809"></a>00809             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;skewness&#39;</span>] = ($sumdiff3 / ($count * pow($stDev, 3)));
<a name="l00810"></a>00810         }
<a name="l00811"></a>00811         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;skewness&#39;</span>];
<a name="l00812"></a>00812     }<span class="comment">/*}}}*/</span>
<a name="l00813"></a>00813 
<a name="l00832"></a><a class="code" href="classBase.html#af498f07e6ef58d9fd8162c132743a1ed">00832</a>     function <a class="code" href="classBase.html#af498f07e6ef58d9fd8162c132743a1ed" title="Calculates the kurtosis of the data distribution in the set The kurtosis measures...">kurtosis</a>() {<span class="comment">/*{{{*/</span>
<a name="l00833"></a>00833         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;kurtosis&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00834"></a>00834             $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l00835"></a>00835             <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l00836"></a>00836                 <span class="keywordflow">return</span> $count;
<a name="l00837"></a>00837             }
<a name="l00838"></a>00838             $stDev = $this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>();
<a name="l00839"></a>00839             <span class="keywordflow">if</span> (PEAR::isError($stDev)) {
<a name="l00840"></a>00840                 <span class="keywordflow">return</span> $stDev;
<a name="l00841"></a>00841             }
<a name="l00842"></a>00842             $sumdiff4 = $this-&gt;<a class="code" href="classBase.html#a19260c549c9b3dc97a1d38647bdbf41d" title="Utility function to calculate: SUM { (xi - mean)^n }.">__sumdiff</a>(4);
<a name="l00843"></a>00843             <span class="keywordflow">if</span> (PEAR::isError($sumdiff4)) {
<a name="l00844"></a>00844                 <span class="keywordflow">return</span> $sumdiff4;
<a name="l00845"></a>00845             }
<a name="l00846"></a>00846             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;kurtosis&#39;</span>] = ($sumdiff4 / ($count * pow($stDev, 4))) - 3;
<a name="l00847"></a>00847         }
<a name="l00848"></a>00848         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;kurtosis&#39;</span>];
<a name="l00849"></a>00849     }<span class="comment">/*}}}*/</span>
<a name="l00850"></a>00850 
<a name="l00864"></a><a class="code" href="classBase.html#a8285075f56f5ac515ec3e9efbe7a3a70">00864</a>     function <a class="code" href="classBase.html#a8285075f56f5ac515ec3e9efbe7a3a70" title="Calculates the median of a data set.">median</a>() {<span class="comment">/*{{{*/</span>
<a name="l00865"></a>00865         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00866"></a>00866             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00867"></a>00867         }
<a name="l00868"></a>00868         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;median&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00869"></a>00869             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00870"></a>00870                 $arr =&amp; $this-&gt;_dataExpanded;
<a name="l00871"></a>00871             } <span class="keywordflow">else</span> {
<a name="l00872"></a>00872                 $arr =&amp; $this-&gt;_data;
<a name="l00873"></a>00873             }
<a name="l00874"></a>00874             $n = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l00875"></a>00875             <span class="keywordflow">if</span> (PEAR::isError($n)) {
<a name="l00876"></a>00876                 <span class="keywordflow">return</span> $n;
<a name="l00877"></a>00877             }
<a name="l00878"></a>00878             $h = intval($n / 2);
<a name="l00879"></a>00879             <span class="keywordflow">if</span> ($n % 2 == 0) {
<a name="l00880"></a>00880                 $median = ($arr[$h] + $arr[$h - 1]) / 2;
<a name="l00881"></a>00881             } <span class="keywordflow">else</span> {
<a name="l00882"></a>00882                 $median = $arr[$h + 1];
<a name="l00883"></a>00883             }
<a name="l00884"></a>00884             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;median&#39;</span>] = $median;
<a name="l00885"></a>00885         }
<a name="l00886"></a>00886         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;median&#39;</span>];
<a name="l00887"></a>00887     }<span class="comment">/*}}}*/</span>
<a name="l00888"></a>00888 
<a name="l00900"></a><a class="code" href="classBase.html#a2e68d7752c5e07b5d383e54eef53fb3a">00900</a>     function <a class="code" href="classBase.html#a2e68d7752c5e07b5d383e54eef53fb3a" title="Calculates the mode of a data set.">mode</a>() {<span class="comment">/*{{{*/</span>
<a name="l00901"></a>00901         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00902"></a>00902             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00903"></a>00903         }
<a name="l00904"></a>00904         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;mode&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00905"></a>00905             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l00906"></a>00906                 $arr = $this-&gt;_data;
<a name="l00907"></a>00907             } <span class="keywordflow">else</span> {
<a name="l00908"></a>00908                 $arr = $this-&gt;<a class="code" href="classBase.html#ac6383e09c269486da6c4d19b6105a67c" title="Calculates the value frequency table of a data set.">frequency</a>();
<a name="l00909"></a>00909             }
<a name="l00910"></a>00910             arsort($arr);
<a name="l00911"></a>00911             $mcount = 1;
<a name="l00912"></a>00912             <span class="keywordflow">foreach</span> ($arr as $val=&gt;$freq) {
<a name="l00913"></a>00913                 <span class="keywordflow">if</span> ($mcount == 1) {
<a name="l00914"></a>00914                     $mode = array($val);
<a name="l00915"></a>00915                     $mfreq = $freq;
<a name="l00916"></a>00916                     ++$mcount;
<a name="l00917"></a>00917                     <span class="keywordflow">continue</span>;
<a name="l00918"></a>00918                 }
<a name="l00919"></a>00919                 <span class="keywordflow">if</span> ($mfreq == $freq)
<a name="l00920"></a>00920                     $mode[] = $val;
<a name="l00921"></a>00921                 <span class="keywordflow">if</span> ($mfreq &gt; $freq)
<a name="l00922"></a>00922                     <span class="keywordflow">break</span>;
<a name="l00923"></a>00923             }
<a name="l00924"></a>00924             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;mode&#39;</span>] = $mode;
<a name="l00925"></a>00925         }
<a name="l00926"></a>00926         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;mode&#39;</span>];
<a name="l00927"></a>00927     }<span class="comment">/*}}}*/</span>
<a name="l00928"></a>00928 
<a name="l00940"></a><a class="code" href="classBase.html#ac96ddf23bb995cf0e0a94e7e7367d503">00940</a>     function <a class="code" href="classBase.html#ac96ddf23bb995cf0e0a94e7e7367d503" title="Calculates the midrange of a data set.">midrange</a>() {<span class="comment">/*{{{*/</span>
<a name="l00941"></a>00941         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;midrange&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00942"></a>00942             $min = $this-&gt;<a class="code" href="classBase.html#a546eaecf0f9bd51d9405934a37fc474f" title="Calculates the minimum of a data set.">min</a>();
<a name="l00943"></a>00943             <span class="keywordflow">if</span> (PEAR::isError($min)) {
<a name="l00944"></a>00944                 <span class="keywordflow">return</span> $min;
<a name="l00945"></a>00945             }
<a name="l00946"></a>00946             $max = $this-&gt;<a class="code" href="classBase.html#a0b203e73f5af1ba5de5e917e8863c263" title="Calculates the maximum of a data set.">max</a>();
<a name="l00947"></a>00947             <span class="keywordflow">if</span> (PEAR::isError($max)) {
<a name="l00948"></a>00948                 <span class="keywordflow">return</span> $max;
<a name="l00949"></a>00949             }
<a name="l00950"></a>00950             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;midrange&#39;</span>] = (($max + $min) / 2);
<a name="l00951"></a>00951         }
<a name="l00952"></a>00952         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;midrange&#39;</span>];
<a name="l00953"></a>00953     }<span class="comment">/*}}}*/</span>
<a name="l00954"></a>00954 
<a name="l00965"></a><a class="code" href="classBase.html#a3f39091e2d01ce04926855786ba1b51a">00965</a>     function <a class="code" href="classBase.html#a3f39091e2d01ce04926855786ba1b51a" title="Calculates the geometrical mean of the data points in the set Handles cummulative...">geometricMean</a>() {<span class="comment">/*{{{*/</span>
<a name="l00966"></a>00966         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;geometricMean&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l00967"></a>00967             $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l00968"></a>00968             <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l00969"></a>00969                 <span class="keywordflow">return</span> $count;
<a name="l00970"></a>00970             }
<a name="l00971"></a>00971             $prod = $this-&gt;<a class="code" href="classBase.html#a8b7382fa2a859c0ec357b267ac5e7994" title="Calculates PROD { (xi) }, (the product of all observations) Handles cummulative data...">product</a>();
<a name="l00972"></a>00972             <span class="keywordflow">if</span> (PEAR::isError($prod)) {
<a name="l00973"></a>00973                 <span class="keywordflow">return</span> $prod;
<a name="l00974"></a>00974             }
<a name="l00975"></a>00975             <span class="keywordflow">if</span> ($prod == 0.0) {
<a name="l00976"></a>00976                 <span class="keywordflow">return</span> 0.0;
<a name="l00977"></a>00977             }
<a name="l00978"></a>00978             <span class="keywordflow">if</span> ($prod &lt; 0) {
<a name="l00979"></a>00979                 <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;The product of the data set is negative, geometric mean undefined.&#39;</span>);
<a name="l00980"></a>00980             }
<a name="l00981"></a>00981             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;geometricMean&#39;</span>] = pow($prod , 1 / $count);
<a name="l00982"></a>00982         }
<a name="l00983"></a>00983         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;geometricMean&#39;</span>];
<a name="l00984"></a>00984     }<span class="comment">/*}}}*/</span>
<a name="l00985"></a>00985 
<a name="l00995"></a><a class="code" href="classBase.html#aaacf84cdd9f19ea6c01c607f18f37640">00995</a>     function <a class="code" href="classBase.html#aaacf84cdd9f19ea6c01c607f18f37640" title="Calculates the harmonic mean of the data points in the set Handles cummulative data...">harmonicMean</a>() {<span class="comment">/*{{{*/</span>
<a name="l00996"></a>00996         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l00997"></a>00997             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l00998"></a>00998         }
<a name="l00999"></a>00999         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;harmonicMean&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01000"></a>01000             $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01001"></a>01001             <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01002"></a>01002                 <span class="keywordflow">return</span> $count;
<a name="l01003"></a>01003             }
<a name="l01004"></a>01004             $invsum = 0.0;
<a name="l01005"></a>01005             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l01006"></a>01006                 <span class="keywordflow">foreach</span>($this-&gt;_data as $val=&gt;$freq) {
<a name="l01007"></a>01007                     <span class="keywordflow">if</span> ($val == 0) {
<a name="l01008"></a>01008                         <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;cannot calculate a &#39;</span>.
<a name="l01009"></a>01009                                 <span class="stringliteral">&#39;harmonic mean with data values of zero.&#39;</span>);
<a name="l01010"></a>01010                     }
<a name="l01011"></a>01011                     $invsum += $freq / $val;
<a name="l01012"></a>01012                 }
<a name="l01013"></a>01013             } <span class="keywordflow">else</span> {
<a name="l01014"></a>01014                 <span class="keywordflow">foreach</span>($this-&gt;_data as $val) {
<a name="l01015"></a>01015                     <span class="keywordflow">if</span> ($val == 0) {
<a name="l01016"></a>01016                         <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;cannot calculate a &#39;</span>.
<a name="l01017"></a>01017                                 <span class="stringliteral">&#39;harmonic mean with data values of zero.&#39;</span>);
<a name="l01018"></a>01018                     }
<a name="l01019"></a>01019                     $invsum += 1 / $val;
<a name="l01020"></a>01020                 }
<a name="l01021"></a>01021             }
<a name="l01022"></a>01022             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;harmonicMean&#39;</span>] = $count / $invsum;
<a name="l01023"></a>01023         }
<a name="l01024"></a>01024         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;harmonicMean&#39;</span>];
<a name="l01025"></a>01025     }<span class="comment">/*}}}*/</span>
<a name="l01026"></a>01026 
<a name="l01040"></a><a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af">01040</a>     function <a class="code" href="classBase.html#a4c0380bceb826a5fbcedcd3b8290c9af" title="Calculates the nth central moment (m{n}) of a data set.">sampleCentralMoment</a>($n) {<span class="comment">/*{{{*/</span>
<a name="l01041"></a>01041         <span class="keywordflow">if</span> (!is_int($n) || $n &lt; 1) {
<a name="l01042"></a>01042             <span class="keywordflow">return</span> PEAR::isError(<span class="stringliteral">&#39;moment must be a positive integer &gt;= 1.&#39;</span>);
<a name="l01043"></a>01043         }
<a name="l01044"></a>01044 
<a name="l01045"></a>01045         <span class="keywordflow">if</span> ($n == 1) {
<a name="l01046"></a>01046             <span class="keywordflow">return</span> 0;
<a name="l01047"></a>01047         }
<a name="l01048"></a>01048         $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01049"></a>01049         <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01050"></a>01050             <span class="keywordflow">return</span> $count;
<a name="l01051"></a>01051         }
<a name="l01052"></a>01052         <span class="keywordflow">if</span> ($count == 0) {
<a name="l01053"></a>01053             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&quot;Cannot calculate {$n}th sample moment, &quot;</span>.
<a name="l01054"></a>01054                     <span class="stringliteral">&#39;there are zero data entries&#39;</span>);
<a name="l01055"></a>01055         }
<a name="l01056"></a>01056         $sum = $this-&gt;<a class="code" href="classBase.html#a19260c549c9b3dc97a1d38647bdbf41d" title="Utility function to calculate: SUM { (xi - mean)^n }.">__sumdiff</a>($n);
<a name="l01057"></a>01057         <span class="keywordflow">if</span> (PEAR::isError($sum)) {
<a name="l01058"></a>01058             <span class="keywordflow">return</span> $sum;
<a name="l01059"></a>01059         }
<a name="l01060"></a>01060         <span class="keywordflow">return</span> ($sum / $count);
<a name="l01061"></a>01061     }<span class="comment">/*}}}*/</span>
<a name="l01062"></a>01062 
<a name="l01076"></a><a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5">01076</a>     function <a class="code" href="classBase.html#a52550ea3cfa596229cf4a82b12f2a3c5" title="Calculates the nth raw moment (m{n}) of a data set.">sampleRawMoment</a>($n) {<span class="comment">/*{{{*/</span>
<a name="l01077"></a>01077         <span class="keywordflow">if</span> (!is_int($n) || $n &lt; 1) {
<a name="l01078"></a>01078             <span class="keywordflow">return</span> PEAR::isError(<span class="stringliteral">&#39;moment must be a positive integer &gt;= 1.&#39;</span>);
<a name="l01079"></a>01079         }
<a name="l01080"></a>01080 
<a name="l01081"></a>01081         $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01082"></a>01082         <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01083"></a>01083             <span class="keywordflow">return</span> $count;
<a name="l01084"></a>01084         }
<a name="l01085"></a>01085         <span class="keywordflow">if</span> ($count == 0) {
<a name="l01086"></a>01086             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&quot;Cannot calculate {$n}th raw moment, &quot;</span>.
<a name="l01087"></a>01087                     <span class="stringliteral">&#39;there are zero data entries.&#39;</span>);
<a name="l01088"></a>01088         }
<a name="l01089"></a>01089         $sum = $this-&gt;<a class="code" href="classBase.html#a7a5b32baf1f2ad5a2dfeb3ac7991dc52" title="Calculates SUM { (xi)^n } Handles cummulative data sets correctly.">sumN</a>($n);
<a name="l01090"></a>01090         <span class="keywordflow">if</span> (PEAR::isError($sum)) {
<a name="l01091"></a>01091             <span class="keywordflow">return</span> $sum;
<a name="l01092"></a>01092         }
<a name="l01093"></a>01093         <span class="keywordflow">return</span> ($sum / $count);
<a name="l01094"></a>01094     }<span class="comment">/*}}}*/</span>
<a name="l01095"></a>01095 
<a name="l01096"></a>01096 
<a name="l01109"></a><a class="code" href="classBase.html#a8c3108c9a96ac531694c4b4d7162cb56">01109</a>     function <a class="code" href="classBase.html#a8c3108c9a96ac531694c4b4d7162cb56" title="Calculates the coefficient of variation of a data set.">coeffOfVariation</a>() {<span class="comment">/*{{{*/</span>
<a name="l01110"></a>01110         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;coeffOfVariation&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01111"></a>01111             $mean = $this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>();
<a name="l01112"></a>01112             <span class="keywordflow">if</span> (PEAR::isError($mean)) {
<a name="l01113"></a>01113                 <span class="keywordflow">return</span> $mean;
<a name="l01114"></a>01114             }
<a name="l01115"></a>01115             <span class="keywordflow">if</span> ($mean == 0.0) {
<a name="l01116"></a>01116                 <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;cannot calculate the coefficient &#39;</span>.
<a name="l01117"></a>01117                         <span class="stringliteral">&#39;of variation, mean of sample is zero&#39;</span>);
<a name="l01118"></a>01118             }
<a name="l01119"></a>01119             $stDev = $this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>();
<a name="l01120"></a>01120             <span class="keywordflow">if</span> (PEAR::isError($stDev)) {
<a name="l01121"></a>01121                 <span class="keywordflow">return</span> $stDev;
<a name="l01122"></a>01122             }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;coeffOfVariation&#39;</span>] = $stDev / $mean;
<a name="l01125"></a>01125         }
<a name="l01126"></a>01126         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;coeffOfVariation&#39;</span>];
<a name="l01127"></a>01127     }<span class="comment">/*}}}*/</span>
<a name="l01128"></a>01128 
<a name="l01146"></a><a class="code" href="classBase.html#a66ac806d797e00eba3a7116c2ad4374d">01146</a>     function <a class="code" href="classBase.html#a66ac806d797e00eba3a7116c2ad4374d" title="Calculates the standard error of the mean.">stdErrorOfMean</a>() {<span class="comment">/*{{{*/</span>
<a name="l01147"></a>01147         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;stdErrorOfMean&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01148"></a>01148             $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01149"></a>01149             <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01150"></a>01150                 <span class="keywordflow">return</span> $count;
<a name="l01151"></a>01151             }
<a name="l01152"></a>01152             $stDev = $this-&gt;<a class="code" href="classBase.html#ab5402dc98a61eb6176c3a69487e3016d" title="Calculates the standard deviation (unbiased) of the data points in the set Handles...">stDev</a>();
<a name="l01153"></a>01153             <span class="keywordflow">if</span> (PEAR::isError($stDev)) {
<a name="l01154"></a>01154                 <span class="keywordflow">return</span> $stDev;
<a name="l01155"></a>01155             }
<a name="l01156"></a>01156             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;stdErrorOfMean&#39;</span>] = $stDev / sqrt($count);
<a name="l01157"></a>01157         }
<a name="l01158"></a>01158         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;stdErrorOfMean&#39;</span>];
<a name="l01159"></a>01159     }<span class="comment">/*}}}*/</span>
<a name="l01160"></a>01160 
<a name="l01171"></a><a class="code" href="classBase.html#ac6383e09c269486da6c4d19b6105a67c">01171</a>     function <a class="code" href="classBase.html#ac6383e09c269486da6c4d19b6105a67c" title="Calculates the value frequency table of a data set.">frequency</a>() {<span class="comment">/*{{{*/</span>
<a name="l01172"></a>01172         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l01173"></a>01173             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l01174"></a>01174         }
<a name="l01175"></a>01175         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;frequency&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01176"></a>01176             <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l01177"></a>01177                 $freq = $this-&gt;_data;
<a name="l01178"></a>01178             } <span class="keywordflow">else</span> {
<a name="l01179"></a>01179                 $freq = array();
<a name="l01180"></a>01180                 <span class="keywordflow">foreach</span> ($this-&gt;_data as $val) {
<a name="l01181"></a>01181                     $freq[<span class="stringliteral">&quot;$val&quot;</span>]++;
<a name="l01182"></a>01182                 }
<a name="l01183"></a>01183                 ksort($freq);
<a name="l01184"></a>01184             }
<a name="l01185"></a>01185             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;frequency&#39;</span>] = $freq;
<a name="l01186"></a>01186         }
<a name="l01187"></a>01187         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;frequency&#39;</span>];
<a name="l01188"></a>01188     }<span class="comment">/*}}}*/</span>
<a name="l01189"></a>01189 
<a name="l01199"></a><a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f">01199</a>     function <a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f" title="The quartiles are defined as the values that divide a sorted data set into four equal-sized...">quartiles</a>() {<span class="comment">/*{{{*/</span>
<a name="l01200"></a>01200         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;quartiles&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01201"></a>01201             $q1 = $this-&gt;<a class="code" href="classBase.html#a5f66602c3934b48490aff3a8ca3af530" title="The pth percentile is the value such that p% of the a sorted data set is smaller...">percentile</a>(25);
<a name="l01202"></a>01202             <span class="keywordflow">if</span> (PEAR::isError($q1)) {
<a name="l01203"></a>01203                 <span class="keywordflow">return</span> $q1;
<a name="l01204"></a>01204             }
<a name="l01205"></a>01205             $q2 = $this-&gt;<a class="code" href="classBase.html#a5f66602c3934b48490aff3a8ca3af530" title="The pth percentile is the value such that p% of the a sorted data set is smaller...">percentile</a>(50);
<a name="l01206"></a>01206             <span class="keywordflow">if</span> (PEAR::isError($q2)) {
<a name="l01207"></a>01207                 <span class="keywordflow">return</span> $q2;
<a name="l01208"></a>01208             }
<a name="l01209"></a>01209             $q3 = $this-&gt;<a class="code" href="classBase.html#a5f66602c3934b48490aff3a8ca3af530" title="The pth percentile is the value such that p% of the a sorted data set is smaller...">percentile</a>(75);
<a name="l01210"></a>01210             <span class="keywordflow">if</span> (PEAR::isError($q3)) {
<a name="l01211"></a>01211                 <span class="keywordflow">return</span> $q3;
<a name="l01212"></a>01212             }
<a name="l01213"></a>01213             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartiles&#39;</span>] = array (
<a name="l01214"></a>01214                                         <span class="stringliteral">&#39;25&#39;</span> =&gt; $q1,
<a name="l01215"></a>01215                                         <span class="stringliteral">&#39;50&#39;</span> =&gt; $q2,
<a name="l01216"></a>01216                                         <span class="stringliteral">&#39;75&#39;</span> =&gt; $q3
<a name="l01217"></a>01217                                         );
<a name="l01218"></a>01218         }
<a name="l01219"></a>01219         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartiles&#39;</span>];
<a name="l01220"></a>01220     }<span class="comment">/*}}}*/</span>
<a name="l01221"></a>01221 
<a name="l01235"></a><a class="code" href="classBase.html#a0c0a7f92eb54eecaeb7b921d630a8ee5">01235</a>     function <a class="code" href="classBase.html#a0c0a7f92eb54eecaeb7b921d630a8ee5" title="The interquartile mean is defined as the mean of the values left after discarding...">interquartileMean</a>() {<span class="comment">/*{{{*/</span>
<a name="l01236"></a>01236         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;interquartileMean&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01237"></a>01237             $quart = $this-&gt;<a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f" title="The quartiles are defined as the values that divide a sorted data set into four equal-sized...">quartiles</a>();
<a name="l01238"></a>01238             <span class="keywordflow">if</span> (PEAR::isError($quart)) {
<a name="l01239"></a>01239                 <span class="keywordflow">return</span> $quart;
<a name="l01240"></a>01240             }
<a name="l01241"></a>01241             $q3 = $quart[<span class="stringliteral">&#39;75&#39;</span>];
<a name="l01242"></a>01242             $q1 = $quart[<span class="stringliteral">&#39;25&#39;</span>];
<a name="l01243"></a>01243             $sum = 0;
<a name="l01244"></a>01244             $n = 0;
<a name="l01245"></a>01245             <span class="keywordflow">foreach</span> ($this-&gt;<a class="code" href="classBase.html#ac798a8e02c0461d7935b5e205e421ecf" title="Returns the data which might have been modified according to the current null handling...">getData</a>(<span class="keyword">true</span>) as $val) {
<a name="l01246"></a>01246                 <span class="keywordflow">if</span> ($val &gt;= $q1 &amp;&amp; $val &lt;= $q3) {
<a name="l01247"></a>01247                     $sum += $val;
<a name="l01248"></a>01248                     ++$n;
<a name="l01249"></a>01249                 }
<a name="l01250"></a>01250             }
<a name="l01251"></a>01251             <span class="keywordflow">if</span> ($n == 0) {
<a name="l01252"></a>01252                 <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;error calculating interquartile mean, &#39;</span>.
<a name="l01253"></a>01253                                         <span class="stringliteral">&#39;empty interquartile range of values.&#39;</span>);
<a name="l01254"></a>01254             }
<a name="l01255"></a>01255             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;interquartileMean&#39;</span>] = $sum / $n;
<a name="l01256"></a>01256         }
<a name="l01257"></a>01257         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;interquartileMean&#39;</span>];
<a name="l01258"></a>01258     }<span class="comment">/*}}}*/</span>
<a name="l01259"></a>01259 
<a name="l01273"></a><a class="code" href="classBase.html#a25c74359866ef900fc092178c55da6dd">01273</a>     function <a class="code" href="classBase.html#a25c74359866ef900fc092178c55da6dd" title="The interquartile range is the distance between the 75th and 25th percentiles.">interquartileRange</a>() {<span class="comment">/*{{{*/</span>
<a name="l01274"></a>01274         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;interquartileRange&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01275"></a>01275             $quart = $this-&gt;<a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f" title="The quartiles are defined as the values that divide a sorted data set into four equal-sized...">quartiles</a>();
<a name="l01276"></a>01276             <span class="keywordflow">if</span> (PEAR::isError($quart)) {
<a name="l01277"></a>01277                 <span class="keywordflow">return</span> $quart;
<a name="l01278"></a>01278             }
<a name="l01279"></a>01279             $q3 = $quart[<span class="stringliteral">&#39;75&#39;</span>];
<a name="l01280"></a>01280             $q1 = $quart[<span class="stringliteral">&#39;25&#39;</span>];
<a name="l01281"></a>01281             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;interquartileRange&#39;</span>] = $q3 - $q1;
<a name="l01282"></a>01282         }
<a name="l01283"></a>01283         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;interquartileRange&#39;</span>];
<a name="l01284"></a>01284     }<span class="comment">/*}}}*/</span>
<a name="l01285"></a>01285 
<a name="l01298"></a><a class="code" href="classBase.html#aacd8637d4f2935a3b890b89268e9125a">01298</a>     function <a class="code" href="classBase.html#aacd8637d4f2935a3b890b89268e9125a" title="The quartile deviation is half of the interquartile range value.">quartileDeviation</a>() {<span class="comment">/*{{{*/</span>
<a name="l01299"></a>01299         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;quartileDeviation&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01300"></a>01300             $iqr = $this-&gt;<a class="code" href="classBase.html#a25c74359866ef900fc092178c55da6dd" title="The interquartile range is the distance between the 75th and 25th percentiles.">interquartileRange</a>();
<a name="l01301"></a>01301             <span class="keywordflow">if</span> (PEAR::isError($iqr)) {
<a name="l01302"></a>01302                 <span class="keywordflow">return</span> $iqr;
<a name="l01303"></a>01303             }
<a name="l01304"></a>01304             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartileDeviation&#39;</span>] = $iqr / 2;
<a name="l01305"></a>01305         }
<a name="l01306"></a>01306         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartileDeviation&#39;</span>];
<a name="l01307"></a>01307     }<span class="comment">/*}}}*/</span>
<a name="l01308"></a>01308 
<a name="l01321"></a><a class="code" href="classBase.html#a4cf514317ee1def7320db4b3e87f5212">01321</a>     function <a class="code" href="classBase.html#a4cf514317ee1def7320db4b3e87f5212" title="The quartile variation coefficient is defines as follows:">quartileVariationCoefficient</a>() {<span class="comment">/*{{{*/</span>
<a name="l01322"></a>01322         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;quartileVariationCoefficient&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01323"></a>01323             $quart = $this-&gt;<a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f" title="The quartiles are defined as the values that divide a sorted data set into four equal-sized...">quartiles</a>();
<a name="l01324"></a>01324             <span class="keywordflow">if</span> (PEAR::isError($quart)) {
<a name="l01325"></a>01325                 <span class="keywordflow">return</span> $quart;
<a name="l01326"></a>01326             }
<a name="l01327"></a>01327             $q3 = $quart[<span class="stringliteral">&#39;75&#39;</span>];
<a name="l01328"></a>01328             $q1 = $quart[<span class="stringliteral">&#39;25&#39;</span>];
<a name="l01329"></a>01329             $d = $q3 - $q1;
<a name="l01330"></a>01330             $s = $q3 + $q1;
<a name="l01331"></a>01331             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartileVariationCoefficient&#39;</span>] = 100 * $d / $s;
<a name="l01332"></a>01332         }
<a name="l01333"></a>01333         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartileVariationCoefficient&#39;</span>];
<a name="l01334"></a>01334     }<span class="comment">/*}}}*/</span>
<a name="l01335"></a>01335 
<a name="l01349"></a><a class="code" href="classBase.html#ad60458b9d484bb8c2a7d9323f89d0d8f">01349</a>     function <a class="code" href="classBase.html#ad60458b9d484bb8c2a7d9323f89d0d8f" title="The quartile skewness coefficient (also known as Bowley Skewness), is defined as...">quartileSkewnessCoefficient</a>() {<span class="comment">/*{{{*/</span>
<a name="l01350"></a>01350         <span class="keywordflow">if</span> (!array_key_exists(<span class="stringliteral">&#39;quartileSkewnessCoefficient&#39;</span>, $this-&gt;_calculatedValues)) {
<a name="l01351"></a>01351             $quart = $this-&gt;<a class="code" href="classBase.html#ad9e75362d302171111e80e823968416f" title="The quartiles are defined as the values that divide a sorted data set into four equal-sized...">quartiles</a>();
<a name="l01352"></a>01352             <span class="keywordflow">if</span> (PEAR::isError($quart)) {
<a name="l01353"></a>01353                 <span class="keywordflow">return</span> $quart;
<a name="l01354"></a>01354             }
<a name="l01355"></a>01355             $q3 = $quart[<span class="stringliteral">&#39;75&#39;</span>];
<a name="l01356"></a>01356             $q2 = $quart[<span class="stringliteral">&#39;50&#39;</span>];
<a name="l01357"></a>01357             $q1 = $quart[<span class="stringliteral">&#39;25&#39;</span>];
<a name="l01358"></a>01358             $d = $q3 - 2*$q2 + $q1;
<a name="l01359"></a>01359             $s = $q3 - $q1;
<a name="l01360"></a>01360             $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartileSkewnessCoefficient&#39;</span>] = $d / $s;
<a name="l01361"></a>01361         }
<a name="l01362"></a>01362         <span class="keywordflow">return</span> $this-&gt;_calculatedValues[<span class="stringliteral">&#39;quartileSkewnessCoefficient&#39;</span>];
<a name="l01363"></a>01363     }<span class="comment">/*}}}*/</span>
<a name="l01364"></a>01364 
<a name="l01389"></a><a class="code" href="classBase.html#a5f66602c3934b48490aff3a8ca3af530">01389</a>     function <a class="code" href="classBase.html#a5f66602c3934b48490aff3a8ca3af530" title="The pth percentile is the value such that p% of the a sorted data set is smaller...">percentile</a>($p) {<span class="comment">/*{{{*/</span>
<a name="l01390"></a>01390         $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01391"></a>01391         <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01392"></a>01392             <span class="keywordflow">return</span> $count;
<a name="l01393"></a>01393         }
<a name="l01394"></a>01394         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l01395"></a>01395             $data =&amp; $this-&gt;_dataExpanded;
<a name="l01396"></a>01396         } <span class="keywordflow">else</span> {
<a name="l01397"></a>01397             $data =&amp; $this-&gt;_data;
<a name="l01398"></a>01398         }
<a name="l01399"></a>01399         $obsidx = $p * ($count + 1) / 100;
<a name="l01400"></a>01400         <span class="keywordflow">if</span> (intval($obsidx) == $obsidx) {
<a name="l01401"></a>01401             <span class="keywordflow">return</span> $data[($obsidx - 1)];
<a name="l01402"></a>01402         } elseif ($obsidx &lt; 1) {
<a name="l01403"></a>01403             <span class="keywordflow">return</span> $data[0];
<a name="l01404"></a>01404         } elseif ($obsidx &gt; $count) {
<a name="l01405"></a>01405             <span class="keywordflow">return</span> $data[($count - 1)];
<a name="l01406"></a>01406         } <span class="keywordflow">else</span> {
<a name="l01407"></a>01407             $left = floor($obsidx - 1);
<a name="l01408"></a>01408             $right = ceil($obsidx - 1);
<a name="l01409"></a>01409             <span class="keywordflow">return</span> ($data[$left] + $data[$right]) / 2;
<a name="l01410"></a>01410         }
<a name="l01411"></a>01411     }<span class="comment">/*}}}*/</span>
<a name="l01412"></a>01412 
<a name="l01413"></a>01413     <span class="comment">// private methods</span>
<a name="l01414"></a>01414 
<a name="l01428"></a><a class="code" href="classBase.html#a19260c549c9b3dc97a1d38647bdbf41d">01428</a>     function <a class="code" href="classBase.html#a19260c549c9b3dc97a1d38647bdbf41d" title="Utility function to calculate: SUM { (xi - mean)^n }.">__sumdiff</a>($power, $mean=null) {<span class="comment">/*{{{*/</span>
<a name="l01429"></a>01429         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l01430"></a>01430             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l01431"></a>01431         }
<a name="l01432"></a>01432         <span class="keywordflow">if</span> (is_null($mean)) {
<a name="l01433"></a>01433             $mean = $this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>();
<a name="l01434"></a>01434             <span class="keywordflow">if</span> (PEAR::isError($mean)) {
<a name="l01435"></a>01435                 <span class="keywordflow">return</span> $mean;
<a name="l01436"></a>01436             }
<a name="l01437"></a>01437         }
<a name="l01438"></a>01438         $sdiff = 0;
<a name="l01439"></a>01439         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l01440"></a>01440             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val=&gt;$freq) {
<a name="l01441"></a>01441                 $sdiff += $freq * pow((<span class="keywordtype">double</span>)($val - $mean), (<span class="keywordtype">double</span>)$power);
<a name="l01442"></a>01442             }
<a name="l01443"></a>01443         } <span class="keywordflow">else</span> {
<a name="l01444"></a>01444             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val)
<a name="l01445"></a>01445                 $sdiff += pow((<span class="keywordtype">double</span>)($val - $mean), (<span class="keywordtype">double</span>)$power);
<a name="l01446"></a>01446         }
<a name="l01447"></a>01447         <span class="keywordflow">return</span> $sdiff;
<a name="l01448"></a>01448     }<span class="comment">/*}}}*/</span>
<a name="l01449"></a>01449 
<a name="l01460"></a><a class="code" href="classBase.html#a086f4488ac395a3e1a7ac7412cd1bcb3">01460</a>     function <a class="code" href="classBase.html#a086f4488ac395a3e1a7ac7412cd1bcb3" title="Utility function to calculate the variance with or without a fixed mean.">__calcVariance</a>($mean = null) {<span class="comment">/*{{{*/</span>
<a name="l01461"></a>01461         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l01462"></a>01462             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l01463"></a>01463         }
<a name="l01464"></a>01464         $sumdiff2 = $this-&gt;<a class="code" href="classBase.html#a19260c549c9b3dc97a1d38647bdbf41d" title="Utility function to calculate: SUM { (xi - mean)^n }.">__sumdiff</a>(2, $mean);
<a name="l01465"></a>01465         <span class="keywordflow">if</span> (PEAR::isError($sumdiff2)) {
<a name="l01466"></a>01466             <span class="keywordflow">return</span> $sumdiff2;
<a name="l01467"></a>01467         }
<a name="l01468"></a>01468         $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01469"></a>01469         <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01470"></a>01470             <span class="keywordflow">return</span> $count;
<a name="l01471"></a>01471         }
<a name="l01472"></a>01472         <span class="keywordflow">if</span> ($count == 1) {
<a name="l01473"></a>01473             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;cannot calculate variance of a singe data point&#39;</span>);
<a name="l01474"></a>01474         }
<a name="l01475"></a>01475         <span class="keywordflow">return</span>  ($sumdiff2 / ($count - 1));
<a name="l01476"></a>01476     }<span class="comment">/*}}}*/</span>
<a name="l01477"></a>01477 
<a name="l01488"></a><a class="code" href="classBase.html#afe1f72462b53aa45b0e1cfac05e41faa">01488</a>     function <a class="code" href="classBase.html#afe1f72462b53aa45b0e1cfac05e41faa" title="Utility function to calculate the absolute deviation with or without a fixed mean...">__calcAbsoluteDeviation</a>($mean = null) {<span class="comment">/*{{{*/</span>
<a name="l01489"></a>01489         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l01490"></a>01490             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l01491"></a>01491         }
<a name="l01492"></a>01492         $count = $this-&gt;<a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>();
<a name="l01493"></a>01493         <span class="keywordflow">if</span> (PEAR::isError($count)) {
<a name="l01494"></a>01494             <span class="keywordflow">return</span> $count;
<a name="l01495"></a>01495         }
<a name="l01496"></a>01496         $sumabsdev = $this-&gt;<a class="code" href="classBase.html#ac5b45e5e0fb79839298fea71a723c59d" title="Utility function to calculate: SUM { | xi - mean | }.">__sumabsdev</a>($mean);
<a name="l01497"></a>01497         <span class="keywordflow">if</span> (PEAR::isError($sumabsdev)) {
<a name="l01498"></a>01498             <span class="keywordflow">return</span> $sumabsdev;
<a name="l01499"></a>01499         }
<a name="l01500"></a>01500         <span class="keywordflow">return</span> $sumabsdev / $count;
<a name="l01501"></a>01501     }<span class="comment">/*}}}*/</span>
<a name="l01502"></a>01502 
<a name="l01513"></a><a class="code" href="classBase.html#ac5b45e5e0fb79839298fea71a723c59d">01513</a>     function <a class="code" href="classBase.html#ac5b45e5e0fb79839298fea71a723c59d" title="Utility function to calculate: SUM { | xi - mean | }.">__sumabsdev</a>($mean=null) {<span class="comment">/*{{{*/</span>
<a name="l01514"></a>01514         <span class="keywordflow">if</span> ($this-&gt;_data == null) {
<a name="l01515"></a>01515             <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data has not been set&#39;</span>);
<a name="l01516"></a>01516         }
<a name="l01517"></a>01517         <span class="keywordflow">if</span> (is_null($mean)) {
<a name="l01518"></a>01518             $mean = $this-&gt;<a class="code" href="classBase.html#ae8e7206e677c4c680f1ac2f982dc05b4" title="Calculates the mean (average) of the data points in the set Handles cummulative data...">mean</a>();
<a name="l01519"></a>01519         }
<a name="l01520"></a>01520         $sdev = 0;
<a name="l01521"></a>01521         <span class="keywordflow">if</span> ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE) {
<a name="l01522"></a>01522             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val=&gt;$freq) {
<a name="l01523"></a>01523                 $sdev += $freq * abs($val - $mean);
<a name="l01524"></a>01524             }
<a name="l01525"></a>01525         } <span class="keywordflow">else</span> {
<a name="l01526"></a>01526             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val) {
<a name="l01527"></a>01527                 $sdev += abs($val - $mean);
<a name="l01528"></a>01528             }
<a name="l01529"></a>01529         }
<a name="l01530"></a>01530         <span class="keywordflow">return</span> $sdev;
<a name="l01531"></a>01531     }<span class="comment">/*}}}*/</span>
<a name="l01532"></a>01532 
<a name="l01545"></a><a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6">01545</a>     function <a class="code" href="classBase.html#a5fb2515cca68b0549ae8f10a0b5c51a6" title="Utility function to format a PEAR_Error to be used by calc(), calcBasic() and calcFull()...">__format</a>($v, $useErrorObject=<span class="keyword">true</span>) {<span class="comment">/*{{{*/</span>
<a name="l01546"></a>01546         <span class="keywordflow">if</span> (PEAR::isError($v) &amp;&amp; $useErrorObject == <span class="keyword">false</span>) {
<a name="l01547"></a>01547             <span class="keywordflow">return</span> $v-&gt;getMessage();
<a name="l01548"></a>01548         } <span class="keywordflow">else</span> {
<a name="l01549"></a>01549             <span class="keywordflow">return</span> $v;
<a name="l01550"></a>01550         }
<a name="l01551"></a>01551     }<span class="comment">/*}}}*/</span>
<a name="l01552"></a>01552 
<a name="l01562"></a><a class="code" href="classBase.html#a4509b4d8cafa0c50e52669b239f54057">01562</a>     function <a class="code" href="classBase.html#a4509b4d8cafa0c50e52669b239f54057" title="Utility function to validate the data and modify it according to the current null...">_validate</a>() {<span class="comment">/*{{{*/</span>
<a name="l01563"></a>01563         $flag = ($this-&gt;_dataOption == STATS_DATA_CUMMULATIVE);
<a name="l01564"></a>01564         <span class="keywordflow">foreach</span> ($this-&gt;_data as $key=&gt;$value) {
<a name="l01565"></a>01565             $d = ($flag) ? $key : $value;
<a name="l01566"></a>01566             $v = ($flag) ? $value : $key;
<a name="l01567"></a>01567             <span class="keywordflow">if</span> (!is_numeric($d)) {
<a name="l01568"></a>01568                 <span class="keywordflow">switch</span> ($this-&gt;_nullOption) {
<a name="l01569"></a>01569                     <span class="keywordflow">case</span> STATS_IGNORE_NULL :
<a name="l01570"></a>01570                         unset($this-&gt;_data[<span class="stringliteral">&quot;$key&quot;</span>]);
<a name="l01571"></a>01571                         <span class="keywordflow">break</span>;
<a name="l01572"></a>01572                     <span class="keywordflow">case</span> STATS_USE_NULL_AS_ZERO:
<a name="l01573"></a>01573                         <span class="keywordflow">if</span> ($flag) {
<a name="l01574"></a>01574                             unset($this-&gt;_data[<span class="stringliteral">&quot;$key&quot;</span>]);
<a name="l01575"></a>01575                             $this-&gt;_data[0] += $v;
<a name="l01576"></a>01576                         } <span class="keywordflow">else</span> {
<a name="l01577"></a>01577                             $this-&gt;_data[$key] = 0;
<a name="l01578"></a>01578                         }
<a name="l01579"></a>01579                         <span class="keywordflow">break</span>;
<a name="l01580"></a>01580                     <span class="keywordflow">case</span> STATS_REJECT_NULL :
<a name="l01581"></a>01581                     <span class="keywordflow">default</span>:
<a name="l01582"></a>01582                         <span class="keywordflow">return</span> PEAR::raiseError(<span class="stringliteral">&#39;data rejected, contains NULL values&#39;</span>);
<a name="l01583"></a>01583                         <span class="keywordflow">break</span>;
<a name="l01584"></a>01584                 }
<a name="l01585"></a>01585             }
<a name="l01586"></a>01586         }
<a name="l01587"></a>01587         <span class="keywordflow">if</span> ($flag) {
<a name="l01588"></a>01588             ksort($this-&gt;_data);
<a name="l01589"></a>01589             $this-&gt;_dataExpanded = array();
<a name="l01590"></a>01590             <span class="keywordflow">foreach</span> ($this-&gt;_data as $val=&gt;$freq) {
<a name="l01591"></a>01591                 $this-&gt;_dataExpanded = array_pad($this-&gt;_dataExpanded, <a class="code" href="classBase.html#a0e4f5d62bf618aeb20210a7d1cdd8ae0" title="Calculates the number of data points in the set Handles cummulative data sets correctly...">count</a>($this-&gt;_dataExpanded) + $freq, $val);
<a name="l01592"></a>01592             }
<a name="l01593"></a>01593             sort($this-&gt;_dataExpanded);
<a name="l01594"></a>01594         } <span class="keywordflow">else</span> {
<a name="l01595"></a>01595             sort($this-&gt;_data);
<a name="l01596"></a>01596         }
<a name="l01597"></a>01597         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01598"></a>01598     }<span class="comment">/*}}}*/</span>
<a name="l01599"></a>01599 
<a name="l01600"></a>01600 }<span class="comment">/*}}}*/</span>
<a name="l01601"></a>01601 
<a name="l01602"></a>01602 <span class="comment">// vim: ts=4:sw=4:et:</span>
<a name="l01603"></a>01603 <span class="comment">// vim6: fdl=1: fdm=marker:</span>
<a name="l01604"></a>01604 
<a name="l01605"></a>01605 ?&gt;
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
