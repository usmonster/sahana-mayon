<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: lib/vendor/symfony/lib/plugins/sfPropelPlugin/test/functional/fixtures/lib/model/om/BaseArticle.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>lib/vendor/symfony/lib/plugins/sfPropelPlugin/test/functional/fixtures/lib/model/om/BaseArticle.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00014"></a><a class="code" href="classBaseArticle.html">00014</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="classBaseArticle.html">BaseArticle</a> <span class="keyword">extends</span> <a class="code" href="classBaseObject.html">BaseObject</a>  implements <a class="code" href="interfacePersistent.html">Persistent</a> {
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00023"></a>00023   <span class="keyword">protected</span> <span class="keyword">static</span> $peer;
<a name="l00024"></a>00024 
<a name="l00029"></a>00029   <span class="keyword">protected</span> $id;
<a name="l00030"></a>00030 
<a name="l00035"></a>00035   <span class="keyword">protected</span> $title;
<a name="l00036"></a>00036 
<a name="l00041"></a>00041   <span class="keyword">protected</span> $body;
<a name="l00042"></a>00042 
<a name="l00047"></a>00047   <span class="keyword">protected</span> $online;
<a name="l00048"></a>00048 
<a name="l00053"></a>00053   <span class="keyword">protected</span> $excerpt;
<a name="l00054"></a>00054 
<a name="l00059"></a>00059   <span class="keyword">protected</span> $category_id;
<a name="l00060"></a>00060 
<a name="l00065"></a>00065   <span class="keyword">protected</span> $created_at;
<a name="l00066"></a>00066 
<a name="l00071"></a>00071   <span class="keyword">protected</span> $end_date;
<a name="l00072"></a>00072 
<a name="l00077"></a>00077   <span class="keyword">protected</span> $book_id;
<a name="l00078"></a>00078 
<a name="l00082"></a>00082   <span class="keyword">protected</span> $aCategory;
<a name="l00083"></a>00083 
<a name="l00087"></a>00087   <span class="keyword">protected</span> $aBook;
<a name="l00088"></a>00088 
<a name="l00092"></a>00092   <span class="keyword">protected</span> $collAuthorArticles;
<a name="l00093"></a>00093 
<a name="l00097"></a>00097   <span class="keyword">private</span> $lastAuthorArticleCriteria = null;
<a name="l00098"></a>00098 
<a name="l00102"></a>00102   <span class="keyword">protected</span> $collAttachments;
<a name="l00103"></a>00103 
<a name="l00107"></a>00107   <span class="keyword">private</span> $lastAttachmentCriteria = null;
<a name="l00108"></a>00108 
<a name="l00114"></a>00114   <span class="keyword">protected</span> $alreadyInSave = <span class="keyword">false</span>;
<a name="l00115"></a>00115 
<a name="l00121"></a>00121   <span class="keyword">protected</span> $alreadyInValidation = <span class="keyword">false</span>;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123   <span class="comment">// symfony behavior</span>
<a name="l00124"></a>00124   
<a name="l00125"></a>00125   <span class="keyword">const</span> PEER = <span class="stringliteral">&#39;ArticlePeer&#39;</span>;
<a name="l00126"></a>00126 
<a name="l00132"></a><a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6">00132</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>()
<a name="l00133"></a>00133   {
<a name="l00134"></a>00134     <span class="keywordflow">return</span> $this-&gt;id;
<a name="l00135"></a>00135   }
<a name="l00136"></a>00136 
<a name="l00142"></a><a class="code" href="classBaseArticle.html#a7183c340ae06ec2b7d752777f37db53a">00142</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a7183c340ae06ec2b7d752777f37db53a" title="Get the [title] column value.">getTitle</a>()
<a name="l00143"></a>00143   {
<a name="l00144"></a>00144     <span class="keywordflow">return</span> $this-&gt;title;
<a name="l00145"></a>00145   }
<a name="l00146"></a>00146 
<a name="l00152"></a><a class="code" href="classBaseArticle.html#a8bdd80746c0c81dd30750505967d228c">00152</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a8bdd80746c0c81dd30750505967d228c" title="Get the [body] column value.">getBody</a>()
<a name="l00153"></a>00153   {
<a name="l00154"></a>00154     <span class="keywordflow">return</span> $this-&gt;body;
<a name="l00155"></a>00155   }
<a name="l00156"></a>00156 
<a name="l00162"></a><a class="code" href="classBaseArticle.html#a402eda419dcf8fabb98b21d7e5cedbf6">00162</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a402eda419dcf8fabb98b21d7e5cedbf6" title="Get the [online] column value.">getOnline</a>()
<a name="l00163"></a>00163   {
<a name="l00164"></a>00164     <span class="keywordflow">return</span> $this-&gt;online;
<a name="l00165"></a>00165   }
<a name="l00166"></a>00166 
<a name="l00172"></a><a class="code" href="classBaseArticle.html#a719f4710895dbd0aeab5bc4c1974e76b">00172</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a719f4710895dbd0aeab5bc4c1974e76b" title="Get the [excerpt] column value.">getExcerpt</a>()
<a name="l00173"></a>00173   {
<a name="l00174"></a>00174     <span class="keywordflow">return</span> $this-&gt;excerpt;
<a name="l00175"></a>00175   }
<a name="l00176"></a>00176 
<a name="l00182"></a><a class="code" href="classBaseArticle.html#a153d091f66758247a77feb63adfc1b96">00182</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a153d091f66758247a77feb63adfc1b96" title="Get the [category_id] column value.">getCategoryId</a>()
<a name="l00183"></a>00183   {
<a name="l00184"></a>00184     <span class="keywordflow">return</span> $this-&gt;category_id;
<a name="l00185"></a>00185   }
<a name="l00186"></a>00186 
<a name="l00196"></a><a class="code" href="classBaseArticle.html#a156694d4aedfff9479f9a4baedf12c64">00196</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a156694d4aedfff9479f9a4baedf12c64" title="Get the [optionally formatted] temporal [created_at] column value.">getCreatedAt</a>($format = <span class="stringliteral">&#39;Y-m-d H:i:s&#39;</span>)
<a name="l00197"></a>00197   {
<a name="l00198"></a>00198     <span class="keywordflow">if</span> ($this-&gt;created_at === null) {
<a name="l00199"></a>00199       <span class="keywordflow">return</span> null;
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 
<a name="l00204"></a>00204     <span class="keywordflow">try</span> {
<a name="l00205"></a>00205       $dt = <span class="keyword">new</span> DateTime($this-&gt;created_at);
<a name="l00206"></a>00206     } <span class="keywordflow">catch</span> (Exception $x) {
<a name="l00207"></a>00207       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;Internally stored date/time/timestamp value could not be converted to DateTime: &quot;</span> . var_export($this-&gt;created_at, <span class="keyword">true</span>), $x);
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     <span class="keywordflow">if</span> ($format === null) {
<a name="l00211"></a>00211       <span class="comment">// Because propel.useDateTimeClass is TRUE, we return a DateTime object.</span>
<a name="l00212"></a>00212       <span class="keywordflow">return</span> $dt;
<a name="l00213"></a>00213     } elseif (strpos($format, <span class="charliteral">&#39;%&#39;</span>) !== <span class="keyword">false</span>) {
<a name="l00214"></a>00214       <span class="keywordflow">return</span> strftime($format, $dt-&gt;format(<span class="charliteral">&#39;U&#39;</span>));
<a name="l00215"></a>00215     } <span class="keywordflow">else</span> {
<a name="l00216"></a>00216       <span class="keywordflow">return</span> $dt-&gt;format($format);
<a name="l00217"></a>00217     }
<a name="l00218"></a>00218   }
<a name="l00219"></a>00219 
<a name="l00229"></a><a class="code" href="classBaseArticle.html#a6a5b3d7a97292b5b0dc72a653f849ad6">00229</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a6a5b3d7a97292b5b0dc72a653f849ad6" title="Get the [optionally formatted] temporal [end_date] column value.">getEndDate</a>($format = <span class="stringliteral">&#39;Y-m-d H:i:s&#39;</span>)
<a name="l00230"></a>00230   {
<a name="l00231"></a>00231     <span class="keywordflow">if</span> ($this-&gt;end_date === null) {
<a name="l00232"></a>00232       <span class="keywordflow">return</span> null;
<a name="l00233"></a>00233     }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 
<a name="l00237"></a>00237     <span class="keywordflow">try</span> {
<a name="l00238"></a>00238       $dt = <span class="keyword">new</span> DateTime($this-&gt;end_date);
<a name="l00239"></a>00239     } <span class="keywordflow">catch</span> (Exception $x) {
<a name="l00240"></a>00240       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;Internally stored date/time/timestamp value could not be converted to DateTime: &quot;</span> . var_export($this-&gt;end_date, <span class="keyword">true</span>), $x);
<a name="l00241"></a>00241     }
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="keywordflow">if</span> ($format === null) {
<a name="l00244"></a>00244       <span class="comment">// Because propel.useDateTimeClass is TRUE, we return a DateTime object.</span>
<a name="l00245"></a>00245       <span class="keywordflow">return</span> $dt;
<a name="l00246"></a>00246     } elseif (strpos($format, <span class="charliteral">&#39;%&#39;</span>) !== <span class="keyword">false</span>) {
<a name="l00247"></a>00247       <span class="keywordflow">return</span> strftime($format, $dt-&gt;format(<span class="charliteral">&#39;U&#39;</span>));
<a name="l00248"></a>00248     } <span class="keywordflow">else</span> {
<a name="l00249"></a>00249       <span class="keywordflow">return</span> $dt-&gt;format($format);
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251   }
<a name="l00252"></a>00252 
<a name="l00258"></a><a class="code" href="classBaseArticle.html#acde85f692a9f9fd742d282e4e4775f2c">00258</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#acde85f692a9f9fd742d282e4e4775f2c" title="Get the [book_id] column value.">getBookId</a>()
<a name="l00259"></a>00259   {
<a name="l00260"></a>00260     <span class="keywordflow">return</span> $this-&gt;book_id;
<a name="l00261"></a>00261   }
<a name="l00262"></a>00262 
<a name="l00269"></a><a class="code" href="classBaseArticle.html#a9dfa1f9a6bdf707a5416b72e09c4e260">00269</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a9dfa1f9a6bdf707a5416b72e09c4e260" title="Set the value of [id] column.">setId</a>($v)
<a name="l00270"></a>00270   {
<a name="l00271"></a>00271     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00272"></a>00272       $v = (int) $v;
<a name="l00273"></a>00273     }
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     <span class="keywordflow">if</span> ($this-&gt;<span class="keywordtype">id</span> !== $v) {
<a name="l00276"></a>00276       $this-&gt;<span class="keywordtype">id</span> = $v;
<a name="l00277"></a>00277       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a7f8e314826488b4a9b2bf5ddce2e8958" title="the column name for the ID field">ArticlePeer::ID</a>;
<a name="l00278"></a>00278     }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280     <span class="keywordflow">return</span> $this;
<a name="l00281"></a>00281   } <span class="comment">// setId()</span>
<a name="l00282"></a>00282 
<a name="l00289"></a><a class="code" href="classBaseArticle.html#a154dcab6d9f313310908f01697c04356">00289</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a154dcab6d9f313310908f01697c04356" title="Set the value of [title] column.">setTitle</a>($v)
<a name="l00290"></a>00290   {
<a name="l00291"></a>00291     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00292"></a>00292       $v = (string) $v;
<a name="l00293"></a>00293     }
<a name="l00294"></a>00294 
<a name="l00295"></a>00295     <span class="keywordflow">if</span> ($this-&gt;title !== $v) {
<a name="l00296"></a>00296       $this-&gt;title = $v;
<a name="l00297"></a>00297       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#abadfd8ac955601a6e3744e29bf41163d" title="the column name for the TITLE field">ArticlePeer::TITLE</a>;
<a name="l00298"></a>00298     }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300     <span class="keywordflow">return</span> $this;
<a name="l00301"></a>00301   } <span class="comment">// setTitle()</span>
<a name="l00302"></a>00302 
<a name="l00309"></a><a class="code" href="classBaseArticle.html#aa861993cdcd53148586adea881a92789">00309</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#aa861993cdcd53148586adea881a92789" title="Set the value of [body] column.">setBody</a>($v)
<a name="l00310"></a>00310   {
<a name="l00311"></a>00311     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00312"></a>00312       $v = (string) $v;
<a name="l00313"></a>00313     }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315     <span class="keywordflow">if</span> ($this-&gt;body !== $v) {
<a name="l00316"></a>00316       $this-&gt;body = $v;
<a name="l00317"></a>00317       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a09567db33fbc40816e54048f34782340" title="the column name for the BODY field">ArticlePeer::BODY</a>;
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="keywordflow">return</span> $this;
<a name="l00321"></a>00321   } <span class="comment">// setBody()</span>
<a name="l00322"></a>00322 
<a name="l00329"></a><a class="code" href="classBaseArticle.html#a8f81f82e679a5a62d8b9bdc729cb492e">00329</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a8f81f82e679a5a62d8b9bdc729cb492e" title="Set the value of [online] column.">setOnline</a>($v)
<a name="l00330"></a>00330   {
<a name="l00331"></a>00331     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00332"></a>00332       $v = (boolean) $v;
<a name="l00333"></a>00333     }
<a name="l00334"></a>00334 
<a name="l00335"></a>00335     <span class="keywordflow">if</span> ($this-&gt;online !== $v) {
<a name="l00336"></a>00336       $this-&gt;online = $v;
<a name="l00337"></a>00337       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a7fb27b1fe2a0b6784d708de25c8ac9ab" title="the column name for the ONLINE field">ArticlePeer::ONLINE</a>;
<a name="l00338"></a>00338     }
<a name="l00339"></a>00339 
<a name="l00340"></a>00340     <span class="keywordflow">return</span> $this;
<a name="l00341"></a>00341   } <span class="comment">// setOnline()</span>
<a name="l00342"></a>00342 
<a name="l00349"></a><a class="code" href="classBaseArticle.html#a12fcb17dd0f09185ed36f281c8998f16">00349</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a12fcb17dd0f09185ed36f281c8998f16" title="Set the value of [excerpt] column.">setExcerpt</a>($v)
<a name="l00350"></a>00350   {
<a name="l00351"></a>00351     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00352"></a>00352       $v = (string) $v;
<a name="l00353"></a>00353     }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355     <span class="keywordflow">if</span> ($this-&gt;excerpt !== $v) {
<a name="l00356"></a>00356       $this-&gt;excerpt = $v;
<a name="l00357"></a>00357       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a0081b51b7dc15608021779e69837b239" title="the column name for the EXCERPT field">ArticlePeer::EXCERPT</a>;
<a name="l00358"></a>00358     }
<a name="l00359"></a>00359 
<a name="l00360"></a>00360     <span class="keywordflow">return</span> $this;
<a name="l00361"></a>00361   } <span class="comment">// setExcerpt()</span>
<a name="l00362"></a>00362 
<a name="l00369"></a><a class="code" href="classBaseArticle.html#a3cbac7cea204f726cc8dffa9904f9aec">00369</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a3cbac7cea204f726cc8dffa9904f9aec" title="Set the value of [category_id] column.">setCategoryId</a>($v)
<a name="l00370"></a>00370   {
<a name="l00371"></a>00371     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00372"></a>00372       $v = (int) $v;
<a name="l00373"></a>00373     }
<a name="l00374"></a>00374 
<a name="l00375"></a>00375     <span class="keywordflow">if</span> ($this-&gt;category_id !== $v) {
<a name="l00376"></a>00376       $this-&gt;category_id = $v;
<a name="l00377"></a>00377       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#aa3422cbf61faa15b88af0dd0bf487bf1" title="the column name for the CATEGORY_ID field">ArticlePeer::CATEGORY_ID</a>;
<a name="l00378"></a>00378     }
<a name="l00379"></a>00379 
<a name="l00380"></a>00380     <span class="keywordflow">if</span> ($this-&gt;aCategory !== null &amp;&amp; $this-&gt;aCategory-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>() !== $v) {
<a name="l00381"></a>00381       $this-&gt;aCategory = null;
<a name="l00382"></a>00382     }
<a name="l00383"></a>00383 
<a name="l00384"></a>00384     <span class="keywordflow">return</span> $this;
<a name="l00385"></a>00385   } <span class="comment">// setCategoryId()</span>
<a name="l00386"></a>00386 
<a name="l00394"></a><a class="code" href="classBaseArticle.html#a82628dccb8756e94c2a174aa7d3e0310">00394</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a82628dccb8756e94c2a174aa7d3e0310" title="Sets the value of [created_at] column to a normalized version of the date/time value...">setCreatedAt</a>($v)
<a name="l00395"></a>00395   {
<a name="l00396"></a>00396     <span class="comment">// we treat &#39;&#39; as NULL for temporal objects because DateTime(&#39;&#39;) == DateTime(&#39;now&#39;)</span>
<a name="l00397"></a>00397     <span class="comment">// -- which is unexpected, to say the least.</span>
<a name="l00398"></a>00398     <span class="keywordflow">if</span> ($v === null || $v === <span class="stringliteral">&#39;&#39;</span>) {
<a name="l00399"></a>00399       $dt = null;
<a name="l00400"></a>00400     } elseif ($v instanceof DateTime) {
<a name="l00401"></a>00401       $dt = $v;
<a name="l00402"></a>00402     } <span class="keywordflow">else</span> {
<a name="l00403"></a>00403       <span class="comment">// some string/numeric value passed; we normalize that so that we can</span>
<a name="l00404"></a>00404       <span class="comment">// validate it.</span>
<a name="l00405"></a>00405       <span class="keywordflow">try</span> {
<a name="l00406"></a>00406         <span class="keywordflow">if</span> (is_numeric($v)) { <span class="comment">// if it&#39;s a unix timestamp</span>
<a name="l00407"></a>00407           $dt = <span class="keyword">new</span> DateTime(<span class="charliteral">&#39;@&#39;</span>.$v, <span class="keyword">new</span> DateTimeZone(<span class="stringliteral">&#39;UTC&#39;</span>));
<a name="l00408"></a>00408           <span class="comment">// We have to explicitly specify and then change the time zone because of a</span>
<a name="l00409"></a>00409           <span class="comment">// DateTime bug: http://bugs.php.net/bug.php?id=43003</span>
<a name="l00410"></a>00410           $dt-&gt;setTimeZone(<span class="keyword">new</span> DateTimeZone(date_default_timezone_get()));
<a name="l00411"></a>00411         } <span class="keywordflow">else</span> {
<a name="l00412"></a>00412           $dt = <span class="keyword">new</span> DateTime($v);
<a name="l00413"></a>00413         }
<a name="l00414"></a>00414       } <span class="keywordflow">catch</span> (Exception $x) {
<a name="l00415"></a>00415         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&#39;Error parsing date/time value: &#39;</span> . var_export($v, <span class="keyword">true</span>), $x);
<a name="l00416"></a>00416       }
<a name="l00417"></a>00417     }
<a name="l00418"></a>00418 
<a name="l00419"></a>00419     <span class="keywordflow">if</span> ( $this-&gt;created_at !== null || $dt !== null ) {
<a name="l00420"></a>00420       <span class="comment">// (nested ifs are a little easier to read in this case)</span>
<a name="l00421"></a>00421 
<a name="l00422"></a>00422       $currNorm = ($this-&gt;created_at !== null &amp;&amp; $tmpDt = <span class="keyword">new</span> DateTime($this-&gt;created_at)) ? $tmpDt-&gt;format(<span class="stringliteral">&#39;Y-m-d\\TH:i:sO&#39;</span>) : null;
<a name="l00423"></a>00423       $newNorm = ($dt !== null) ? $dt-&gt;format(<span class="stringliteral">&#39;Y-m-d\\TH:i:sO&#39;</span>) : null;
<a name="l00424"></a>00424 
<a name="l00425"></a>00425       <span class="keywordflow">if</span> ( ($currNorm !== $newNorm) <span class="comment">// normalized values don&#39;t match </span>
<a name="l00426"></a>00426           )
<a name="l00427"></a>00427       {
<a name="l00428"></a>00428         $this-&gt;created_at = ($dt ? $dt-&gt;format(<span class="stringliteral">&#39;Y-m-d\\TH:i:sO&#39;</span>) : null);
<a name="l00429"></a>00429         $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#ae701d8cdbf9964e7a8f29c7278ff5689" title="the column name for the CREATED_AT field">ArticlePeer::CREATED_AT</a>;
<a name="l00430"></a>00430       }
<a name="l00431"></a>00431     } <span class="comment">// if either are not null</span>
<a name="l00432"></a>00432 
<a name="l00433"></a>00433     <span class="keywordflow">return</span> $this;
<a name="l00434"></a>00434   } <span class="comment">// setCreatedAt()</span>
<a name="l00435"></a>00435 
<a name="l00443"></a><a class="code" href="classBaseArticle.html#a33354d79bccf5ca3b8816d47d2dd26aa">00443</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a33354d79bccf5ca3b8816d47d2dd26aa" title="Sets the value of [end_date] column to a normalized version of the date/time value...">setEndDate</a>($v)
<a name="l00444"></a>00444   {
<a name="l00445"></a>00445     <span class="comment">// we treat &#39;&#39; as NULL for temporal objects because DateTime(&#39;&#39;) == DateTime(&#39;now&#39;)</span>
<a name="l00446"></a>00446     <span class="comment">// -- which is unexpected, to say the least.</span>
<a name="l00447"></a>00447     <span class="keywordflow">if</span> ($v === null || $v === <span class="stringliteral">&#39;&#39;</span>) {
<a name="l00448"></a>00448       $dt = null;
<a name="l00449"></a>00449     } elseif ($v instanceof DateTime) {
<a name="l00450"></a>00450       $dt = $v;
<a name="l00451"></a>00451     } <span class="keywordflow">else</span> {
<a name="l00452"></a>00452       <span class="comment">// some string/numeric value passed; we normalize that so that we can</span>
<a name="l00453"></a>00453       <span class="comment">// validate it.</span>
<a name="l00454"></a>00454       <span class="keywordflow">try</span> {
<a name="l00455"></a>00455         <span class="keywordflow">if</span> (is_numeric($v)) { <span class="comment">// if it&#39;s a unix timestamp</span>
<a name="l00456"></a>00456           $dt = <span class="keyword">new</span> DateTime(<span class="charliteral">&#39;@&#39;</span>.$v, <span class="keyword">new</span> DateTimeZone(<span class="stringliteral">&#39;UTC&#39;</span>));
<a name="l00457"></a>00457           <span class="comment">// We have to explicitly specify and then change the time zone because of a</span>
<a name="l00458"></a>00458           <span class="comment">// DateTime bug: http://bugs.php.net/bug.php?id=43003</span>
<a name="l00459"></a>00459           $dt-&gt;setTimeZone(<span class="keyword">new</span> DateTimeZone(date_default_timezone_get()));
<a name="l00460"></a>00460         } <span class="keywordflow">else</span> {
<a name="l00461"></a>00461           $dt = <span class="keyword">new</span> DateTime($v);
<a name="l00462"></a>00462         }
<a name="l00463"></a>00463       } <span class="keywordflow">catch</span> (Exception $x) {
<a name="l00464"></a>00464         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&#39;Error parsing date/time value: &#39;</span> . var_export($v, <span class="keyword">true</span>), $x);
<a name="l00465"></a>00465       }
<a name="l00466"></a>00466     }
<a name="l00467"></a>00467 
<a name="l00468"></a>00468     <span class="keywordflow">if</span> ( $this-&gt;end_date !== null || $dt !== null ) {
<a name="l00469"></a>00469       <span class="comment">// (nested ifs are a little easier to read in this case)</span>
<a name="l00470"></a>00470 
<a name="l00471"></a>00471       $currNorm = ($this-&gt;end_date !== null &amp;&amp; $tmpDt = <span class="keyword">new</span> DateTime($this-&gt;end_date)) ? $tmpDt-&gt;format(<span class="stringliteral">&#39;Y-m-d\\TH:i:sO&#39;</span>) : null;
<a name="l00472"></a>00472       $newNorm = ($dt !== null) ? $dt-&gt;format(<span class="stringliteral">&#39;Y-m-d\\TH:i:sO&#39;</span>) : null;
<a name="l00473"></a>00473 
<a name="l00474"></a>00474       <span class="keywordflow">if</span> ( ($currNorm !== $newNorm) <span class="comment">// normalized values don&#39;t match </span>
<a name="l00475"></a>00475           )
<a name="l00476"></a>00476       {
<a name="l00477"></a>00477         $this-&gt;end_date = ($dt ? $dt-&gt;format(<span class="stringliteral">&#39;Y-m-d\\TH:i:sO&#39;</span>) : null);
<a name="l00478"></a>00478         $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a0d0db95dc68fdd4d58b56897e85ff66d" title="the column name for the END_DATE field">ArticlePeer::END_DATE</a>;
<a name="l00479"></a>00479       }
<a name="l00480"></a>00480     } <span class="comment">// if either are not null</span>
<a name="l00481"></a>00481 
<a name="l00482"></a>00482     <span class="keywordflow">return</span> $this;
<a name="l00483"></a>00483   } <span class="comment">// setEndDate()</span>
<a name="l00484"></a>00484 
<a name="l00491"></a><a class="code" href="classBaseArticle.html#a53f39ad0250acbb386ced6d81bebac6b">00491</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a53f39ad0250acbb386ced6d81bebac6b" title="Set the value of [book_id] column.">setBookId</a>($v)
<a name="l00492"></a>00492   {
<a name="l00493"></a>00493     <span class="keywordflow">if</span> ($v !== null) {
<a name="l00494"></a>00494       $v = (int) $v;
<a name="l00495"></a>00495     }
<a name="l00496"></a>00496 
<a name="l00497"></a>00497     <span class="keywordflow">if</span> ($this-&gt;book_id !== $v) {
<a name="l00498"></a>00498       $this-&gt;book_id = $v;
<a name="l00499"></a>00499       $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a2838caaca418fac05274180778040813" title="the column name for the BOOK_ID field">ArticlePeer::BOOK_ID</a>;
<a name="l00500"></a>00500     }
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     <span class="keywordflow">if</span> ($this-&gt;aBook !== null &amp;&amp; $this-&gt;aBook-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>() !== $v) {
<a name="l00503"></a>00503       $this-&gt;aBook = null;
<a name="l00504"></a>00504     }
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     <span class="keywordflow">return</span> $this;
<a name="l00507"></a>00507   } <span class="comment">// setBookId()</span>
<a name="l00508"></a>00508 
<a name="l00517"></a><a class="code" href="classBaseArticle.html#af4c09159052c826c8c8b402348734743">00517</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#af4c09159052c826c8c8b402348734743" title="Indicates whether the columns in this object are only set to default values.">hasOnlyDefaultValues</a>()
<a name="l00518"></a>00518   {
<a name="l00519"></a>00519     <span class="comment">// otherwise, everything was equal, so return TRUE</span>
<a name="l00520"></a>00520     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00521"></a>00521   } <span class="comment">// hasOnlyDefaultValues()</span>
<a name="l00522"></a>00522 
<a name="l00537"></a><a class="code" href="classBaseArticle.html#a4af50e53037a303078d7fac2fa352404">00537</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a4af50e53037a303078d7fac2fa352404" title="Hydrates (populates) the object variables with values from the database resultset...">hydrate</a>($row, $startcol = 0, $rehydrate = <span class="keyword">false</span>)
<a name="l00538"></a>00538   {
<a name="l00539"></a>00539     <span class="keywordflow">try</span> {
<a name="l00540"></a>00540 
<a name="l00541"></a>00541       $this-&gt;<span class="keywordtype">id</span> = ($row[$startcol + 0] !== null) ? (<span class="keywordtype">int</span>) $row[$startcol + 0] : null;
<a name="l00542"></a>00542       $this-&gt;title = ($row[$startcol + 1] !== null) ? (<span class="keywordtype">string</span>) $row[$startcol + 1] : null;
<a name="l00543"></a>00543       $this-&gt;body = ($row[$startcol + 2] !== null) ? (<span class="keywordtype">string</span>) $row[$startcol + 2] : null;
<a name="l00544"></a>00544       $this-&gt;online = ($row[$startcol + 3] !== null) ? (<span class="keywordtype">boolean</span>) $row[$startcol + 3] : null;
<a name="l00545"></a>00545       $this-&gt;excerpt = ($row[$startcol + 4] !== null) ? (<span class="keywordtype">string</span>) $row[$startcol + 4] : null;
<a name="l00546"></a>00546       $this-&gt;category_id = ($row[$startcol + 5] !== null) ? (<span class="keywordtype">int</span>) $row[$startcol + 5] : null;
<a name="l00547"></a>00547       $this-&gt;created_at = ($row[$startcol + 6] !== null) ? (<span class="keywordtype">string</span>) $row[$startcol + 6] : null;
<a name="l00548"></a>00548       $this-&gt;end_date = ($row[$startcol + 7] !== null) ? (<span class="keywordtype">string</span>) $row[$startcol + 7] : null;
<a name="l00549"></a>00549       $this-&gt;book_id = ($row[$startcol + 8] !== null) ? (<span class="keywordtype">int</span>) $row[$startcol + 8] : null;
<a name="l00550"></a>00550       $this-&gt;<a class="code" href="interfacePersistent.html#a2bf69be12fd4e75f9a76be13e4f01791" title="Resets (to false) the &amp;quot;modified&amp;quot; state for this object.">resetModified</a>();
<a name="l00551"></a>00551 
<a name="l00552"></a>00552       $this-&gt;<a class="code" href="classBaseObject.html#a573ecdf603f1a7f47fe31b8ab82b96ab" title="Setter for the isNew attribute.">setNew</a>(<span class="keyword">false</span>);
<a name="l00553"></a>00553 
<a name="l00554"></a>00554       <span class="keywordflow">if</span> ($rehydrate) {
<a name="l00555"></a>00555         $this-&gt;<a class="code" href="classBaseArticle.html#aeeb7dc3e847256f76a82ea836b759ff8" title="Checks and repairs the internal consistency of the object.">ensureConsistency</a>();
<a name="l00556"></a>00556       }
<a name="l00557"></a>00557 
<a name="l00558"></a>00558       <span class="comment">// FIXME - using NUM_COLUMNS may be clearer.</span>
<a name="l00559"></a>00559       <span class="keywordflow">return</span> $startcol + 9; <span class="comment">// 9 = ArticlePeer::NUM_COLUMNS - ArticlePeer::NUM_LAZY_LOAD_COLUMNS).</span>
<a name="l00560"></a>00560 
<a name="l00561"></a>00561     } <span class="keywordflow">catch</span> (Exception $e) {
<a name="l00562"></a>00562       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;Error populating Article object&quot;</span>, $e);
<a name="l00563"></a>00563     }
<a name="l00564"></a>00564   }
<a name="l00565"></a>00565 
<a name="l00579"></a><a class="code" href="classBaseArticle.html#aeeb7dc3e847256f76a82ea836b759ff8">00579</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#aeeb7dc3e847256f76a82ea836b759ff8" title="Checks and repairs the internal consistency of the object.">ensureConsistency</a>()
<a name="l00580"></a>00580   {
<a name="l00581"></a>00581 
<a name="l00582"></a>00582     <span class="keywordflow">if</span> ($this-&gt;aCategory !== null &amp;&amp; $this-&gt;category_id !== $this-&gt;aCategory-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>()) {
<a name="l00583"></a>00583       $this-&gt;aCategory = null;
<a name="l00584"></a>00584     }
<a name="l00585"></a>00585     <span class="keywordflow">if</span> ($this-&gt;aBook !== null &amp;&amp; $this-&gt;book_id !== $this-&gt;aBook-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>()) {
<a name="l00586"></a>00586       $this-&gt;aBook = null;
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588   } <span class="comment">// ensureConsistency</span>
<a name="l00589"></a>00589 
<a name="l00600"></a><a class="code" href="classBaseArticle.html#a169d494e6f8f189d58fd987360501397">00600</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a169d494e6f8f189d58fd987360501397" title="Reloads this object from datastore based on primary key and (optionally) resets all...">reload</a>($deep = <span class="keyword">false</span>, <a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l00601"></a>00601   {
<a name="l00602"></a>00602     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#ae05cce25634965c69e6f1377a8512604" title="Whether this object has been deleted.">isDeleted</a>()) {
<a name="l00603"></a>00603       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;Cannot reload a deleted object.&quot;</span>);
<a name="l00604"></a>00604     }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l00607"></a>00607       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;Cannot reload an unsaved object.&quot;</span>);
<a name="l00608"></a>00608     }
<a name="l00609"></a>00609 
<a name="l00610"></a>00610     <span class="keywordflow">if</span> ($con === null) {
<a name="l00611"></a>00611       $con = <a class="code" href="classPropel.html#ab6935b83a2ef92c702b8aefe90686eae" title="Gets an already-opened PDO connection or opens a new one for passed-in db name.">Propel::getConnection</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>, <a class="code" href="classPropel.html#a3f9c691463a86eaad09a9a8442d52346" title="Constant used to request a READ connection (applies to replication).">Propel::CONNECTION_READ</a>);
<a name="l00612"></a>00612     }
<a name="l00613"></a>00613 
<a name="l00614"></a>00614     <span class="comment">// We don&#39;t need to alter the object instance pool; we&#39;re just modifying this instance</span>
<a name="l00615"></a>00615     <span class="comment">// already in the pool.</span>
<a name="l00616"></a>00616 
<a name="l00617"></a>00617     $stmt = <a class="code" href="classBaseArticlePeer.html#a6ec6e9dbb2ca5ccb03af7988f1af055c" title="Prepares the Criteria object and uses the parent doSelect() method to execute a PDOStatement...">ArticlePeer::doSelectStmt</a>($this-&gt;<a class="code" href="classBaseArticle.html#a6b0499c8eded550bf558e49259794513" title="Builds a Criteria object containing the primary key for this object.">buildPkeyCriteria</a>(), $con);
<a name="l00618"></a>00618     $row = $stmt-&gt;fetch(PDO::FETCH_NUM);
<a name="l00619"></a>00619     $stmt-&gt;closeCursor();
<a name="l00620"></a>00620     <span class="keywordflow">if</span> (!$row) {
<a name="l00621"></a>00621       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&#39;Cannot find matching row in the database to reload object values.&#39;</span>);
<a name="l00622"></a>00622     }
<a name="l00623"></a>00623     $this-&gt;<a class="code" href="classBaseArticle.html#a4af50e53037a303078d7fac2fa352404" title="Hydrates (populates) the object variables with values from the database resultset...">hydrate</a>($row, 0, <span class="keyword">true</span>); <span class="comment">// rehydrate</span>
<a name="l00624"></a>00624 
<a name="l00625"></a>00625     <span class="keywordflow">if</span> ($deep) {  <span class="comment">// also de-associate any related objects?</span>
<a name="l00626"></a>00626 
<a name="l00627"></a>00627       $this-&gt;aCategory = null;
<a name="l00628"></a>00628       $this-&gt;aBook = null;
<a name="l00629"></a>00629       $this-&gt;collAuthorArticles = null;
<a name="l00630"></a>00630       $this-&gt;lastAuthorArticleCriteria = null;
<a name="l00631"></a>00631 
<a name="l00632"></a>00632       $this-&gt;collAttachments = null;
<a name="l00633"></a>00633       $this-&gt;lastAttachmentCriteria = null;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635     } <span class="comment">// if (deep)</span>
<a name="l00636"></a>00636   }
<a name="l00637"></a>00637 
<a name="l00647"></a><a class="code" href="classBaseArticle.html#a305c25d7d4aa83915a5f05b76d257d05">00647</a>   <span class="keyword">public</span> function <span class="keyword">delete</span>(<a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l00648"></a>00648   {
<a name="l00649"></a>00649     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#ae05cce25634965c69e6f1377a8512604" title="Whether this object has been deleted.">isDeleted</a>()) {
<a name="l00650"></a>00650       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;This object has already been deleted.&quot;</span>);
<a name="l00651"></a>00651     }
<a name="l00652"></a>00652 
<a name="l00653"></a>00653     <span class="keywordflow">if</span> ($con === null) {
<a name="l00654"></a>00654       $con = <a class="code" href="classPropel.html#ab6935b83a2ef92c702b8aefe90686eae" title="Gets an already-opened PDO connection or opens a new one for passed-in db name.">Propel::getConnection</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>, <a class="code" href="classPropel.html#a6d5525dbf61dc6e7d54362d02cc4c55c" title="Constant used to request a WRITE connection (applies to replication).">Propel::CONNECTION_WRITE</a>);
<a name="l00655"></a>00655     }
<a name="l00656"></a>00656     
<a name="l00657"></a>00657     $con-&gt;beginTransaction();
<a name="l00658"></a>00658     <span class="keywordflow">try</span> {
<a name="l00659"></a>00659       $ret = $this-&gt;<a class="code" href="classBaseObject.html#a7d47face507c61b4306d44fc3b3bc2b5" title="Code to be run before deleting the object in database.">preDelete</a>($con);
<a name="l00660"></a>00660       <span class="comment">// symfony_behaviors behavior</span>
<a name="l00661"></a>00661       <span class="keywordflow">foreach</span> (sfMixer::getCallables(<span class="stringliteral">&#39;BaseArticle:delete:pre&#39;</span>) as $callable)
<a name="l00662"></a>00662       {
<a name="l00663"></a>00663         <span class="keywordflow">if</span> (call_user_func($callable, $this, $con))
<a name="l00664"></a>00664         {
<a name="l00665"></a>00665           $con-&gt;commit();
<a name="l00666"></a>00666       
<a name="l00667"></a>00667           <span class="keywordflow">return</span>;
<a name="l00668"></a>00668         }
<a name="l00669"></a>00669       }
<a name="l00670"></a>00670 
<a name="l00671"></a>00671       <span class="keywordflow">if</span> ($ret) {
<a name="l00672"></a>00672         <a class="code" href="classBaseArticlePeer.html#afed47e7f3822fb68d99cab25a653bdaa" title="Method perform a DELETE on the database, given a Article or Criteria object OR a...">ArticlePeer::doDelete</a>($this, $con);
<a name="l00673"></a>00673         $this-&gt;<a class="code" href="classBaseObject.html#a5ec74ec377e3e8061320adf636210652" title="Code to be run after deleting the object in database.">postDelete</a>($con);
<a name="l00674"></a>00674         <span class="comment">// symfony_behaviors behavior</span>
<a name="l00675"></a>00675         <span class="keywordflow">foreach</span> (sfMixer::getCallables(<span class="stringliteral">&#39;BaseArticle:delete:post&#39;</span>) as $callable)
<a name="l00676"></a>00676         {
<a name="l00677"></a>00677           call_user_func($callable, $this, $con);
<a name="l00678"></a>00678         }
<a name="l00679"></a>00679 
<a name="l00680"></a>00680         $this-&gt;<a class="code" href="classBaseObject.html#ac4a9877a8baf3aefa9dea0a5b2c4ab18" title="Specify whether this object has been deleted.">setDeleted</a>(<span class="keyword">true</span>);
<a name="l00681"></a>00681         $con-&gt;commit();
<a name="l00682"></a>00682       } <span class="keywordflow">else</span> {
<a name="l00683"></a>00683         $con-&gt;commit();
<a name="l00684"></a>00684       }
<a name="l00685"></a>00685     } <span class="keywordflow">catch</span> (<a class="code" href="classPropelException.html">PropelException</a> $e) {
<a name="l00686"></a>00686       $con-&gt;rollBack();
<a name="l00687"></a>00687       <span class="keywordflow">throw</span> $e;
<a name="l00688"></a>00688     }
<a name="l00689"></a>00689   }
<a name="l00690"></a>00690 
<a name="l00704"></a><a class="code" href="classBaseArticle.html#a23d3d30b241cba2e412c0e88d653562a">00704</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a23d3d30b241cba2e412c0e88d653562a" title="Persists this object to the database.">save</a>(<a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l00705"></a>00705   {
<a name="l00706"></a>00706     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#ae05cce25634965c69e6f1377a8512604" title="Whether this object has been deleted.">isDeleted</a>()) {
<a name="l00707"></a>00707       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classPropelException.html">PropelException</a>(<span class="stringliteral">&quot;You cannot save an object that has been deleted.&quot;</span>);
<a name="l00708"></a>00708     }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     <span class="keywordflow">if</span> ($con === null) {
<a name="l00711"></a>00711       $con = <a class="code" href="classPropel.html#ab6935b83a2ef92c702b8aefe90686eae" title="Gets an already-opened PDO connection or opens a new one for passed-in db name.">Propel::getConnection</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>, <a class="code" href="classPropel.html#a6d5525dbf61dc6e7d54362d02cc4c55c" title="Constant used to request a WRITE connection (applies to replication).">Propel::CONNECTION_WRITE</a>);
<a name="l00712"></a>00712     }
<a name="l00713"></a>00713     
<a name="l00714"></a>00714     $con-&gt;beginTransaction();
<a name="l00715"></a>00715     $isInsert = $this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>();
<a name="l00716"></a>00716     <span class="keywordflow">try</span> {
<a name="l00717"></a>00717       $ret = $this-&gt;<a class="code" href="classBaseObject.html#a6132e7b2ac654ca8822b9762f30adae1" title="Code to be run before persisting the object.">preSave</a>($con);
<a name="l00718"></a>00718       <span class="comment">// symfony_behaviors behavior</span>
<a name="l00719"></a>00719       <span class="keywordflow">foreach</span> (sfMixer::getCallables(<span class="stringliteral">&#39;BaseArticle:save:pre&#39;</span>) as $callable)
<a name="l00720"></a>00720       {
<a name="l00721"></a>00721         <span class="keywordflow">if</span> (is_integer($affectedRows = call_user_func($callable, $this, $con)))
<a name="l00722"></a>00722         {
<a name="l00723"></a>00723           $con-&gt;commit();
<a name="l00724"></a>00724       
<a name="l00725"></a>00725           <span class="keywordflow">return</span> $affectedRows;
<a name="l00726"></a>00726         }
<a name="l00727"></a>00727       }
<a name="l00728"></a>00728 
<a name="l00729"></a>00729       <span class="comment">// symfony_timestampable behavior</span>
<a name="l00730"></a>00730       
<a name="l00731"></a>00731       <span class="keywordflow">if</span> ($isInsert) {
<a name="l00732"></a>00732         $ret = $ret &amp;&amp; $this-&gt;<a class="code" href="classBaseObject.html#a9fef0c7f435e61dbfdb96a1a3dbfc24b" title="Code to be run before inserting to database.">preInsert</a>($con);
<a name="l00733"></a>00733         <span class="comment">// symfony_timestampable behavior</span>
<a name="l00734"></a>00734         <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#ae701d8cdbf9964e7a8f29c7278ff5689" title="the column name for the CREATED_AT field">ArticlePeer::CREATED_AT</a>))
<a name="l00735"></a>00735         {
<a name="l00736"></a>00736           $this-&gt;<a class="code" href="classBaseArticle.html#a82628dccb8756e94c2a174aa7d3e0310" title="Sets the value of [created_at] column to a normalized version of the date/time value...">setCreatedAt</a>(time());
<a name="l00737"></a>00737         }
<a name="l00738"></a>00738 
<a name="l00739"></a>00739       } <span class="keywordflow">else</span> {
<a name="l00740"></a>00740         $ret = $ret &amp;&amp; $this-&gt;<a class="code" href="classBaseObject.html#a7f4a692763ffbd289b23fd581ee94223" title="Code to be run before updating the object in database.">preUpdate</a>($con);
<a name="l00741"></a>00741       }
<a name="l00742"></a>00742       <span class="keywordflow">if</span> ($ret) {
<a name="l00743"></a>00743         $affectedRows = $this-&gt;<a class="code" href="classBaseArticle.html#a84185784ac1c0af91a0f8bd119828036" title="Performs the work of inserting or updating the row in the database.">doSave</a>($con);
<a name="l00744"></a>00744         <span class="keywordflow">if</span> ($isInsert) {
<a name="l00745"></a>00745           $this-&gt;<a class="code" href="classBaseObject.html#af125e91aba563031b1d5a89ad87f0f26" title="Code to be run after inserting to database.">postInsert</a>($con);
<a name="l00746"></a>00746         } <span class="keywordflow">else</span> {
<a name="l00747"></a>00747           $this-&gt;<a class="code" href="classBaseObject.html#af726e192e4fa13cc49497fd28afdd751" title="Code to be run after updating the object in database.">postUpdate</a>($con);
<a name="l00748"></a>00748         }
<a name="l00749"></a>00749         $this-&gt;<a class="code" href="classBaseObject.html#a8809c3f242c59949a88c159a81540393" title="Code to be run after persisting the object.">postSave</a>($con);
<a name="l00750"></a>00750         <span class="comment">// symfony_behaviors behavior</span>
<a name="l00751"></a>00751         <span class="keywordflow">foreach</span> (sfMixer::getCallables(<span class="stringliteral">&#39;BaseArticle:save:post&#39;</span>) as $callable)
<a name="l00752"></a>00752         {
<a name="l00753"></a>00753           call_user_func($callable, $this, $con, $affectedRows);
<a name="l00754"></a>00754         }
<a name="l00755"></a>00755 
<a name="l00756"></a>00756         <a class="code" href="classBaseArticlePeer.html#ac43eeee808bd3e4fd721b371b7928c78" title="Adds an object to the instance pool.">ArticlePeer::addInstanceToPool</a>($this);
<a name="l00757"></a>00757       } <span class="keywordflow">else</span> {
<a name="l00758"></a>00758         $affectedRows = 0;
<a name="l00759"></a>00759       }
<a name="l00760"></a>00760       $con-&gt;commit();
<a name="l00761"></a>00761       <span class="keywordflow">return</span> $affectedRows;
<a name="l00762"></a>00762     } <span class="keywordflow">catch</span> (<a class="code" href="classPropelException.html">PropelException</a> $e) {
<a name="l00763"></a>00763       $con-&gt;rollBack();
<a name="l00764"></a>00764       <span class="keywordflow">throw</span> $e;
<a name="l00765"></a>00765     }
<a name="l00766"></a>00766   }
<a name="l00767"></a>00767 
<a name="l00779"></a><a class="code" href="classBaseArticle.html#a84185784ac1c0af91a0f8bd119828036">00779</a>   <span class="keyword">protected</span> function <a class="code" href="classBaseArticle.html#a84185784ac1c0af91a0f8bd119828036" title="Performs the work of inserting or updating the row in the database.">doSave</a>(<a class="code" href="classPropelPDO.html">PropelPDO</a> $con)
<a name="l00780"></a>00780   {
<a name="l00781"></a>00781     $affectedRows = 0; <span class="comment">// initialize var to track total num of affected rows</span>
<a name="l00782"></a>00782     <span class="keywordflow">if</span> (!$this-&gt;alreadyInSave) {
<a name="l00783"></a>00783       $this-&gt;alreadyInSave = <span class="keyword">true</span>;
<a name="l00784"></a>00784 
<a name="l00785"></a>00785       <span class="comment">// We call the save method on the following object(s) if they</span>
<a name="l00786"></a>00786       <span class="comment">// were passed to this object by their coresponding set</span>
<a name="l00787"></a>00787       <span class="comment">// method.  This object relates to these object(s) by a</span>
<a name="l00788"></a>00788       <span class="comment">// foreign key reference.</span>
<a name="l00789"></a>00789 
<a name="l00790"></a>00790       <span class="keywordflow">if</span> ($this-&gt;aCategory !== null) {
<a name="l00791"></a>00791         <span class="keywordflow">if</span> ($this-&gt;aCategory-&gt;isModified() || $this-&gt;aCategory-&gt;isNew()) {
<a name="l00792"></a>00792           $affectedRows += $this-&gt;aCategory-&gt;save($con);
<a name="l00793"></a>00793         }
<a name="l00794"></a>00794         $this-&gt;<a class="code" href="classBaseArticle.html#a233b95f3d02214a1b5a908332ffeed7c" title="Declares an association between this object and a Category object.">setCategory</a>($this-&gt;aCategory);
<a name="l00795"></a>00795       }
<a name="l00796"></a>00796 
<a name="l00797"></a>00797       <span class="keywordflow">if</span> ($this-&gt;aBook !== null) {
<a name="l00798"></a>00798         <span class="keywordflow">if</span> ($this-&gt;aBook-&gt;isModified() || $this-&gt;aBook-&gt;isNew()) {
<a name="l00799"></a>00799           $affectedRows += $this-&gt;aBook-&gt;save($con);
<a name="l00800"></a>00800         }
<a name="l00801"></a>00801         $this-&gt;<a class="code" href="classBaseArticle.html#a05347ea0be5d82d1c974017ce0845b3a" title="Declares an association between this object and a Book object.">setBook</a>($this-&gt;aBook);
<a name="l00802"></a>00802       }
<a name="l00803"></a>00803 
<a name="l00804"></a>00804       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>() ) {
<a name="l00805"></a>00805         $this-&gt;modifiedColumns[] = <a class="code" href="classBaseArticlePeer.html#a7f8e314826488b4a9b2bf5ddce2e8958" title="the column name for the ID field">ArticlePeer::ID</a>;
<a name="l00806"></a>00806       }
<a name="l00807"></a>00807 
<a name="l00808"></a>00808       <span class="comment">// If this object has been modified, then save it to the database.</span>
<a name="l00809"></a>00809       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#a0824bceb0bbc05809c4d1dbfe3e96a5b" title="Returns whether the object has been modified.">isModified</a>()) {
<a name="l00810"></a>00810         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l00811"></a>00811           $pk = <a class="code" href="classBaseArticlePeer.html#a3351f05bfc5e04c7981d8c68f15752a1" title="Method perform an INSERT on the database, given a Article or Criteria object.">ArticlePeer::doInsert</a>($this, $con);
<a name="l00812"></a>00812           $affectedRows += 1; <span class="comment">// we are assuming that there is only 1 row per doInsert() which</span>
<a name="l00813"></a>00813                      <span class="comment">// should always be true here (even though technically</span>
<a name="l00814"></a>00814                      <span class="comment">// BasePeer::doInsert() can insert multiple rows).</span>
<a name="l00815"></a>00815 
<a name="l00816"></a>00816           $this-&gt;<a class="code" href="classBaseArticle.html#a9dfa1f9a6bdf707a5416b72e09c4e260" title="Set the value of [id] column.">setId</a>($pk);  <span class="comment">//[IMV] update autoincrement primary key</span>
<a name="l00817"></a>00817 
<a name="l00818"></a>00818           $this-&gt;<a class="code" href="classBaseObject.html#a573ecdf603f1a7f47fe31b8ab82b96ab" title="Setter for the isNew attribute.">setNew</a>(<span class="keyword">false</span>);
<a name="l00819"></a>00819         } <span class="keywordflow">else</span> {
<a name="l00820"></a>00820           $affectedRows += <a class="code" href="classBaseArticlePeer.html#a06540fce402142f81c722ed3b8defa7e" title="Method perform an UPDATE on the database, given a Article or Criteria object.">ArticlePeer::doUpdate</a>($this, $con);
<a name="l00821"></a>00821         }
<a name="l00822"></a>00822 
<a name="l00823"></a>00823         $this-&gt;<a class="code" href="interfacePersistent.html#a2bf69be12fd4e75f9a76be13e4f01791" title="Resets (to false) the &amp;quot;modified&amp;quot; state for this object.">resetModified</a>(); <span class="comment">// [HL] After being saved an object is no longer &#39;modified&#39;</span>
<a name="l00824"></a>00824       }
<a name="l00825"></a>00825 
<a name="l00826"></a>00826       <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles !== null) {
<a name="l00827"></a>00827         <span class="keywordflow">foreach</span> ($this-&gt;collAuthorArticles as $referrerFK) {
<a name="l00828"></a>00828           <span class="keywordflow">if</span> (!$referrerFK-&gt;isDeleted()) {
<a name="l00829"></a>00829             $affectedRows += $referrerFK-&gt;save($con);
<a name="l00830"></a>00830           }
<a name="l00831"></a>00831         }
<a name="l00832"></a>00832       }
<a name="l00833"></a>00833 
<a name="l00834"></a>00834       <span class="keywordflow">if</span> ($this-&gt;collAttachments !== null) {
<a name="l00835"></a>00835         <span class="keywordflow">foreach</span> ($this-&gt;collAttachments as $referrerFK) {
<a name="l00836"></a>00836           <span class="keywordflow">if</span> (!$referrerFK-&gt;isDeleted()) {
<a name="l00837"></a>00837             $affectedRows += $referrerFK-&gt;save($con);
<a name="l00838"></a>00838           }
<a name="l00839"></a>00839         }
<a name="l00840"></a>00840       }
<a name="l00841"></a>00841 
<a name="l00842"></a>00842       $this-&gt;alreadyInSave = <span class="keyword">false</span>;
<a name="l00843"></a>00843 
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845     <span class="keywordflow">return</span> $affectedRows;
<a name="l00846"></a>00846   } <span class="comment">// doSave()</span>
<a name="l00847"></a>00847 
<a name="l00852"></a>00852   <span class="keyword">protected</span> $validationFailures = array();
<a name="l00853"></a>00853 
<a name="l00861"></a><a class="code" href="classBaseArticle.html#a179ec07d6064af3e3c959590cdabad1d">00861</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a179ec07d6064af3e3c959590cdabad1d" title="Gets any ValidationFailed objects that resulted from last call to validate().">getValidationFailures</a>()
<a name="l00862"></a>00862   {
<a name="l00863"></a>00863     <span class="keywordflow">return</span> $this-&gt;validationFailures;
<a name="l00864"></a>00864   }
<a name="l00865"></a>00865 
<a name="l00877"></a><a class="code" href="classBaseArticle.html#ae63cc9e567748b09f8662111fefbad25">00877</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#ae63cc9e567748b09f8662111fefbad25" title="Validates the objects modified field values and all objects related to this table...">validate</a>($columns = null)
<a name="l00878"></a>00878   {
<a name="l00879"></a>00879     $res = $this-&gt;<a class="code" href="classBaseArticle.html#ae3691e18edbf9ae6df1cee845289cbe7" title="This function performs the validation work for complex object models.">doValidate</a>($columns);
<a name="l00880"></a>00880     <span class="keywordflow">if</span> ($res === <span class="keyword">true</span>) {
<a name="l00881"></a>00881       $this-&gt;validationFailures = array();
<a name="l00882"></a>00882       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00883"></a>00883     } <span class="keywordflow">else</span> {
<a name="l00884"></a>00884       $this-&gt;validationFailures = $res;
<a name="l00885"></a>00885       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00886"></a>00886     }
<a name="l00887"></a>00887   }
<a name="l00888"></a>00888 
<a name="l00899"></a><a class="code" href="classBaseArticle.html#ae3691e18edbf9ae6df1cee845289cbe7">00899</a>   <span class="keyword">protected</span> function <a class="code" href="classBaseArticle.html#ae3691e18edbf9ae6df1cee845289cbe7" title="This function performs the validation work for complex object models.">doValidate</a>($columns = null)
<a name="l00900"></a>00900   {
<a name="l00901"></a>00901     <span class="keywordflow">if</span> (!$this-&gt;alreadyInValidation) {
<a name="l00902"></a>00902       $this-&gt;alreadyInValidation = <span class="keyword">true</span>;
<a name="l00903"></a>00903       $retval = null;
<a name="l00904"></a>00904 
<a name="l00905"></a>00905       $failureMap = array();
<a name="l00906"></a>00906 
<a name="l00907"></a>00907 
<a name="l00908"></a>00908       <span class="comment">// We call the validate method on the following object(s) if they</span>
<a name="l00909"></a>00909       <span class="comment">// were passed to this object by their coresponding set</span>
<a name="l00910"></a>00910       <span class="comment">// method.  This object relates to these object(s) by a</span>
<a name="l00911"></a>00911       <span class="comment">// foreign key reference.</span>
<a name="l00912"></a>00912 
<a name="l00913"></a>00913       <span class="keywordflow">if</span> ($this-&gt;aCategory !== null) {
<a name="l00914"></a>00914         <span class="keywordflow">if</span> (!$this-&gt;aCategory-&gt;validate($columns)) {
<a name="l00915"></a>00915           $failureMap = array_merge($failureMap, $this-&gt;aCategory-&gt;getValidationFailures());
<a name="l00916"></a>00916         }
<a name="l00917"></a>00917       }
<a name="l00918"></a>00918 
<a name="l00919"></a>00919       <span class="keywordflow">if</span> ($this-&gt;aBook !== null) {
<a name="l00920"></a>00920         <span class="keywordflow">if</span> (!$this-&gt;aBook-&gt;validate($columns)) {
<a name="l00921"></a>00921           $failureMap = array_merge($failureMap, $this-&gt;aBook-&gt;getValidationFailures());
<a name="l00922"></a>00922         }
<a name="l00923"></a>00923       }
<a name="l00924"></a>00924 
<a name="l00925"></a>00925 
<a name="l00926"></a>00926       <span class="keywordflow">if</span> (($retval = <a class="code" href="classBaseArticlePeer.html#a2e973de83474c15a9da0f4c605bf17d3" title="Validates all modified columns of given Article object.">ArticlePeer::doValidate</a>($this, $columns)) !== <span class="keyword">true</span>) {
<a name="l00927"></a>00927         $failureMap = array_merge($failureMap, $retval);
<a name="l00928"></a>00928       }
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 
<a name="l00931"></a>00931         <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles !== null) {
<a name="l00932"></a>00932           <span class="keywordflow">foreach</span> ($this-&gt;collAuthorArticles as $referrerFK) {
<a name="l00933"></a>00933             <span class="keywordflow">if</span> (!$referrerFK-&gt;validate($columns)) {
<a name="l00934"></a>00934               $failureMap = array_merge($failureMap, $referrerFK-&gt;getValidationFailures());
<a name="l00935"></a>00935             }
<a name="l00936"></a>00936           }
<a name="l00937"></a>00937         }
<a name="l00938"></a>00938 
<a name="l00939"></a>00939         <span class="keywordflow">if</span> ($this-&gt;collAttachments !== null) {
<a name="l00940"></a>00940           <span class="keywordflow">foreach</span> ($this-&gt;collAttachments as $referrerFK) {
<a name="l00941"></a>00941             <span class="keywordflow">if</span> (!$referrerFK-&gt;validate($columns)) {
<a name="l00942"></a>00942               $failureMap = array_merge($failureMap, $referrerFK-&gt;getValidationFailures());
<a name="l00943"></a>00943             }
<a name="l00944"></a>00944           }
<a name="l00945"></a>00945         }
<a name="l00946"></a>00946 
<a name="l00947"></a>00947 
<a name="l00948"></a>00948       $this-&gt;alreadyInValidation = <span class="keyword">false</span>;
<a name="l00949"></a>00949     }
<a name="l00950"></a>00950 
<a name="l00951"></a>00951     <span class="keywordflow">return</span> (!empty($failureMap) ? $failureMap : <span class="keyword">true</span>);
<a name="l00952"></a>00952   }
<a name="l00953"></a>00953 
<a name="l00963"></a><a class="code" href="classBaseArticle.html#ae875104ac294cb11cc29ad051e255398">00963</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#ae875104ac294cb11cc29ad051e255398" title="Retrieves a field from the object by name passed in as a string.">getByName</a>($name, $type = <a class="code" href="classBasePeer.html#a212cab2dac429cb64b236da762d94a51" title="phpname type e.g.">BasePeer::TYPE_PHPNAME</a>)
<a name="l00964"></a>00964   {
<a name="l00965"></a>00965     $pos = <a class="code" href="classBaseArticlePeer.html#ad4456197fc85a20cf94db37dff268be8" title="Translates a fieldname to another type.">ArticlePeer::translateFieldName</a>($name, $type, <a class="code" href="classBasePeer.html#a431af4194c1d0a9c52901bbecaceba64" title="num type simply the numerical array index, e.g.">BasePeer::TYPE_NUM</a>);
<a name="l00966"></a>00966     $field = $this-&gt;<a class="code" href="classBaseArticle.html#afa91c171b86d1b920e10c56854fb1f5a" title="Retrieves a field from the object by Position as specified in the xml schema.">getByPosition</a>($pos);
<a name="l00967"></a>00967     <span class="keywordflow">return</span> $field;
<a name="l00968"></a>00968   }
<a name="l00969"></a>00969 
<a name="l00977"></a><a class="code" href="classBaseArticle.html#afa91c171b86d1b920e10c56854fb1f5a">00977</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#afa91c171b86d1b920e10c56854fb1f5a" title="Retrieves a field from the object by Position as specified in the xml schema.">getByPosition</a>($pos)
<a name="l00978"></a>00978   {
<a name="l00979"></a>00979     <span class="keywordflow">switch</span>($pos) {
<a name="l00980"></a>00980       <span class="keywordflow">case</span> 0:
<a name="l00981"></a>00981         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>();
<a name="l00982"></a>00982         <span class="keywordflow">break</span>;
<a name="l00983"></a>00983       <span class="keywordflow">case</span> 1:
<a name="l00984"></a>00984         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a7183c340ae06ec2b7d752777f37db53a" title="Get the [title] column value.">getTitle</a>();
<a name="l00985"></a>00985         <span class="keywordflow">break</span>;
<a name="l00986"></a>00986       <span class="keywordflow">case</span> 2:
<a name="l00987"></a>00987         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a8bdd80746c0c81dd30750505967d228c" title="Get the [body] column value.">getBody</a>();
<a name="l00988"></a>00988         <span class="keywordflow">break</span>;
<a name="l00989"></a>00989       <span class="keywordflow">case</span> 3:
<a name="l00990"></a>00990         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a402eda419dcf8fabb98b21d7e5cedbf6" title="Get the [online] column value.">getOnline</a>();
<a name="l00991"></a>00991         <span class="keywordflow">break</span>;
<a name="l00992"></a>00992       <span class="keywordflow">case</span> 4:
<a name="l00993"></a>00993         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a719f4710895dbd0aeab5bc4c1974e76b" title="Get the [excerpt] column value.">getExcerpt</a>();
<a name="l00994"></a>00994         <span class="keywordflow">break</span>;
<a name="l00995"></a>00995       <span class="keywordflow">case</span> 5:
<a name="l00996"></a>00996         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a153d091f66758247a77feb63adfc1b96" title="Get the [category_id] column value.">getCategoryId</a>();
<a name="l00997"></a>00997         <span class="keywordflow">break</span>;
<a name="l00998"></a>00998       <span class="keywordflow">case</span> 6:
<a name="l00999"></a>00999         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a156694d4aedfff9479f9a4baedf12c64" title="Get the [optionally formatted] temporal [created_at] column value.">getCreatedAt</a>();
<a name="l01000"></a>01000         <span class="keywordflow">break</span>;
<a name="l01001"></a>01001       <span class="keywordflow">case</span> 7:
<a name="l01002"></a>01002         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a6a5b3d7a97292b5b0dc72a653f849ad6" title="Get the [optionally formatted] temporal [end_date] column value.">getEndDate</a>();
<a name="l01003"></a>01003         <span class="keywordflow">break</span>;
<a name="l01004"></a>01004       <span class="keywordflow">case</span> 8:
<a name="l01005"></a>01005         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#acde85f692a9f9fd742d282e4e4775f2c" title="Get the [book_id] column value.">getBookId</a>();
<a name="l01006"></a>01006         <span class="keywordflow">break</span>;
<a name="l01007"></a>01007       <span class="keywordflow">default</span>:
<a name="l01008"></a>01008         <span class="keywordflow">return</span> null;
<a name="l01009"></a>01009         <span class="keywordflow">break</span>;
<a name="l01010"></a>01010     } <span class="comment">// switch()</span>
<a name="l01011"></a>01011   }
<a name="l01012"></a>01012 
<a name="l01024"></a><a class="code" href="classBaseArticle.html#aba66192c207d5da2edc8dad936fdbd84">01024</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#aba66192c207d5da2edc8dad936fdbd84" title="Exports the object as an array.">toArray</a>($keyType = <a class="code" href="classBasePeer.html#a212cab2dac429cb64b236da762d94a51" title="phpname type e.g.">BasePeer::TYPE_PHPNAME</a>, $includeLazyLoadColumns = <span class="keyword">true</span>)
<a name="l01025"></a>01025   {
<a name="l01026"></a>01026     $keys = <a class="code" href="classBaseArticlePeer.html#adc31403f4d2a584b6b4c5c503775cf66" title="Returns an array of field names.">ArticlePeer::getFieldNames</a>($keyType);
<a name="l01027"></a>01027     $result = array(
<a name="l01028"></a>01028       $keys[0] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>(),
<a name="l01029"></a>01029       $keys[1] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a7183c340ae06ec2b7d752777f37db53a" title="Get the [title] column value.">getTitle</a>(),
<a name="l01030"></a>01030       $keys[2] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a8bdd80746c0c81dd30750505967d228c" title="Get the [body] column value.">getBody</a>(),
<a name="l01031"></a>01031       $keys[3] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a402eda419dcf8fabb98b21d7e5cedbf6" title="Get the [online] column value.">getOnline</a>(),
<a name="l01032"></a>01032       $keys[4] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a719f4710895dbd0aeab5bc4c1974e76b" title="Get the [excerpt] column value.">getExcerpt</a>(),
<a name="l01033"></a>01033       $keys[5] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a153d091f66758247a77feb63adfc1b96" title="Get the [category_id] column value.">getCategoryId</a>(),
<a name="l01034"></a>01034       $keys[6] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a156694d4aedfff9479f9a4baedf12c64" title="Get the [optionally formatted] temporal [created_at] column value.">getCreatedAt</a>(),
<a name="l01035"></a>01035       $keys[7] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#a6a5b3d7a97292b5b0dc72a653f849ad6" title="Get the [optionally formatted] temporal [end_date] column value.">getEndDate</a>(),
<a name="l01036"></a>01036       $keys[8] =&gt; $this-&gt;<a class="code" href="classBaseArticle.html#acde85f692a9f9fd742d282e4e4775f2c" title="Get the [book_id] column value.">getBookId</a>(),
<a name="l01037"></a>01037     );
<a name="l01038"></a>01038     <span class="keywordflow">return</span> $result;
<a name="l01039"></a>01039   }
<a name="l01040"></a>01040 
<a name="l01051"></a><a class="code" href="classBaseArticle.html#ac9df5b3ad76e5b0adeb24b107ac2e6bf">01051</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#ac9df5b3ad76e5b0adeb24b107ac2e6bf" title="Sets a field from the object by name passed in as a string.">setByName</a>($name, $value, $type = <a class="code" href="classBasePeer.html#a212cab2dac429cb64b236da762d94a51" title="phpname type e.g.">BasePeer::TYPE_PHPNAME</a>)
<a name="l01052"></a>01052   {
<a name="l01053"></a>01053     $pos = <a class="code" href="classBaseArticlePeer.html#ad4456197fc85a20cf94db37dff268be8" title="Translates a fieldname to another type.">ArticlePeer::translateFieldName</a>($name, $type, <a class="code" href="classBasePeer.html#a431af4194c1d0a9c52901bbecaceba64" title="num type simply the numerical array index, e.g.">BasePeer::TYPE_NUM</a>);
<a name="l01054"></a>01054     <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#a608720eb0db0b33824f775b5c2a6f735" title="Sets a field from the object by Position as specified in the xml schema.">setByPosition</a>($pos, $value);
<a name="l01055"></a>01055   }
<a name="l01056"></a>01056 
<a name="l01065"></a><a class="code" href="classBaseArticle.html#a608720eb0db0b33824f775b5c2a6f735">01065</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a608720eb0db0b33824f775b5c2a6f735" title="Sets a field from the object by Position as specified in the xml schema.">setByPosition</a>($pos, $value)
<a name="l01066"></a>01066   {
<a name="l01067"></a>01067     <span class="keywordflow">switch</span>($pos) {
<a name="l01068"></a>01068       <span class="keywordflow">case</span> 0:
<a name="l01069"></a>01069         $this-&gt;<a class="code" href="classBaseArticle.html#a9dfa1f9a6bdf707a5416b72e09c4e260" title="Set the value of [id] column.">setId</a>($value);
<a name="l01070"></a>01070         <span class="keywordflow">break</span>;
<a name="l01071"></a>01071       <span class="keywordflow">case</span> 1:
<a name="l01072"></a>01072         $this-&gt;<a class="code" href="classBaseArticle.html#a154dcab6d9f313310908f01697c04356" title="Set the value of [title] column.">setTitle</a>($value);
<a name="l01073"></a>01073         <span class="keywordflow">break</span>;
<a name="l01074"></a>01074       <span class="keywordflow">case</span> 2:
<a name="l01075"></a>01075         $this-&gt;<a class="code" href="classBaseArticle.html#aa861993cdcd53148586adea881a92789" title="Set the value of [body] column.">setBody</a>($value);
<a name="l01076"></a>01076         <span class="keywordflow">break</span>;
<a name="l01077"></a>01077       <span class="keywordflow">case</span> 3:
<a name="l01078"></a>01078         $this-&gt;<a class="code" href="classBaseArticle.html#a8f81f82e679a5a62d8b9bdc729cb492e" title="Set the value of [online] column.">setOnline</a>($value);
<a name="l01079"></a>01079         <span class="keywordflow">break</span>;
<a name="l01080"></a>01080       <span class="keywordflow">case</span> 4:
<a name="l01081"></a>01081         $this-&gt;<a class="code" href="classBaseArticle.html#a12fcb17dd0f09185ed36f281c8998f16" title="Set the value of [excerpt] column.">setExcerpt</a>($value);
<a name="l01082"></a>01082         <span class="keywordflow">break</span>;
<a name="l01083"></a>01083       <span class="keywordflow">case</span> 5:
<a name="l01084"></a>01084         $this-&gt;<a class="code" href="classBaseArticle.html#a3cbac7cea204f726cc8dffa9904f9aec" title="Set the value of [category_id] column.">setCategoryId</a>($value);
<a name="l01085"></a>01085         <span class="keywordflow">break</span>;
<a name="l01086"></a>01086       <span class="keywordflow">case</span> 6:
<a name="l01087"></a>01087         $this-&gt;<a class="code" href="classBaseArticle.html#a82628dccb8756e94c2a174aa7d3e0310" title="Sets the value of [created_at] column to a normalized version of the date/time value...">setCreatedAt</a>($value);
<a name="l01088"></a>01088         <span class="keywordflow">break</span>;
<a name="l01089"></a>01089       <span class="keywordflow">case</span> 7:
<a name="l01090"></a>01090         $this-&gt;<a class="code" href="classBaseArticle.html#a33354d79bccf5ca3b8816d47d2dd26aa" title="Sets the value of [end_date] column to a normalized version of the date/time value...">setEndDate</a>($value);
<a name="l01091"></a>01091         <span class="keywordflow">break</span>;
<a name="l01092"></a>01092       <span class="keywordflow">case</span> 8:
<a name="l01093"></a>01093         $this-&gt;<a class="code" href="classBaseArticle.html#a53f39ad0250acbb386ced6d81bebac6b" title="Set the value of [book_id] column.">setBookId</a>($value);
<a name="l01094"></a>01094         <span class="keywordflow">break</span>;
<a name="l01095"></a>01095     } <span class="comment">// switch()</span>
<a name="l01096"></a>01096   }
<a name="l01097"></a>01097 
<a name="l01115"></a><a class="code" href="classBaseArticle.html#a1ddc85de400c5541306d25dacb564ab9">01115</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a1ddc85de400c5541306d25dacb564ab9" title="Populates the object using an array.">fromArray</a>($arr, $keyType = <a class="code" href="classBasePeer.html#a212cab2dac429cb64b236da762d94a51" title="phpname type e.g.">BasePeer::TYPE_PHPNAME</a>)
<a name="l01116"></a>01116   {
<a name="l01117"></a>01117     $keys = <a class="code" href="classBaseArticlePeer.html#adc31403f4d2a584b6b4c5c503775cf66" title="Returns an array of field names.">ArticlePeer::getFieldNames</a>($keyType);
<a name="l01118"></a>01118 
<a name="l01119"></a>01119     <span class="keywordflow">if</span> (array_key_exists($keys[0], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a9dfa1f9a6bdf707a5416b72e09c4e260" title="Set the value of [id] column.">setId</a>($arr[$keys[0]]);
<a name="l01120"></a>01120     <span class="keywordflow">if</span> (array_key_exists($keys[1], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a154dcab6d9f313310908f01697c04356" title="Set the value of [title] column.">setTitle</a>($arr[$keys[1]]);
<a name="l01121"></a>01121     <span class="keywordflow">if</span> (array_key_exists($keys[2], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#aa861993cdcd53148586adea881a92789" title="Set the value of [body] column.">setBody</a>($arr[$keys[2]]);
<a name="l01122"></a>01122     <span class="keywordflow">if</span> (array_key_exists($keys[3], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a8f81f82e679a5a62d8b9bdc729cb492e" title="Set the value of [online] column.">setOnline</a>($arr[$keys[3]]);
<a name="l01123"></a>01123     <span class="keywordflow">if</span> (array_key_exists($keys[4], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a12fcb17dd0f09185ed36f281c8998f16" title="Set the value of [excerpt] column.">setExcerpt</a>($arr[$keys[4]]);
<a name="l01124"></a>01124     <span class="keywordflow">if</span> (array_key_exists($keys[5], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a3cbac7cea204f726cc8dffa9904f9aec" title="Set the value of [category_id] column.">setCategoryId</a>($arr[$keys[5]]);
<a name="l01125"></a>01125     <span class="keywordflow">if</span> (array_key_exists($keys[6], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a82628dccb8756e94c2a174aa7d3e0310" title="Sets the value of [created_at] column to a normalized version of the date/time value...">setCreatedAt</a>($arr[$keys[6]]);
<a name="l01126"></a>01126     <span class="keywordflow">if</span> (array_key_exists($keys[7], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a33354d79bccf5ca3b8816d47d2dd26aa" title="Sets the value of [end_date] column to a normalized version of the date/time value...">setEndDate</a>($arr[$keys[7]]);
<a name="l01127"></a>01127     <span class="keywordflow">if</span> (array_key_exists($keys[8], $arr)) $this-&gt;<a class="code" href="classBaseArticle.html#a53f39ad0250acbb386ced6d81bebac6b" title="Set the value of [book_id] column.">setBookId</a>($arr[$keys[8]]);
<a name="l01128"></a>01128   }
<a name="l01129"></a>01129 
<a name="l01135"></a><a class="code" href="classBaseArticle.html#a6b58a2ec523d22d57135c4ef5f50606b">01135</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a6b58a2ec523d22d57135c4ef5f50606b" title="Build a Criteria object containing the values of all modified columns in this object...">buildCriteria</a>()
<a name="l01136"></a>01136   {
<a name="l01137"></a>01137     $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01138"></a>01138 
<a name="l01139"></a>01139     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#a7f8e314826488b4a9b2bf5ddce2e8958" title="the column name for the ID field">ArticlePeer::ID</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a7f8e314826488b4a9b2bf5ddce2e8958" title="the column name for the ID field">ArticlePeer::ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01140"></a>01140     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#abadfd8ac955601a6e3744e29bf41163d" title="the column name for the TITLE field">ArticlePeer::TITLE</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#abadfd8ac955601a6e3744e29bf41163d" title="the column name for the TITLE field">ArticlePeer::TITLE</a>, $this-&gt;title);
<a name="l01141"></a>01141     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#a09567db33fbc40816e54048f34782340" title="the column name for the BODY field">ArticlePeer::BODY</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a09567db33fbc40816e54048f34782340" title="the column name for the BODY field">ArticlePeer::BODY</a>, $this-&gt;body);
<a name="l01142"></a>01142     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#a7fb27b1fe2a0b6784d708de25c8ac9ab" title="the column name for the ONLINE field">ArticlePeer::ONLINE</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a7fb27b1fe2a0b6784d708de25c8ac9ab" title="the column name for the ONLINE field">ArticlePeer::ONLINE</a>, $this-&gt;online);
<a name="l01143"></a>01143     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#a0081b51b7dc15608021779e69837b239" title="the column name for the EXCERPT field">ArticlePeer::EXCERPT</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a0081b51b7dc15608021779e69837b239" title="the column name for the EXCERPT field">ArticlePeer::EXCERPT</a>, $this-&gt;excerpt);
<a name="l01144"></a>01144     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#aa3422cbf61faa15b88af0dd0bf487bf1" title="the column name for the CATEGORY_ID field">ArticlePeer::CATEGORY_ID</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#aa3422cbf61faa15b88af0dd0bf487bf1" title="the column name for the CATEGORY_ID field">ArticlePeer::CATEGORY_ID</a>, $this-&gt;category_id);
<a name="l01145"></a>01145     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#ae701d8cdbf9964e7a8f29c7278ff5689" title="the column name for the CREATED_AT field">ArticlePeer::CREATED_AT</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#ae701d8cdbf9964e7a8f29c7278ff5689" title="the column name for the CREATED_AT field">ArticlePeer::CREATED_AT</a>, $this-&gt;created_at);
<a name="l01146"></a>01146     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#a0d0db95dc68fdd4d58b56897e85ff66d" title="the column name for the END_DATE field">ArticlePeer::END_DATE</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a0d0db95dc68fdd4d58b56897e85ff66d" title="the column name for the END_DATE field">ArticlePeer::END_DATE</a>, $this-&gt;end_date);
<a name="l01147"></a>01147     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#accd24d24d5dd700a3c90f480c495db0d" title="Has specified column been modified?">isColumnModified</a>(<a class="code" href="classBaseArticlePeer.html#a2838caaca418fac05274180778040813" title="the column name for the BOOK_ID field">ArticlePeer::BOOK_ID</a>)) $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a2838caaca418fac05274180778040813" title="the column name for the BOOK_ID field">ArticlePeer::BOOK_ID</a>, $this-&gt;book_id);
<a name="l01148"></a>01148 
<a name="l01149"></a>01149     <span class="keywordflow">return</span> $criteria;
<a name="l01150"></a>01150   }
<a name="l01151"></a>01151 
<a name="l01160"></a><a class="code" href="classBaseArticle.html#a6b0499c8eded550bf558e49259794513">01160</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a6b0499c8eded550bf558e49259794513" title="Builds a Criteria object containing the primary key for this object.">buildPkeyCriteria</a>()
<a name="l01161"></a>01161   {
<a name="l01162"></a>01162     $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01163"></a>01163 
<a name="l01164"></a>01164     $criteria-&gt;add(<a class="code" href="classBaseArticlePeer.html#a7f8e314826488b4a9b2bf5ddce2e8958" title="the column name for the ID field">ArticlePeer::ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01165"></a>01165 
<a name="l01166"></a>01166     <span class="keywordflow">return</span> $criteria;
<a name="l01167"></a>01167   }
<a name="l01168"></a>01168 
<a name="l01173"></a><a class="code" href="classBaseArticle.html#a57de60b1ff02b6609047c9c236ecdb18">01173</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a57de60b1ff02b6609047c9c236ecdb18" title="Returns the primary key for this object (row).">getPrimaryKey</a>()
<a name="l01174"></a>01174   {
<a name="l01175"></a>01175     <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classBaseArticle.html#af3ac1fd1a669045a7f6e5ee3c6264ae6" title="Get the [id] column value.">getId</a>();
<a name="l01176"></a>01176   }
<a name="l01177"></a>01177 
<a name="l01184"></a><a class="code" href="classBaseArticle.html#ae8ccfd061ec9b06656ec700d06f42c4b">01184</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#ae8ccfd061ec9b06656ec700d06f42c4b" title="Generic method to set the primary key (id column).">setPrimaryKey</a>($key)
<a name="l01185"></a>01185   {
<a name="l01186"></a>01186     $this-&gt;<a class="code" href="classBaseArticle.html#a9dfa1f9a6bdf707a5416b72e09c4e260" title="Set the value of [id] column.">setId</a>($key);
<a name="l01187"></a>01187   }
<a name="l01188"></a>01188 
<a name="l01199"></a><a class="code" href="classBaseArticle.html#affde2a7b80c9e6d5bcda3f42f1d0ec26">01199</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#affde2a7b80c9e6d5bcda3f42f1d0ec26" title="Sets contents of passed object to values from current object.">copyInto</a>($copyObj, $deepCopy = <span class="keyword">false</span>)
<a name="l01200"></a>01200   {
<a name="l01201"></a>01201 
<a name="l01202"></a>01202     $copyObj-&gt;setTitle($this-&gt;title);
<a name="l01203"></a>01203 
<a name="l01204"></a>01204     $copyObj-&gt;setBody($this-&gt;body);
<a name="l01205"></a>01205 
<a name="l01206"></a>01206     $copyObj-&gt;setOnline($this-&gt;online);
<a name="l01207"></a>01207 
<a name="l01208"></a>01208     $copyObj-&gt;setExcerpt($this-&gt;excerpt);
<a name="l01209"></a>01209 
<a name="l01210"></a>01210     $copyObj-&gt;setCategoryId($this-&gt;category_id);
<a name="l01211"></a>01211 
<a name="l01212"></a>01212     $copyObj-&gt;setCreatedAt($this-&gt;created_at);
<a name="l01213"></a>01213 
<a name="l01214"></a>01214     $copyObj-&gt;setEndDate($this-&gt;end_date);
<a name="l01215"></a>01215 
<a name="l01216"></a>01216     $copyObj-&gt;setBookId($this-&gt;book_id);
<a name="l01217"></a>01217 
<a name="l01218"></a>01218 
<a name="l01219"></a>01219     <span class="keywordflow">if</span> ($deepCopy) {
<a name="l01220"></a>01220       <span class="comment">// important: temporarily setNew(false) because this affects the behavior of</span>
<a name="l01221"></a>01221       <span class="comment">// the getter/setter methods for fkey referrer objects.</span>
<a name="l01222"></a>01222       $copyObj-&gt;setNew(<span class="keyword">false</span>);
<a name="l01223"></a>01223 
<a name="l01224"></a>01224       <span class="keywordflow">foreach</span> ($this-&gt;<a class="code" href="classBaseArticle.html#aa0bd8ef1235fe8ec4c9a2ebec0f23b0a" title="Gets an array of AuthorArticle objects which contain a foreign key that references...">getAuthorArticles</a>() as $relObj) {
<a name="l01225"></a>01225         <span class="keywordflow">if</span> ($relObj !== $this) {  <span class="comment">// ensure that we don&#39;t try to copy a reference to ourselves</span>
<a name="l01226"></a>01226           $copyObj-&gt;addAuthorArticle($relObj-&gt;copy($deepCopy));
<a name="l01227"></a>01227         }
<a name="l01228"></a>01228       }
<a name="l01229"></a>01229 
<a name="l01230"></a>01230       <span class="keywordflow">foreach</span> ($this-&gt;<a class="code" href="classBaseArticle.html#a5051d88a3010cbaafe170db100fdb5cd" title="Gets an array of Attachment objects which contain a foreign key that references this...">getAttachments</a>() as $relObj) {
<a name="l01231"></a>01231         <span class="keywordflow">if</span> ($relObj !== $this) {  <span class="comment">// ensure that we don&#39;t try to copy a reference to ourselves</span>
<a name="l01232"></a>01232           $copyObj-&gt;addAttachment($relObj-&gt;copy($deepCopy));
<a name="l01233"></a>01233         }
<a name="l01234"></a>01234       }
<a name="l01235"></a>01235 
<a name="l01236"></a>01236     } <span class="comment">// if ($deepCopy)</span>
<a name="l01237"></a>01237 
<a name="l01238"></a>01238 
<a name="l01239"></a>01239     $copyObj-&gt;setNew(<span class="keyword">true</span>);
<a name="l01240"></a>01240 
<a name="l01241"></a>01241     $copyObj-&gt;setId(NULL); <span class="comment">// this is a auto-increment column, so set to default value</span>
<a name="l01242"></a>01242 
<a name="l01243"></a>01243   }
<a name="l01244"></a>01244 
<a name="l01257"></a><a class="code" href="classBaseArticle.html#a4ef494f193b3a9eefe83e7c947175ade">01257</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a4ef494f193b3a9eefe83e7c947175ade" title="Makes a copy of this object that will be inserted as a new row in table when saved...">copy</a>($deepCopy = <span class="keyword">false</span>)
<a name="l01258"></a>01258   {
<a name="l01259"></a>01259     <span class="comment">// we use get_class(), because this might be a subclass</span>
<a name="l01260"></a>01260     $clazz = get_class($this);
<a name="l01261"></a>01261     $copyObj = <span class="keyword">new</span> $clazz();
<a name="l01262"></a>01262     $this-&gt;<a class="code" href="classBaseArticle.html#affde2a7b80c9e6d5bcda3f42f1d0ec26" title="Sets contents of passed object to values from current object.">copyInto</a>($copyObj, $deepCopy);
<a name="l01263"></a>01263     <span class="keywordflow">return</span> $copyObj;
<a name="l01264"></a>01264   }
<a name="l01265"></a>01265 
<a name="l01275"></a><a class="code" href="classBaseArticle.html#a9c28983db10e46e0e1b7fe09cd4ec69c">01275</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a9c28983db10e46e0e1b7fe09cd4ec69c" title="Returns a peer instance associated with this om.">getPeer</a>()
<a name="l01276"></a>01276   {
<a name="l01277"></a>01277     <span class="keywordflow">if</span> (self::$peer === null) {
<a name="l01278"></a>01278       self::$peer = <span class="keyword">new</span> <a class="code" href="classArticlePeer.html">ArticlePeer</a>();
<a name="l01279"></a>01279     }
<a name="l01280"></a>01280     <span class="keywordflow">return</span> self::$peer;
<a name="l01281"></a>01281   }
<a name="l01282"></a>01282 
<a name="l01290"></a><a class="code" href="classBaseArticle.html#a233b95f3d02214a1b5a908332ffeed7c">01290</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a233b95f3d02214a1b5a908332ffeed7c" title="Declares an association between this object and a Category object.">setCategory</a>(<a class="code" href="classCategory.html">Category</a> $v = null)
<a name="l01291"></a>01291   {
<a name="l01292"></a>01292     <span class="keywordflow">if</span> ($v === null) {
<a name="l01293"></a>01293       $this-&gt;<a class="code" href="classBaseArticle.html#a3cbac7cea204f726cc8dffa9904f9aec" title="Set the value of [category_id] column.">setCategoryId</a>(NULL);
<a name="l01294"></a>01294     } <span class="keywordflow">else</span> {
<a name="l01295"></a>01295       $this-&gt;<a class="code" href="classBaseArticle.html#a3cbac7cea204f726cc8dffa9904f9aec" title="Set the value of [category_id] column.">setCategoryId</a>($v-&gt;getId());
<a name="l01296"></a>01296     }
<a name="l01297"></a>01297 
<a name="l01298"></a>01298     $this-&gt;aCategory = $v;
<a name="l01299"></a>01299 
<a name="l01300"></a>01300     <span class="comment">// Add binding for other direction of this n:n relationship.</span>
<a name="l01301"></a>01301     <span class="comment">// If this object has already been added to the Category object, it will not be re-added.</span>
<a name="l01302"></a>01302     <span class="keywordflow">if</span> ($v !== null) {
<a name="l01303"></a>01303       $v-&gt;addArticle($this);
<a name="l01304"></a>01304     }
<a name="l01305"></a>01305 
<a name="l01306"></a>01306     <span class="keywordflow">return</span> $this;
<a name="l01307"></a>01307   }
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 
<a name="l01317"></a><a class="code" href="classBaseArticle.html#a604f492ae0f388f09590659060ecec23">01317</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a604f492ae0f388f09590659060ecec23" title="Get the associated Category object.">getCategory</a>(<a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l01318"></a>01318   {
<a name="l01319"></a>01319     <span class="keywordflow">if</span> ($this-&gt;aCategory === null &amp;&amp; ($this-&gt;category_id !== null)) {
<a name="l01320"></a>01320       $this-&gt;aCategory = CategoryPeer::retrieveByPk($this-&gt;category_id);
<a name="l01321"></a>01321       <span class="comment">/* The following can be used additionally to</span>
<a name="l01322"></a>01322 <span class="comment">         guarantee the related object contains a reference</span>
<a name="l01323"></a>01323 <span class="comment">         to this object.  This level of coupling may, however, be</span>
<a name="l01324"></a>01324 <span class="comment">         undesirable since it could result in an only partially populated collection</span>
<a name="l01325"></a>01325 <span class="comment">         in the referenced object.</span>
<a name="l01326"></a>01326 <span class="comment">         $this-&gt;aCategory-&gt;addArticles($this);</span>
<a name="l01327"></a>01327 <span class="comment">       */</span>
<a name="l01328"></a>01328     }
<a name="l01329"></a>01329     <span class="keywordflow">return</span> $this-&gt;aCategory;
<a name="l01330"></a>01330   }
<a name="l01331"></a>01331 
<a name="l01339"></a><a class="code" href="classBaseArticle.html#a05347ea0be5d82d1c974017ce0845b3a">01339</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a05347ea0be5d82d1c974017ce0845b3a" title="Declares an association between this object and a Book object.">setBook</a>(<a class="code" href="classBook.html">Book</a> $v = null)
<a name="l01340"></a>01340   {
<a name="l01341"></a>01341     <span class="keywordflow">if</span> ($v === null) {
<a name="l01342"></a>01342       $this-&gt;<a class="code" href="classBaseArticle.html#a53f39ad0250acbb386ced6d81bebac6b" title="Set the value of [book_id] column.">setBookId</a>(NULL);
<a name="l01343"></a>01343     } <span class="keywordflow">else</span> {
<a name="l01344"></a>01344       $this-&gt;<a class="code" href="classBaseArticle.html#a53f39ad0250acbb386ced6d81bebac6b" title="Set the value of [book_id] column.">setBookId</a>($v-&gt;getId());
<a name="l01345"></a>01345     }
<a name="l01346"></a>01346 
<a name="l01347"></a>01347     $this-&gt;aBook = $v;
<a name="l01348"></a>01348 
<a name="l01349"></a>01349     <span class="comment">// Add binding for other direction of this n:n relationship.</span>
<a name="l01350"></a>01350     <span class="comment">// If this object has already been added to the Book object, it will not be re-added.</span>
<a name="l01351"></a>01351     <span class="keywordflow">if</span> ($v !== null) {
<a name="l01352"></a>01352       $v-&gt;addArticle($this);
<a name="l01353"></a>01353     }
<a name="l01354"></a>01354 
<a name="l01355"></a>01355     <span class="keywordflow">return</span> $this;
<a name="l01356"></a>01356   }
<a name="l01357"></a>01357 
<a name="l01358"></a>01358 
<a name="l01366"></a><a class="code" href="classBaseArticle.html#aabe1bea8e5c085e196fb28f715f2f0da">01366</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#aabe1bea8e5c085e196fb28f715f2f0da" title="Get the associated Book object.">getBook</a>(<a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l01367"></a>01367   {
<a name="l01368"></a>01368     <span class="keywordflow">if</span> ($this-&gt;aBook === null &amp;&amp; ($this-&gt;book_id !== null)) {
<a name="l01369"></a>01369       $this-&gt;aBook = BookPeer::retrieveByPk($this-&gt;book_id);
<a name="l01370"></a>01370       <span class="comment">/* The following can be used additionally to</span>
<a name="l01371"></a>01371 <span class="comment">         guarantee the related object contains a reference</span>
<a name="l01372"></a>01372 <span class="comment">         to this object.  This level of coupling may, however, be</span>
<a name="l01373"></a>01373 <span class="comment">         undesirable since it could result in an only partially populated collection</span>
<a name="l01374"></a>01374 <span class="comment">         in the referenced object.</span>
<a name="l01375"></a>01375 <span class="comment">         $this-&gt;aBook-&gt;addArticles($this);</span>
<a name="l01376"></a>01376 <span class="comment">       */</span>
<a name="l01377"></a>01377     }
<a name="l01378"></a>01378     <span class="keywordflow">return</span> $this-&gt;aBook;
<a name="l01379"></a>01379   }
<a name="l01380"></a>01380 
<a name="l01390"></a><a class="code" href="classBaseArticle.html#a283fdd3260233034d22ea85afb9df2f1">01390</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a283fdd3260233034d22ea85afb9df2f1" title="Clears out the collAuthorArticles collection (array).">clearAuthorArticles</a>()
<a name="l01391"></a>01391   {
<a name="l01392"></a>01392     $this-&gt;collAuthorArticles = null; <span class="comment">// important to set this to NULL since that means it is uninitialized</span>
<a name="l01393"></a>01393   }
<a name="l01394"></a>01394 
<a name="l01404"></a><a class="code" href="classBaseArticle.html#a972b49ed49329b300a940611970322eb">01404</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a972b49ed49329b300a940611970322eb" title="Initializes the collAuthorArticles collection (array).">initAuthorArticles</a>()
<a name="l01405"></a>01405   {
<a name="l01406"></a>01406     $this-&gt;collAuthorArticles = array();
<a name="l01407"></a>01407   }
<a name="l01408"></a>01408 
<a name="l01422"></a><a class="code" href="classBaseArticle.html#aa0bd8ef1235fe8ec4c9a2ebec0f23b0a">01422</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#aa0bd8ef1235fe8ec4c9a2ebec0f23b0a" title="Gets an array of AuthorArticle objects which contain a foreign key that references...">getAuthorArticles</a>($criteria = null, <a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l01423"></a>01423   {
<a name="l01424"></a>01424     <span class="keywordflow">if</span> ($criteria === null) {
<a name="l01425"></a>01425       $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01426"></a>01426     }
<a name="l01427"></a>01427     elseif ($criteria instanceof <a class="code" href="classCriteria.html">Criteria</a>)
<a name="l01428"></a>01428     {
<a name="l01429"></a>01429       $criteria = clone $criteria;
<a name="l01430"></a>01430     }
<a name="l01431"></a>01431 
<a name="l01432"></a>01432     <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles === null) {
<a name="l01433"></a>01433       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01434"></a>01434          $this-&gt;collAuthorArticles = array();
<a name="l01435"></a>01435       } <span class="keywordflow">else</span> {
<a name="l01436"></a>01436 
<a name="l01437"></a>01437         $criteria-&gt;add(<a class="code" href="classBaseAuthorArticlePeer.html#aee7bb2900198a7b5fe9d0aec40c82cc7" title="the column name for the ARTICLE_ID field">AuthorArticlePeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01438"></a>01438 
<a name="l01439"></a>01439         <a class="code" href="classBaseAuthorArticlePeer.html#ac4fbc08e60b41352c4af99d6c8b2533a" title="Add all the columns needed to create a new object.">AuthorArticlePeer::addSelectColumns</a>($criteria);
<a name="l01440"></a>01440         $this-&gt;collAuthorArticles = <a class="code" href="classBaseAuthorArticlePeer.html#a6386cd12005895594d57c2bad54e7829" title="Method to do selects.">AuthorArticlePeer::doSelect</a>($criteria, $con);
<a name="l01441"></a>01441       }
<a name="l01442"></a>01442     } <span class="keywordflow">else</span> {
<a name="l01443"></a>01443       <span class="comment">// criteria has no effect for a new object</span>
<a name="l01444"></a>01444       <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01445"></a>01445         <span class="comment">// the following code is to determine if a new query is</span>
<a name="l01446"></a>01446         <span class="comment">// called for.  If the criteria is the same as the last</span>
<a name="l01447"></a>01447         <span class="comment">// one, just return the collection.</span>
<a name="l01448"></a>01448 
<a name="l01449"></a>01449 
<a name="l01450"></a>01450         $criteria-&gt;add(<a class="code" href="classBaseAuthorArticlePeer.html#aee7bb2900198a7b5fe9d0aec40c82cc7" title="the column name for the ARTICLE_ID field">AuthorArticlePeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01451"></a>01451 
<a name="l01452"></a>01452         <a class="code" href="classBaseAuthorArticlePeer.html#ac4fbc08e60b41352c4af99d6c8b2533a" title="Add all the columns needed to create a new object.">AuthorArticlePeer::addSelectColumns</a>($criteria);
<a name="l01453"></a>01453         <span class="keywordflow">if</span> (!isset($this-&gt;lastAuthorArticleCriteria) || !$this-&gt;lastAuthorArticleCriteria-&gt;equals($criteria)) {
<a name="l01454"></a>01454           $this-&gt;collAuthorArticles = <a class="code" href="classBaseAuthorArticlePeer.html#a6386cd12005895594d57c2bad54e7829" title="Method to do selects.">AuthorArticlePeer::doSelect</a>($criteria, $con);
<a name="l01455"></a>01455         }
<a name="l01456"></a>01456       }
<a name="l01457"></a>01457     }
<a name="l01458"></a>01458     $this-&gt;lastAuthorArticleCriteria = $criteria;
<a name="l01459"></a>01459     <span class="keywordflow">return</span> $this-&gt;collAuthorArticles;
<a name="l01460"></a>01460   }
<a name="l01461"></a>01461 
<a name="l01471"></a><a class="code" href="classBaseArticle.html#afa852bb105eddef27da92da370a1f598">01471</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#afa852bb105eddef27da92da370a1f598" title="Returns the number of related AuthorArticle objects.">countAuthorArticles</a>(<a class="code" href="classCriteria.html">Criteria</a> $criteria = null, $distinct = <span class="keyword">false</span>, <a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l01472"></a>01472   {
<a name="l01473"></a>01473     <span class="keywordflow">if</span> ($criteria === null) {
<a name="l01474"></a>01474       $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01475"></a>01475     } <span class="keywordflow">else</span> {
<a name="l01476"></a>01476       $criteria = clone $criteria;
<a name="l01477"></a>01477     }
<a name="l01478"></a>01478 
<a name="l01479"></a>01479     <span class="keywordflow">if</span> ($distinct) {
<a name="l01480"></a>01480       $criteria-&gt;setDistinct();
<a name="l01481"></a>01481     }
<a name="l01482"></a>01482 
<a name="l01483"></a>01483     $count = null;
<a name="l01484"></a>01484 
<a name="l01485"></a>01485     <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles === null) {
<a name="l01486"></a>01486       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01487"></a>01487         $count = 0;
<a name="l01488"></a>01488       } <span class="keywordflow">else</span> {
<a name="l01489"></a>01489 
<a name="l01490"></a>01490         $criteria-&gt;add(<a class="code" href="classBaseAuthorArticlePeer.html#aee7bb2900198a7b5fe9d0aec40c82cc7" title="the column name for the ARTICLE_ID field">AuthorArticlePeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01491"></a>01491 
<a name="l01492"></a>01492         $count = <a class="code" href="classBaseAuthorArticlePeer.html#afe7edf011405923bb336f56322ed17ca" title="Returns the number of rows matching criteria.">AuthorArticlePeer::doCount</a>($criteria, <span class="keyword">false</span>, $con);
<a name="l01493"></a>01493       }
<a name="l01494"></a>01494     } <span class="keywordflow">else</span> {
<a name="l01495"></a>01495       <span class="comment">// criteria has no effect for a new object</span>
<a name="l01496"></a>01496       <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01497"></a>01497         <span class="comment">// the following code is to determine if a new query is</span>
<a name="l01498"></a>01498         <span class="comment">// called for.  If the criteria is the same as the last</span>
<a name="l01499"></a>01499         <span class="comment">// one, just return count of the collection.</span>
<a name="l01500"></a>01500 
<a name="l01501"></a>01501 
<a name="l01502"></a>01502         $criteria-&gt;add(<a class="code" href="classBaseAuthorArticlePeer.html#aee7bb2900198a7b5fe9d0aec40c82cc7" title="the column name for the ARTICLE_ID field">AuthorArticlePeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01503"></a>01503 
<a name="l01504"></a>01504         <span class="keywordflow">if</span> (!isset($this-&gt;lastAuthorArticleCriteria) || !$this-&gt;lastAuthorArticleCriteria-&gt;equals($criteria)) {
<a name="l01505"></a>01505           $count = <a class="code" href="classBaseAuthorArticlePeer.html#afe7edf011405923bb336f56322ed17ca" title="Returns the number of rows matching criteria.">AuthorArticlePeer::doCount</a>($criteria, <span class="keyword">false</span>, $con);
<a name="l01506"></a>01506         } <span class="keywordflow">else</span> {
<a name="l01507"></a>01507           $count = count($this-&gt;collAuthorArticles);
<a name="l01508"></a>01508         }
<a name="l01509"></a>01509       } <span class="keywordflow">else</span> {
<a name="l01510"></a>01510         $count = count($this-&gt;collAuthorArticles);
<a name="l01511"></a>01511       }
<a name="l01512"></a>01512     }
<a name="l01513"></a>01513     <span class="keywordflow">return</span> $count;
<a name="l01514"></a>01514   }
<a name="l01515"></a>01515 
<a name="l01524"></a><a class="code" href="classBaseArticle.html#a652debd8e3ad09f8d6d9696fb6fb6248">01524</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a652debd8e3ad09f8d6d9696fb6fb6248" title="Method called to associate a AuthorArticle object to this object through the AuthorArticle...">addAuthorArticle</a>(<a class="code" href="classAuthorArticle.html">AuthorArticle</a> $l)
<a name="l01525"></a>01525   {
<a name="l01526"></a>01526     <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles === null) {
<a name="l01527"></a>01527       $this-&gt;<a class="code" href="classBaseArticle.html#a972b49ed49329b300a940611970322eb" title="Initializes the collAuthorArticles collection (array).">initAuthorArticles</a>();
<a name="l01528"></a>01528     }
<a name="l01529"></a>01529     <span class="keywordflow">if</span> (!in_array($l, $this-&gt;collAuthorArticles, <span class="keyword">true</span>)) { <span class="comment">// only add it if the **same** object is not already associated</span>
<a name="l01530"></a>01530       array_push($this-&gt;collAuthorArticles, $l);
<a name="l01531"></a>01531       $l-&gt;<a class="code" href="classBaseAuthorArticle.html#a6aeb1a209e53f5f9ae04add813526c7b" title="Declares an association between this object and a Article object.">setArticle</a>($this);
<a name="l01532"></a>01532     }
<a name="l01533"></a>01533   }
<a name="l01534"></a>01534 
<a name="l01535"></a>01535 
<a name="l01547"></a><a class="code" href="classBaseArticle.html#a1707734b5cb640c8c01df89e770d6eb0">01547</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a1707734b5cb640c8c01df89e770d6eb0" title="If this collection has already been initialized with an identical criteria, it returns...">getAuthorArticlesJoinAuthor</a>($criteria = null, $con = null, $join_behavior = <a class="code" href="classCriteria.html#aeca285a27439918e42a28de23eeabed9" title="&amp;quot;LEFT JOIN&amp;quot; SQL statement">Criteria::LEFT_JOIN</a>)
<a name="l01548"></a>01548   {
<a name="l01549"></a>01549     <span class="keywordflow">if</span> ($criteria === null) {
<a name="l01550"></a>01550       $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01551"></a>01551     }
<a name="l01552"></a>01552     elseif ($criteria instanceof <a class="code" href="classCriteria.html">Criteria</a>)
<a name="l01553"></a>01553     {
<a name="l01554"></a>01554       $criteria = clone $criteria;
<a name="l01555"></a>01555     }
<a name="l01556"></a>01556 
<a name="l01557"></a>01557     <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles === null) {
<a name="l01558"></a>01558       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01559"></a>01559         $this-&gt;collAuthorArticles = array();
<a name="l01560"></a>01560       } <span class="keywordflow">else</span> {
<a name="l01561"></a>01561 
<a name="l01562"></a>01562         $criteria-&gt;add(<a class="code" href="classBaseAuthorArticlePeer.html#aee7bb2900198a7b5fe9d0aec40c82cc7" title="the column name for the ARTICLE_ID field">AuthorArticlePeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01563"></a>01563 
<a name="l01564"></a>01564         $this-&gt;collAuthorArticles = <a class="code" href="classBaseAuthorArticlePeer.html#ad53d8906cfe20889925d4cbb2bd922e5" title="Selects a collection of AuthorArticle objects pre-filled with their Author objects...">AuthorArticlePeer::doSelectJoinAuthor</a>($criteria, $con, $join_behavior);
<a name="l01565"></a>01565       }
<a name="l01566"></a>01566     } <span class="keywordflow">else</span> {
<a name="l01567"></a>01567       <span class="comment">// the following code is to determine if a new query is</span>
<a name="l01568"></a>01568       <span class="comment">// called for.  If the criteria is the same as the last</span>
<a name="l01569"></a>01569       <span class="comment">// one, just return the collection.</span>
<a name="l01570"></a>01570 
<a name="l01571"></a>01571       $criteria-&gt;add(<a class="code" href="classBaseAuthorArticlePeer.html#aee7bb2900198a7b5fe9d0aec40c82cc7" title="the column name for the ARTICLE_ID field">AuthorArticlePeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01572"></a>01572 
<a name="l01573"></a>01573       <span class="keywordflow">if</span> (!isset($this-&gt;lastAuthorArticleCriteria) || !$this-&gt;lastAuthorArticleCriteria-&gt;equals($criteria)) {
<a name="l01574"></a>01574         $this-&gt;collAuthorArticles = <a class="code" href="classBaseAuthorArticlePeer.html#ad53d8906cfe20889925d4cbb2bd922e5" title="Selects a collection of AuthorArticle objects pre-filled with their Author objects...">AuthorArticlePeer::doSelectJoinAuthor</a>($criteria, $con, $join_behavior);
<a name="l01575"></a>01575       }
<a name="l01576"></a>01576     }
<a name="l01577"></a>01577     $this-&gt;lastAuthorArticleCriteria = $criteria;
<a name="l01578"></a>01578 
<a name="l01579"></a>01579     <span class="keywordflow">return</span> $this-&gt;collAuthorArticles;
<a name="l01580"></a>01580   }
<a name="l01581"></a>01581 
<a name="l01591"></a><a class="code" href="classBaseArticle.html#adbc3b4cc228788d614d2a5393e4707dc">01591</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#adbc3b4cc228788d614d2a5393e4707dc" title="Clears out the collAttachments collection (array).">clearAttachments</a>()
<a name="l01592"></a>01592   {
<a name="l01593"></a>01593     $this-&gt;collAttachments = null; <span class="comment">// important to set this to NULL since that means it is uninitialized</span>
<a name="l01594"></a>01594   }
<a name="l01595"></a>01595 
<a name="l01605"></a><a class="code" href="classBaseArticle.html#a16fcbe3af33c3f772a9a09bb67d88b3c">01605</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a16fcbe3af33c3f772a9a09bb67d88b3c" title="Initializes the collAttachments collection (array).">initAttachments</a>()
<a name="l01606"></a>01606   {
<a name="l01607"></a>01607     $this-&gt;collAttachments = array();
<a name="l01608"></a>01608   }
<a name="l01609"></a>01609 
<a name="l01623"></a><a class="code" href="classBaseArticle.html#a5051d88a3010cbaafe170db100fdb5cd">01623</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a5051d88a3010cbaafe170db100fdb5cd" title="Gets an array of Attachment objects which contain a foreign key that references this...">getAttachments</a>($criteria = null, <a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l01624"></a>01624   {
<a name="l01625"></a>01625     <span class="keywordflow">if</span> ($criteria === null) {
<a name="l01626"></a>01626       $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01627"></a>01627     }
<a name="l01628"></a>01628     elseif ($criteria instanceof <a class="code" href="classCriteria.html">Criteria</a>)
<a name="l01629"></a>01629     {
<a name="l01630"></a>01630       $criteria = clone $criteria;
<a name="l01631"></a>01631     }
<a name="l01632"></a>01632 
<a name="l01633"></a>01633     <span class="keywordflow">if</span> ($this-&gt;collAttachments === null) {
<a name="l01634"></a>01634       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01635"></a>01635          $this-&gt;collAttachments = array();
<a name="l01636"></a>01636       } <span class="keywordflow">else</span> {
<a name="l01637"></a>01637 
<a name="l01638"></a>01638         $criteria-&gt;add(<a class="code" href="classBaseAttachmentPeer.html#af5f0a2019b25e20a6499979897c35378" title="the column name for the ARTICLE_ID field">AttachmentPeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01639"></a>01639 
<a name="l01640"></a>01640         <a class="code" href="classBaseAttachmentPeer.html#ac52bbd0ac51e5c1e7399210b292f8a01" title="Add all the columns needed to create a new object.">AttachmentPeer::addSelectColumns</a>($criteria);
<a name="l01641"></a>01641         $this-&gt;collAttachments = <a class="code" href="classBaseAttachmentPeer.html#a1266c54feb80fbb1af301505a5790568" title="Method to do selects.">AttachmentPeer::doSelect</a>($criteria, $con);
<a name="l01642"></a>01642       }
<a name="l01643"></a>01643     } <span class="keywordflow">else</span> {
<a name="l01644"></a>01644       <span class="comment">// criteria has no effect for a new object</span>
<a name="l01645"></a>01645       <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01646"></a>01646         <span class="comment">// the following code is to determine if a new query is</span>
<a name="l01647"></a>01647         <span class="comment">// called for.  If the criteria is the same as the last</span>
<a name="l01648"></a>01648         <span class="comment">// one, just return the collection.</span>
<a name="l01649"></a>01649 
<a name="l01650"></a>01650 
<a name="l01651"></a>01651         $criteria-&gt;add(<a class="code" href="classBaseAttachmentPeer.html#af5f0a2019b25e20a6499979897c35378" title="the column name for the ARTICLE_ID field">AttachmentPeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01652"></a>01652 
<a name="l01653"></a>01653         <a class="code" href="classBaseAttachmentPeer.html#ac52bbd0ac51e5c1e7399210b292f8a01" title="Add all the columns needed to create a new object.">AttachmentPeer::addSelectColumns</a>($criteria);
<a name="l01654"></a>01654         <span class="keywordflow">if</span> (!isset($this-&gt;lastAttachmentCriteria) || !$this-&gt;lastAttachmentCriteria-&gt;equals($criteria)) {
<a name="l01655"></a>01655           $this-&gt;collAttachments = <a class="code" href="classBaseAttachmentPeer.html#a1266c54feb80fbb1af301505a5790568" title="Method to do selects.">AttachmentPeer::doSelect</a>($criteria, $con);
<a name="l01656"></a>01656         }
<a name="l01657"></a>01657       }
<a name="l01658"></a>01658     }
<a name="l01659"></a>01659     $this-&gt;lastAttachmentCriteria = $criteria;
<a name="l01660"></a>01660     <span class="keywordflow">return</span> $this-&gt;collAttachments;
<a name="l01661"></a>01661   }
<a name="l01662"></a>01662 
<a name="l01672"></a><a class="code" href="classBaseArticle.html#a719f3d3e794f3aab5f4ea734ef964408">01672</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a719f3d3e794f3aab5f4ea734ef964408" title="Returns the number of related Attachment objects.">countAttachments</a>(<a class="code" href="classCriteria.html">Criteria</a> $criteria = null, $distinct = <span class="keyword">false</span>, <a class="code" href="classPropelPDO.html">PropelPDO</a> $con = null)
<a name="l01673"></a>01673   {
<a name="l01674"></a>01674     <span class="keywordflow">if</span> ($criteria === null) {
<a name="l01675"></a>01675       $criteria = <span class="keyword">new</span> <a class="code" href="classCriteria.html">Criteria</a>(<a class="code" href="classBaseArticlePeer.html#ab0788709ba4ab4b68da194dc6a4ab954" title="the default database name for this class">ArticlePeer::DATABASE_NAME</a>);
<a name="l01676"></a>01676     } <span class="keywordflow">else</span> {
<a name="l01677"></a>01677       $criteria = clone $criteria;
<a name="l01678"></a>01678     }
<a name="l01679"></a>01679 
<a name="l01680"></a>01680     <span class="keywordflow">if</span> ($distinct) {
<a name="l01681"></a>01681       $criteria-&gt;setDistinct();
<a name="l01682"></a>01682     }
<a name="l01683"></a>01683 
<a name="l01684"></a>01684     $count = null;
<a name="l01685"></a>01685 
<a name="l01686"></a>01686     <span class="keywordflow">if</span> ($this-&gt;collAttachments === null) {
<a name="l01687"></a>01687       <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01688"></a>01688         $count = 0;
<a name="l01689"></a>01689       } <span class="keywordflow">else</span> {
<a name="l01690"></a>01690 
<a name="l01691"></a>01691         $criteria-&gt;add(<a class="code" href="classBaseAttachmentPeer.html#af5f0a2019b25e20a6499979897c35378" title="the column name for the ARTICLE_ID field">AttachmentPeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01692"></a>01692 
<a name="l01693"></a>01693         $count = <a class="code" href="classBaseAttachmentPeer.html#a2b593c102b9eaf43072fd93d0040c300" title="Returns the number of rows matching criteria.">AttachmentPeer::doCount</a>($criteria, <span class="keyword">false</span>, $con);
<a name="l01694"></a>01694       }
<a name="l01695"></a>01695     } <span class="keywordflow">else</span> {
<a name="l01696"></a>01696       <span class="comment">// criteria has no effect for a new object</span>
<a name="l01697"></a>01697       <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="classBaseObject.html#aa4948a400d33e27cb0dbd7abed5d2087" title="Returns whether the object has ever been saved.">isNew</a>()) {
<a name="l01698"></a>01698         <span class="comment">// the following code is to determine if a new query is</span>
<a name="l01699"></a>01699         <span class="comment">// called for.  If the criteria is the same as the last</span>
<a name="l01700"></a>01700         <span class="comment">// one, just return count of the collection.</span>
<a name="l01701"></a>01701 
<a name="l01702"></a>01702 
<a name="l01703"></a>01703         $criteria-&gt;add(<a class="code" href="classBaseAttachmentPeer.html#af5f0a2019b25e20a6499979897c35378" title="the column name for the ARTICLE_ID field">AttachmentPeer::ARTICLE_ID</a>, $this-&gt;<span class="keywordtype">id</span>);
<a name="l01704"></a>01704 
<a name="l01705"></a>01705         <span class="keywordflow">if</span> (!isset($this-&gt;lastAttachmentCriteria) || !$this-&gt;lastAttachmentCriteria-&gt;equals($criteria)) {
<a name="l01706"></a>01706           $count = <a class="code" href="classBaseAttachmentPeer.html#a2b593c102b9eaf43072fd93d0040c300" title="Returns the number of rows matching criteria.">AttachmentPeer::doCount</a>($criteria, <span class="keyword">false</span>, $con);
<a name="l01707"></a>01707         } <span class="keywordflow">else</span> {
<a name="l01708"></a>01708           $count = count($this-&gt;collAttachments);
<a name="l01709"></a>01709         }
<a name="l01710"></a>01710       } <span class="keywordflow">else</span> {
<a name="l01711"></a>01711         $count = count($this-&gt;collAttachments);
<a name="l01712"></a>01712       }
<a name="l01713"></a>01713     }
<a name="l01714"></a>01714     <span class="keywordflow">return</span> $count;
<a name="l01715"></a>01715   }
<a name="l01716"></a>01716 
<a name="l01725"></a><a class="code" href="classBaseArticle.html#abdd8d1615f0e3b6acd9d656277b16494">01725</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#abdd8d1615f0e3b6acd9d656277b16494" title="Method called to associate a Attachment object to this object through the Attachment...">addAttachment</a>(<a class="code" href="classAttachment.html">Attachment</a> $l)
<a name="l01726"></a>01726   {
<a name="l01727"></a>01727     <span class="keywordflow">if</span> ($this-&gt;collAttachments === null) {
<a name="l01728"></a>01728       $this-&gt;<a class="code" href="classBaseArticle.html#a16fcbe3af33c3f772a9a09bb67d88b3c" title="Initializes the collAttachments collection (array).">initAttachments</a>();
<a name="l01729"></a>01729     }
<a name="l01730"></a>01730     <span class="keywordflow">if</span> (!in_array($l, $this-&gt;collAttachments, <span class="keyword">true</span>)) { <span class="comment">// only add it if the **same** object is not already associated</span>
<a name="l01731"></a>01731       array_push($this-&gt;collAttachments, $l);
<a name="l01732"></a>01732       $l-&gt;<a class="code" href="classBaseAttachment.html#aa818d5d2f0e1bcd8b49ab1e27b22acb7" title="Declares an association between this object and a Article object.">setArticle</a>($this);
<a name="l01733"></a>01733     }
<a name="l01734"></a>01734   }
<a name="l01735"></a>01735 
<a name="l01745"></a><a class="code" href="classBaseArticle.html#a21e7250b5fb20ebb3cd780d585f9048d">01745</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#a21e7250b5fb20ebb3cd780d585f9048d" title="Resets all collections of referencing foreign keys.">clearAllReferences</a>($deep = <span class="keyword">false</span>)
<a name="l01746"></a>01746   {
<a name="l01747"></a>01747     <span class="keywordflow">if</span> ($deep) {
<a name="l01748"></a>01748       <span class="keywordflow">if</span> ($this-&gt;collAuthorArticles) {
<a name="l01749"></a>01749         <span class="keywordflow">foreach</span> ((array) $this-&gt;collAuthorArticles as $o) {
<a name="l01750"></a>01750           $o-&gt;clearAllReferences($deep);
<a name="l01751"></a>01751         }
<a name="l01752"></a>01752       }
<a name="l01753"></a>01753       <span class="keywordflow">if</span> ($this-&gt;collAttachments) {
<a name="l01754"></a>01754         <span class="keywordflow">foreach</span> ((array) $this-&gt;collAttachments as $o) {
<a name="l01755"></a>01755           $o-&gt;clearAllReferences($deep);
<a name="l01756"></a>01756         }
<a name="l01757"></a>01757       }
<a name="l01758"></a>01758     } <span class="comment">// if ($deep)</span>
<a name="l01759"></a>01759 
<a name="l01760"></a>01760     $this-&gt;collAuthorArticles = null;
<a name="l01761"></a>01761     $this-&gt;collAttachments = null;
<a name="l01762"></a>01762       $this-&gt;aCategory = null;
<a name="l01763"></a>01763       $this-&gt;aBook = null;
<a name="l01764"></a>01764   }
<a name="l01765"></a>01765 
<a name="l01766"></a>01766   <span class="comment">// symfony_behaviors behavior</span>
<a name="l01767"></a>01767   
<a name="l01771"></a><a class="code" href="classBaseArticle.html#ade4378f344fcd9c4a102983749d42712">01771</a>   <span class="keyword">public</span> function <a class="code" href="classBaseArticle.html#ade4378f344fcd9c4a102983749d42712" title="Calls methods defined via sfMixer.">__call</a>($method, $arguments)
<a name="l01772"></a>01772   {
<a name="l01773"></a>01773     <span class="keywordflow">if</span> (!$callable = sfMixer::getCallable(<span class="stringliteral">&#39;BaseArticle:&#39;</span>.$method))
<a name="l01774"></a>01774     {
<a name="l01775"></a>01775       <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classsfException.html">sfException</a>(sprintf(<span class="stringliteral">&#39;Call to undefined method BaseArticle::%s&#39;</span>, $method));
<a name="l01776"></a>01776     }
<a name="l01777"></a>01777   
<a name="l01778"></a>01778     array_unshift($arguments, $this);
<a name="l01779"></a>01779   
<a name="l01780"></a>01780     <span class="keywordflow">return</span> call_user_func_array($callable, $arguments);
<a name="l01781"></a>01781   }
<a name="l01782"></a>01782 
<a name="l01783"></a>01783 } <span class="comment">// BaseArticle</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
