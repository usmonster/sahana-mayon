<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: TarLib Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TarLib Class Reference</h1><!-- doxytag: class="TarLib" -->
<p>TAR format class - Creates TAR archives.  
<a href="#_details">More...</a></p>

<p><a href="classTarLib-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#a5ca605c8ce91f5e06e575d5cae81ede2">tarlib</a> ($p_filen=TarLib::ARCHIVE_DYNAMIC, $p_comptype=TarLib::COMPRESS_AUTO, $p_complevel=9)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor, initialize the class  <a href="#a5ca605c8ce91f5e06e575d5cae81ede2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#aaabf74e56685c2c84f7fcef09d30c1d8">setArchive</a> ($p_name='', $p_comp=TarLib::COMPRESS_AUTO, $p_level=9)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recycle a TAR object.  <a href="#aaabf74e56685c2c84f7fcef09d30c1d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#ade7f474b00957e8989a2385d0ad94e3b">getCompression</a> ($ext=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the compression used to generate the archive.  <a href="#ade7f474b00957e8989a2385d0ad94e3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#aa21a4cb4d756d7f74ba19e13768be577">setCompression</a> ($p_comp=TarLib::COMPRESS_AUTO)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the compression mode.  <a href="#aa21a4cb4d756d7f74ba19e13768be577"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#a075300bffdc77157a2cfd5b3e2bb78bd">getDynamicArchive</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the compressed dynamic archive.  <a href="#a075300bffdc77157a2cfd5b3e2bb78bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#aee8b54ff5b79ea571aa008fadf83f9f5">writeArchive</a> ($p_archive)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a dynamical archive into a file.  <a href="#aee8b54ff5b79ea571aa008fadf83f9f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#af9aaa9daba856078b74bdbae350f775e">sendClient</a> ($name= '', $archive= '', $headers=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a TAR archive to the client browser.  <a href="#af9aaa9daba856078b74bdbae350f775e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#adaa38e611e2a83242650fd536fd163d9">Extract</a> ($p_what=TarLib::FULL_ARCHIVE, $p_to= '.', $p_remdir='', $p_mode=0755)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract part or totality of the archive.  <a href="#adaa38e611e2a83242650fd536fd163d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#a821d7202b34c1ceac20590a0112aa300">Create</a> ($p_filelist, $p_add='', $p_rem='')</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new package with the given files.  <a href="#a821d7202b34c1ceac20590a0112aa300"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#aa63f3b0eabf46fa4d824d77091d1fcb8">Add</a> ($p_filelist, $p_add= '', $p_rem= '')</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add files to an existing package.  <a href="#aa63f3b0eabf46fa4d824d77091d1fcb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#a0a752ce716ddaf8a3862ff1810cde64e">ListContents</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the contents of a TAR archive.  <a href="#a0a752ce716ddaf8a3862ff1810cde64e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTarLib.html#ac672ea4c5bde7eed98574a2caa037395">TarErrorStr</a> ($i)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a status code into a human readable message.  <a href="#ac672ea4c5bde7eed98574a2caa037395"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5536f2580c29174451dc9eb18c100e1"></a><!-- doxytag: member="TarLib::_seek" ref="ae5536f2580c29174451dc9eb18c100e1" args="($p_flen, $tell=0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_seek</b> ($p_flen, $tell=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafe719d60bf80b52221dc087dfc7be59"></a><!-- doxytag: member="TarLib::_OpenRead" ref="aafe719d60bf80b52221dc087dfc7be59" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_OpenRead</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a708c0adda7c285dd877c860e0a1c7fb1"></a><!-- doxytag: member="TarLib::_OpenWrite" ref="a708c0adda7c285dd877c860e0a1c7fb1" args="($add= 'w')" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_OpenWrite</b> ($add= 'w')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b18cec0592d8a6e1dc1ae8631175d14"></a><!-- doxytag: member="TarLib::_CompTar" ref="a8b18cec0592d8a6e1dc1ae8631175d14" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_CompTar</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf008fac9cf91b291cf0269dce624bfa"></a><!-- doxytag: member="TarLib::_read" ref="acf008fac9cf91b291cf0269dce624bfa" args="($p_len)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_read</b> ($p_len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1d6a10c351c71512790d190ec68f29d"></a><!-- doxytag: member="TarLib::_write" ref="ac1d6a10c351c71512790d190ec68f29d" args="($p_data)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_write</b> ($p_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adffea7f144c1dc449bde587b824c0bdf"></a><!-- doxytag: member="TarLib::_encode" ref="adffea7f144c1dc449bde587b824c0bdf" args="($p_dat)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_encode</b> ($p_dat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a375f16201e4f835f4421713555a7f0"></a><!-- doxytag: member="TarLib::_readHeader" ref="a2a375f16201e4f835f4421713555a7f0" args="($p_dat)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_readHeader</b> ($p_dat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a984fb5a24250aebe2f88eb545d7158"></a><!-- doxytag: member="TarLib::_fetchFilelist" ref="a0a984fb5a24250aebe2f88eb545d7158" args="($p_filelist)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_fetchFilelist</b> ($p_filelist)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f1448ce0241834780cda7bbdbeea590"></a><!-- doxytag: member="TarLib::_addFileList" ref="a9f1448ce0241834780cda7bbdbeea590" args="($p_fl, $p_addir, $p_remdir)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_addFileList</b> ($p_fl, $p_addir, $p_remdir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e1169c312df1416802d3efd03c0048f"></a><!-- doxytag: member="TarLib::_addFile" ref="a5e1169c312df1416802d3efd03c0048f" args="($p_fn, $p_addir= '', $p_remdir= '')" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_addFile</b> ($p_fn, $p_addir= '', $p_remdir= '')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f4aacba8b1d3d7a1a1edd2ec780d185"></a><!-- doxytag: member="TarLib::_writeFileHeader" ref="a1f4aacba8b1d3d7a1a1edd2ec780d185" args="($p_file, $p_sname, $p_data=false)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_writeFileHeader</b> ($p_file, $p_sname, $p_data=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acbe3c5c4720e0f3822068880ef53c393"></a><!-- doxytag: member="TarLib::_append" ref="acbe3c5c4720e0f3822068880ef53c393" args="($p_filelist, $p_addir=&quot;&quot;, $p_remdir=&quot;&quot;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_append</b> ($p_filelist, $p_addir=&quot;&quot;, $p_remdir=&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdefd20270c93ab5f6565950bd31c1fd"></a><!-- doxytag: member="TarLib::_pathTrans" ref="abdefd20270c93ab5f6565950bd31c1fd" args="($p_dir)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_pathTrans</b> ($p_dir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a965dabbd5f640dd79113175a5228837e"></a><!-- doxytag: member="TarLib::_writeFooter" ref="a965dabbd5f640dd79113175a5228837e" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_writeFooter</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb579dcd637e6efea0f652b422faa5e8"></a><!-- doxytag: member="TarLib::_extractList" ref="aeb579dcd637e6efea0f652b422faa5e8" args="($p_to, $p_files, $p_remdir, $p_mode=0755)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_extractList</b> ($p_to, $p_files, $p_remdir, $p_mode=0755)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3119eb3102096af1ee39c12a21921ad7"></a><!-- doxytag: member="TarLib::_dirApp" ref="a3119eb3102096af1ee39c12a21921ad7" args="($d)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_dirApp</b> ($d)</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac52b34d8c603350fe1169589b703cd8c"></a><!-- doxytag: member="TarLib::$_comptype" ref="ac52b34d8c603350fe1169589b703cd8c" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_comptype</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07e3bc0b4697ab9540eb4d4dffc20a23"></a><!-- doxytag: member="TarLib::$_compzlevel" ref="a07e3bc0b4697ab9540eb4d4dffc20a23" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_compzlevel</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc24e35e745da35021d1d6092b71338f"></a><!-- doxytag: member="TarLib::$_fp" ref="abc24e35e745da35021d1d6092b71338f" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_fp</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe7d57bd8dd61e56a55f5dde76e471cd"></a><!-- doxytag: member="TarLib::$_memdat" ref="abe7d57bd8dd61e56a55f5dde76e471cd" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_memdat</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9be37722863a7e5f48acf5d03eda400"></a><!-- doxytag: member="TarLib::$_nomf" ref="aa9be37722863a7e5f48acf5d03eda400" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_nomf</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75bfadea338bd399b3ff44e5957dbd2d"></a><!-- doxytag: member="TarLib::$_result" ref="a75bfadea338bd399b3ff44e5957dbd2d" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_result</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac9d019b53dc73aeda9d2f2f33179f47"></a><!-- doxytag: member="TarLib::$_initerror" ref="aac9d019b53dc73aeda9d2f2f33179f47" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$_initerror</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2be5d7087b2d042bb79c24a1b1b117bc"></a><!-- doxytag: member="TarLib::COMPRESS_GZIP" ref="a2be5d7087b2d042bb79c24a1b1b117bc" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMPRESS_GZIP</b> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6a090b2b2545415676d6ac7025707ac"></a><!-- doxytag: member="TarLib::COMPRESS_BZIP" ref="ae6a090b2b2545415676d6ac7025707ac" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMPRESS_BZIP</b> = 2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c06143c16c19ac7f06f425de895f03d"></a><!-- doxytag: member="TarLib::COMPRESS_AUTO" ref="a5c06143c16c19ac7f06f425de895f03d" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMPRESS_AUTO</b> = 3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9464f3ef4bdc2dadb47d35f95be1557"></a><!-- doxytag: member="TarLib::COMPRESS_NONE" ref="af9464f3ef4bdc2dadb47d35f95be1557" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMPRESS_NONE</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acccd3b3cfdee0acb7da4ee24e787388b"></a><!-- doxytag: member="TarLib::TARLIB_VERSION" ref="acccd3b3cfdee0acb7da4ee24e787388b" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>TARLIB_VERSION</b> = '1.2'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabcac00e7f3db9f4e9071df93ebddb6d"></a><!-- doxytag: member="TarLib::FULL_ARCHIVE" ref="aabcac00e7f3db9f4e9071df93ebddb6d" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>FULL_ARCHIVE</b> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27b1fd746e412de6a4766f7ee06d5c8f"></a><!-- doxytag: member="TarLib::ARCHIVE_DYNAMIC" ref="a27b1fd746e412de6a4766f7ee06d5c8f" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>ARCHIVE_DYNAMIC</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb2aa330abf68dda6c0389c68a096015"></a><!-- doxytag: member="TarLib::ARCHIVE_RENAMECOMP" ref="aeb2aa330abf68dda6c0389c68a096015" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>ARCHIVE_RENAMECOMP</b> = 5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae523a43721ce4ae76f65b8bd1c8b96b1"></a><!-- doxytag: member="TarLib::COMPRESS_DETECT" ref="ae523a43721ce4ae76f65b8bd1c8b96b1" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>COMPRESS_DETECT</b> = -1</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>TAR format class - Creates TAR archives. </p>
<p>This class is part or the MaxgComp suite and originally named MaxgTar class.</p>
<p>Modified for Dokuwiki</p>
<p>LGPL-2.1 <a class="el" href="">Bouchon &lt;<a href="mailto:tarlib@bouchon.org">tarlib@bouchon.org</a>&gt; (Maxg)  Christopher Smith &lt;<a href="mailto:chris@jalakai.co.uk">chris@jalakai.co.uk</a>&gt; Those constants represent the compression method to use. COMPRESS_GZIP is used for the GZIP compression; COMPRESS_BZIP for BZIP2 and COMPRESS_NONE for no compression.  On the other hand, COMPRESS_AUTO is a bit harder. It will first check if the zlib extensions are loaded. If it is, GZIP will be used. Else it will check if the bz2 extensions are loaded. If it is, BZIP2 will be used. Else no compression will be performed.  You can then use getCompression() to know the compression chosen.  If you selected a compression which can't be used (i.e extension not present), it will be just disabled, and won't produce any error ! As a consequence, getCompression() will return COMPRESS_NONE  ARCHIVE_DYNAMIC can be passed as the first argument of the constructor, to create an archive in memory instead of a file. See also: MaxgTar(), getDynamicArchive() and writeArchive()  ARCHIVE_RENAMECOMP is a flag that can be multiplied by the compression method (i.e COMPRESS_AUTO * ARCHIVE_RENAMECOMP). This will add the correct extension to the archive name, which is useful with COMPRESS_AUTO, ie .bz2 if you gave COMPRESS_BZIP. See also getCompression(TRUE) which does exactly the same  COMPRESS_DETECT does exactly the opposite and try to detect the compression to use to read the archive depending on its extension. (i.e if the archive ends with .tar.gz TarLib will try to decompress it with GZIP). See also setCompression()  FULL_ARCHIVE is a -1 constant that means "the complete archive" when extracting. This is explained in Extract() </a></p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00062">62</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa63f3b0eabf46fa4d824d77091d1fcb8"></a><!-- doxytag: member="TarLib::Add" ref="aa63f3b0eabf46fa4d824d77091d1fcb8" args="($p_filelist, $p_add= '', $p_rem= '')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::Add </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_filelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_add</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_rem</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add files to an existing package. </p>
<p>This function does exactly the same than <a class="el" href="classTarLib.html#a821d7202b34c1ceac20590a0112aa300" title="Create a new package with the given files.">Create()</a> exept it will append the given files at the end of the archive. Please not the is safe to call <a class="el" href="classTarLib.html#aa63f3b0eabf46fa4d824d77091d1fcb8" title="Add files to an existing package.">Add()</a> on a newly created archive whereas the contrary will fail !</p>
<p>This function returns a status code, you can use <a class="el" href="classTarLib.html#ac672ea4c5bde7eed98574a2caa037395" title="Convert a status code into a human readable message.">TarErrorStr()</a> on it to get the human-readable description of the error. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00387">387</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a821d7202b34c1ceac20590a0112aa300"></a><!-- doxytag: member="TarLib::Create" ref="a821d7202b34c1ceac20590a0112aa300" args="($p_filelist, $p_add='', $p_rem='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::Create </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_filelist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_add</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_rem</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new package with the given files. </p>
<p>This function will attempt to create a new archive with global headers then add the given files into. If the archive is a real file, the contents are written directly into the file, if it is a dynamic archive contents are only stored in memory. This function should not be used to add files to an existing archive, you should use <a class="el" href="classTarLib.html#aa63f3b0eabf46fa4d824d77091d1fcb8" title="Add files to an existing package.">Add()</a> instead.</p>
<p>The <a class="el" href="classFileList.html">FileList</a> actually supports three different modes :</p>
<ul>
<li>You can pass a string containing filenames separated by pipes '|'. In this case the file are read from the webserver filesystem and the root folder is the folder where the script using the MaxgTar is called.</li>
</ul>
<ul>
<li>You can also give a unidimensional indexed array containing the filenames. The behaviour for the content reading is the same that a '|'ed string.</li>
</ul>
<ul>
<li>The more useful usage is to pass bidimensional arrays, where the first element contains the filename and the second contains the file contents. You can even add empty folders to the package if the filename has a leading '/'. Once again, have a look at the exemples to understand better.</li>
</ul>
<p>Note you can also give arrays with both dynamic contents and static files.</p>
<p>The optional parameter RemovePath can be used to delete a part of the tree of the filename you're adding, for instance if you're adding in the root of a package a file that is stored somewhere in the server tree.</p>
<p>On the contrary the parameter AddPath can be used to add a prefix folder to the file you store. Note also that the RemovePath is applied before the AddPath is added, so it HAS a sense to use both parameters together. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00360">360</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="adaa38e611e2a83242650fd536fd163d9"></a><!-- doxytag: member="TarLib::Extract" ref="adaa38e611e2a83242650fd536fd163d9" args="($p_what=TarLib::FULL_ARCHIVE, $p_to= '.', $p_remdir='', $p_mode=0755)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::Extract </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_what</em> = <code>TarLib::FULL_ARCHIVE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_to</em> = <code>'.'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_remdir</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_mode</em> = <code>0755</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extract part or totality of the archive. </p>
<p>This function can extract files from an archive, and returns then a status codes that can be converted with <a class="el" href="classTarLib.html#ac672ea4c5bde7eed98574a2caa037395" title="Convert a status code into a human readable message.">TarErrorStr()</a> into a human readable message.</p>
<p>Only the first argument is required, What and it can be either the constant FULL_ARCHIVE or an indexed array containing each file you want to extract.</p>
<p>To contains the target folder to extract the archive. It is optional and the default value is '.' which means the current folder. If the target folder doesn't exist, the script attempts to create it and give it permissions 0777 by default.</p>
<p>RemovePath is very usefull when you want to extract files from a subfoler in the archive to a root folder. For instance, if you have a file in the archive called some/sub/folder/test.txt and you want to extract it to the script folder, you can call Extract with To = '.' and RemovePath = 'some/sub/folder/'</p>
<p>FileMode is optional and its default value is 0755. It is in fact the UNIX permission in octal mode (prefixed with a 0) that will be given on each extracted file. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00314">314</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ade7f474b00957e8989a2385d0ad94e3b"></a><!-- doxytag: member="TarLib::getCompression" ref="ade7f474b00957e8989a2385d0ad94e3b" args="($ext=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::getCompression </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ext</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the compression used to generate the archive. </p>
<p>This is a very useful function when you're using dynamical archives. Besides, if you let the script chose which compression to use, you'll have a problem when you'll want to send it to the client if you don't know which compression was used.</p>
<p>There are two ways to call this function : if you call it without argument or with FALSE, it will return the compression constants, explained on the MaxgTar Constants. If you call it with GetExtension on TRUE it will return the extension without starting dot (ie "tar" or "tar.bz2" or "tar.gz")</p>
<p>NOTE: This can be done with the flag ARCHIVE_RENAMECOMP, see the MaxgTar Constants </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00188">188</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a075300bffdc77157a2cfd5b3e2bb78bd"></a><!-- doxytag: member="TarLib::getDynamicArchive" ref="a075300bffdc77157a2cfd5b3e2bb78bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::getDynamicArchive </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the compressed dynamic archive. </p>
<p>When you're working with dynamic archives, use this function to grab the final compressed archive in a string ready to be put in a SQL table or in a file. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00213">213</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0a752ce716ddaf8a3862ff1810cde64e"></a><!-- doxytag: member="TarLib::ListContents" ref="a0a752ce716ddaf8a3862ff1810cde64e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::ListContents </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the contents of a TAR archive. </p>
<p>This function attempts to get the list of the files stored in the archive, and return either an error code or an indexed array of associative array containing for each file the following information :</p>
<p>checksum Tar Checksum of the file filename The full name of the stored file (up to 100 c.) mode UNIX permissions in DECIMAL, not octal uid The Owner ID gid The <a class="el" href="classGroup.html" title="This class has been auto-generated by the Doctrine ORM Framework.">Group</a> ID size Uncompressed filesize mtime Timestamp of last modification typeflag Empty for files, set for folders link For the links, did you guess it ? uname Owner name gname <a class="el" href="classGroup.html" title="This class has been auto-generated by the Doctrine ORM Framework.">Group</a> name </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00416">416</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="af9aaa9daba856078b74bdbae350f775e"></a><!-- doxytag: member="TarLib::sendClient" ref="af9aaa9daba856078b74bdbae350f775e" args="($name= '', $archive= '', $headers=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::sendClient </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>archive</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>headers</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a TAR archive to the client browser. </p>
<p>This function will send an archive to the client, and return a status code, but can behave differently depending on the arguments you give. All arguments are optional.</p>
<p>ClientName is used to specify the archive name to give to the browser. If you don't give one, it will send the constructor filename or return an error code in case of dynamical archive.</p>
<p>FileName is optional and used to send a specific archive. Leave it blank to send dynamical archives or the current working archive.</p>
<p>If SendHeaders is enabled (by default), the library will send the HTTP headers itself before it sends the contents. This headers are : Content-Type, Content-Disposition, Content-Length and Accept-Range.</p>
<p>Please note that this function DOES NOT stops the script so don't forget to exit() to avoid your script sending other data and corrupt the archive. Another note : for AUTO_DETECT dynamical archives you can know the extension to add to the name with <a class="el" href="classTarLib.html#ade7f474b00957e8989a2385d0ad94e3b" title="Get the compression used to generate the archive.">getCompression()</a> </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00261">261</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="aaabf74e56685c2c84f7fcef09d30c1d8"></a><!-- doxytag: member="TarLib::setArchive" ref="aaabf74e56685c2c84f7fcef09d30c1d8" args="($p_name='', $p_comp=TarLib::COMPRESS_AUTO, $p_level=9)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::setArchive </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_name</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_comp</em> = <code>TarLib::COMPRESS_AUTO</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_level</em> = <code>9</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recycle a TAR object. </p>
<p>This function does exactly the same as <a class="el" href="classTarLib.html" title="TAR format class - Creates TAR archives.">TarLib</a> (constructor), except it returns a status code. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00165">165</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa21a4cb4d756d7f74ba19e13768be577"></a><!-- doxytag: member="TarLib::setCompression" ref="aa21a4cb4d756d7f74ba19e13768be577" args="($p_comp=TarLib::COMPRESS_AUTO)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::setCompression </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_comp</em> = <code>TarLib::COMPRESS_AUTO</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the compression mode. </p>
<p>This function will change the compression methode to read or write the archive. See the MaxgTar Constants to see which constants you can use. It may look strange, but it returns the GZIP compression level. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00201">201</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac672ea4c5bde7eed98574a2caa037395"></a><!-- doxytag: member="TarLib::TarErrorStr" ref="ac672ea4c5bde7eed98574a2caa037395" args="($i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::TarErrorStr </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a status code into a human readable message. </p>
<p>Some MaxgTar functions like <a class="el" href="classTarLib.html#a821d7202b34c1ceac20590a0112aa300" title="Create a new package with the given files.">Create()</a>, <a class="el" href="classTarLib.html#aa63f3b0eabf46fa4d824d77091d1fcb8" title="Add files to an existing package.">Add()</a> ... return numerical status code. You can pass them to this function to grab their english equivalent. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00440">440</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5ca605c8ce91f5e06e575d5cae81ede2"></a><!-- doxytag: member="TarLib::tarlib" ref="a5ca605c8ce91f5e06e575d5cae81ede2" args="($p_filen=TarLib::ARCHIVE_DYNAMIC, $p_comptype=TarLib::COMPRESS_AUTO, $p_complevel=9)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::tarlib </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_filen</em> = <code>TarLib::ARCHIVE_DYNAMIC</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_comptype</em> = <code>TarLib::COMPRESS_AUTO</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_complevel</em> = <code>9</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor, initialize the class </p>
<p>The constructor initialize the variables and prepare the class for the archive, and return the object created. Note that you can use multiple instances of the MaxgTar class, if you call this function another time and store the object in an other variable.</p>
<p>In fact, MaxgTar accepts the following arguments (all are optional) :</p>
<p>filename can be either a file name (absolute or relative). In this case, it can be used both for reading and writing. You can also open remote archive if you add a protocole name at the beginning of the file (ie <a href="https://host.dom/archive.tar.gz">https://host.dom/archive.tar.gz</a>), but for reading only and if the directive allow_url_fopen is enabled in PHP.INI (this can be checked with TarInfo()). If you pass a file that doesn't exist, the script will try to create it. If the archive already exists and contains files, you can use <a class="el" href="classTarLib.html#aa63f3b0eabf46fa4d824d77091d1fcb8" title="Add files to an existing package.">Add()</a> to append files.But by default this parameter is ARCHIVE_DYNAMIC (write only) so the archive is created in memory and can be sent to a file [<a class="el" href="classTarLib.html#aee8b54ff5b79ea571aa008fadf83f9f5" title="Write a dynamical archive into a file.">writeArchive()</a>] or to the client [<a class="el" href="classTarLib.html#af9aaa9daba856078b74bdbae350f775e" title="Send a TAR archive to the client browser.">sendClient()</a>]</p>
<p>compression_type should be a constant that represents a type of compression, or its integer value. The different values are described in the constants.</p>
<p>compression_level is an integer between 1 and 9 (by default) an represent the GZIP or BZIP compression level. 1 produce fast compression, and 9 produce smaller files. See the RFC 1952 for more infos. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00111">111</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="aee8b54ff5b79ea571aa008fadf83f9f5"></a><!-- doxytag: member="TarLib::writeArchive" ref="aee8b54ff5b79ea571aa008fadf83f9f5" args="($p_archive)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TarLib::writeArchive </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p_archive</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a dynamical archive into a file. </p>
<p>This function attempts to write a dynamicaly-genrated archive into TargetFile on the webserver. It returns a <a class="el" href="classTarLib.html#ac672ea4c5bde7eed98574a2caa037395" title="Convert a status code into a human readable message.">TarErrorStr()</a> status code.</p>
<p>To know the extension to add to the file if you're using AUTO_DETECT compression, you can use <a class="el" href="classTarLib.html#ade7f474b00957e8989a2385d0ad94e3b" title="Get the compression used to generate the archive.">getCompression()</a>. </p>

<p>Definition at line <a class="el" href="TarLib_8class_8php_source.html#l00227">227</a> of file <a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>web/wiki/inc/<a class="el" href="TarLib_8class_8php_source.html">TarLib.class.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
