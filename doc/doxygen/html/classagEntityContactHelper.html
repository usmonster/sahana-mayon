<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: agEntityContactHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>agEntityContactHelper Class Reference</h1><!-- doxytag: class="agEntityContactHelper" --><!-- doxytag: inherits="agBulkRecordHelper" -->
<p>Extends the bulk record helper to provide contact-specific features.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for agEntityContactHelper:</div>
<div class="dynsection">
 <div class="center">
  <img src="classagEntityContactHelper.png" usemap="#agEntityContactHelper_map" alt=""/>
  <map id="agEntityContactHelper_map" name="agEntityContactHelper_map">
<area href="classagBulkRecordHelper.html" alt="agBulkRecordHelper" shape="rect" coords="152,0,294,24"/>
<area href="classagEntityAddressHelper.html" alt="agEntityAddressHelper" shape="rect" coords="0,112,142,136"/>
<area href="classagEntityEmailHelper.html" alt="agEntityEmailHelper" shape="rect" coords="152,112,294,136"/>
<area href="classagEntityPhoneHelper.html" alt="agEntityPhoneHelper" shape="rect" coords="304,112,446,136"/>
</map>
 </div>
</div>

<p><a href="classagEntityContactHelper-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagEntityContactHelper.html#a8785c28033ffcc199fab3fb5cb84be8a">setEntityContactById</a> (array $entityContacts, $keepHistory=NULL, $throwOnError=NULL, <a class="el" href="classDoctrine__Connection.html">Doctrine_Connection</a> $conn=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to set entity contact data using contact id 's instead of values.  <a href="#a8785c28033ffcc199fab3fb5cb84be8a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagEntityContactHelper.html#acafa8f87c811d4eaa347c195ff5bbdff">reprioritizeContacts</a> (array $entityContacts, array $currContacts)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to execute the reprioritization of contact info.  <a href="#acafa8f87c811d4eaa347c195ff5bbdff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagEntityContactHelper.html#a71610d4b67208a1711dbbe6d2f7ef6c1">_getContactTableMetadata</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the _contactTableMetadata array from the <a class="el" href="classagEntityContactHelper.html" title="Extends the bulk record helper to provide contact-specific features.">agEntityContactHelper</a> child class.  <a href="#a71610d4b67208a1711dbbe6d2f7ef6c1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Extends the bulk record helper to provide contact-specific features. </p>
<p>PHP Version 5.3</p>
<p>LICENSE: This source file is subject to LGPLv2.1 license that is available through the world-wide-web at the following URI: <a href="http://www.gnu.org/licenses/lgpl-2.1.html">http://www.gnu.org/licenses/lgpl-2.1.html</a></p>
<dl class="author"><dt><b>Author:</b></dt><dd>Chad Heuschober, CUNY SPS</dd></dl>
<p>Copyright of the Sahana Software Foundation, sahanafoundation.org </p>

<p>Definition at line <a class="el" href="agEntityContactHelper_8class_8php_source.html#l00016">16</a> of file <a class="el" href="agEntityContactHelper_8class_8php_source.html">agEntityContactHelper.class.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a71610d4b67208a1711dbbe6d2f7ef6c1"></a><!-- doxytag: member="agEntityContactHelper::_getContactTableMetadata" ref="a71610d4b67208a1711dbbe6d2f7ef6c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agEntityContactHelper::_getContactTableMetadata </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the _contactTableMetadata array from the <a class="el" href="classagEntityContactHelper.html" title="Extends the bulk record helper to provide contact-specific features.">agEntityContactHelper</a> child class. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array The $_contactTableMetadata array of the child class. </dd></dl>

<p>Definition at line <a class="el" href="agEntityContactHelper_8class_8php_source.html#l00205">205</a> of file <a class="el" href="agEntityContactHelper_8class_8php_source.html">agEntityContactHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="acafa8f87c811d4eaa347c195ff5bbdff"></a><!-- doxytag: member="agEntityContactHelper::reprioritizeContacts" ref="acafa8f87c811d4eaa347c195ff5bbdff" args="(array $entityContacts, array $currContacts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agEntityContactHelper::reprioritizeContacts </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>entityContacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>currContacts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to execute the reprioritization of contact info. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$entityContacts The array of new entity contacts to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$currContacts The array of current contacts as found in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A reprioritized $entityContacts with additions from $currContacts as appropriate. </dd></dl>

<p>Definition at line <a class="el" href="agEntityContactHelper_8class_8php_source.html#l00026">26</a> of file <a class="el" href="agEntityContactHelper_8class_8php_source.html">agEntityContactHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8785c28033ffcc199fab3fb5cb84be8a"></a><!-- doxytag: member="agEntityContactHelper::setEntityContactById" ref="a8785c28033ffcc199fab3fb5cb84be8a" args="(array $entityContacts, $keepHistory=NULL, $throwOnError=NULL, Doctrine_Connection $conn=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agEntityContactHelper::setEntityContactById </td>
          <td>(</td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>entityContacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keepHistory</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>throwOnError</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoctrine__Connection.html">Doctrine_Connection</a> $&nbsp;</td>
          <td class="paramname"> <em>conn</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to set entity contact data using contact id 's instead of values. </p>
<p>Depends on the $_contactTableMetadata property of its child class.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$entityContacts A multidimensional array of address contact information that mimics the output of getEntityAddress($entityIds, FALSE, FALSE). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$keepHistory An optional boolean value to determine whether old entity contacts (eg, those stored in the database but not explicitly passed as parameters), will be retained and reprioritized to the end of the list, or removed altogether. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$throwOnError A boolean to determine whether or not errors will trigger an exception or be silently ignored (rendering an address 'optional'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDoctrine__Connection.html">Doctrine_Connection</a></em>&nbsp;</td><td>$conn A doctrine connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer The number of operations performed. </dd></dl>

<p>Definition at line <a class="el" href="agEntityContactHelper_8class_8php_source.html#l00091">91</a> of file <a class="el" href="agEntityContactHelper_8class_8php_source.html">agEntityContactHelper.class.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>apps/frontend/lib/util/<a class="el" href="agEntityContactHelper_8class_8php_source.html">agEntityContactHelper.class.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
