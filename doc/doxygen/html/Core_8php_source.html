<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: lib/vendor/symfony/lib/plugins/sfDoctrinePlugin/lib/vendor/doctrine/Doctrine/Core.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>lib/vendor/symfony/lib/plugins/sfDoctrinePlugin/lib/vendor/doctrine/Doctrine/Core.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment"> *  $Id: Doctrine.php 6483 2009-10-12 17:29:18Z jwage $</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00006"></a>00006 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00007"></a>00007 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00008"></a>00008 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00009"></a>00009 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00010"></a>00010 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00011"></a>00011 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00012"></a>00012 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00013"></a>00013 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00014"></a>00014 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00015"></a>00015 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * This software consists of voluntary contributions made by many individuals</span>
<a name="l00018"></a>00018 <span class="comment"> * and is licensed under the LGPL. For more information, see</span>
<a name="l00019"></a>00019 <span class="comment"> * &lt;http://www.doctrine-project.org&gt;.</span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 
<a name="l00033"></a><a class="code" href="classDoctrine__Core.html">00033</a> <span class="keyword">class </span><a class="code" href="classDoctrine__Core.html">Doctrine_Core</a>
<a name="l00034"></a>00034 {
<a name="l00038"></a><a class="code" href="classDoctrine__Core.html#a153520995a9e4843c222d39be7044356">00038</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a153520995a9e4843c222d39be7044356" title="VERSION.">VERSION</a>                   = <span class="stringliteral">&#39;1.2.4&#39;</span>;
<a name="l00039"></a>00039 
<a name="l00043"></a><a class="code" href="classDoctrine__Core.html#a8950f7249d9b0cd40bbfface9dabb2e9">00043</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a8950f7249d9b0cd40bbfface9dabb2e9" title="ERROR CONSTANTS.">ERR</a>                       = -1;
<a name="l00044"></a>00044     <span class="keyword">const</span> ERR_SYNTAX                = -2;
<a name="l00045"></a>00045     <span class="keyword">const</span> ERR_CONSTRAINT            = -3;
<a name="l00046"></a>00046     <span class="keyword">const</span> ERR_NOT_FOUND             = -4;
<a name="l00047"></a>00047     <span class="keyword">const</span> ERR_ALREADY_EXISTS        = -5;
<a name="l00048"></a>00048     <span class="keyword">const</span> ERR_UNSUPPORTED           = -6;
<a name="l00049"></a>00049     <span class="keyword">const</span> ERR_MISMATCH              = -7;
<a name="l00050"></a>00050     <span class="keyword">const</span> ERR_INVALID               = -8;
<a name="l00051"></a>00051     <span class="keyword">const</span> ERR_NOT_CAPABLE           = -9;
<a name="l00052"></a>00052     <span class="keyword">const</span> ERR_TRUNCATED             = -10;
<a name="l00053"></a>00053     <span class="keyword">const</span> ERR_INVALID_NUMBER        = -11;
<a name="l00054"></a>00054     <span class="keyword">const</span> ERR_INVALID_DATE          = -12;
<a name="l00055"></a>00055     <span class="keyword">const</span> ERR_DIVZERO               = -13;
<a name="l00056"></a>00056     <span class="keyword">const</span> ERR_NODBSELECTED          = -14;
<a name="l00057"></a>00057     <span class="keyword">const</span> ERR_CANNOT_CREATE         = -15;
<a name="l00058"></a>00058     <span class="keyword">const</span> ERR_CANNOT_DELETE         = -16;
<a name="l00059"></a>00059     <span class="keyword">const</span> ERR_CANNOT_DROP           = -17;
<a name="l00060"></a>00060     <span class="keyword">const</span> ERR_NOSUCHTABLE           = -18;
<a name="l00061"></a>00061     <span class="keyword">const</span> ERR_NOSUCHFIELD           = -19;
<a name="l00062"></a>00062     <span class="keyword">const</span> ERR_NEED_MORE_DATA        = -20;
<a name="l00063"></a>00063     <span class="keyword">const</span> ERR_NOT_LOCKED            = -21;
<a name="l00064"></a>00064     <span class="keyword">const</span> ERR_VALUE_COUNT_ON_ROW    = -22;
<a name="l00065"></a>00065     <span class="keyword">const</span> ERR_INVALID_DSN           = -23;
<a name="l00066"></a>00066     <span class="keyword">const</span> ERR_CONNECT_FAILED        = -24;
<a name="l00067"></a>00067     <span class="keyword">const</span> ERR_EXTENSION_NOT_FOUND   = -25;
<a name="l00068"></a>00068     <span class="keyword">const</span> ERR_NOSUCHDB              = -26;
<a name="l00069"></a>00069     <span class="keyword">const</span> ERR_ACCESS_VIOLATION      = -27;
<a name="l00070"></a>00070     <span class="keyword">const</span> ERR_CANNOT_REPLACE        = -28;
<a name="l00071"></a>00071     <span class="keyword">const</span> ERR_CONSTRAINT_NOT_NULL   = -29;
<a name="l00072"></a>00072     <span class="keyword">const</span> ERR_DEADLOCK              = -30;
<a name="l00073"></a>00073     <span class="keyword">const</span> ERR_CANNOT_ALTER          = -31;
<a name="l00074"></a>00074     <span class="keyword">const</span> ERR_MANAGER               = -32;
<a name="l00075"></a>00075     <span class="keyword">const</span> ERR_MANAGER_PARSE         = -33;
<a name="l00076"></a>00076     <span class="keyword">const</span> ERR_LOADMODULE            = -34;
<a name="l00077"></a>00077     <span class="keyword">const</span> ERR_INSUFFICIENT_DATA     = -35;
<a name="l00078"></a>00078     <span class="keyword">const</span> ERR_CLASS_NAME            = -36;
<a name="l00079"></a>00079 
<a name="l00083"></a><a class="code" href="classDoctrine__Core.html#a0e406c2232a9317e5a62f5cc053c02d0">00083</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a0e406c2232a9317e5a62f5cc053c02d0" title="PDO derived constants.">CASE_LOWER</a> = 2;
<a name="l00084"></a>00084     <span class="keyword">const</span> CASE_NATURAL = 0;
<a name="l00085"></a>00085     <span class="keyword">const</span> CASE_UPPER = 1;
<a name="l00086"></a>00086     <span class="keyword">const</span> CURSOR_FWDONLY = 0;
<a name="l00087"></a>00087     <span class="keyword">const</span> CURSOR_SCROLL = 1;
<a name="l00088"></a>00088     <span class="keyword">const</span> ERRMODE_EXCEPTION = 2;
<a name="l00089"></a>00089     <span class="keyword">const</span> ERRMODE_SILENT = 0;
<a name="l00090"></a>00090     <span class="keyword">const</span> ERRMODE_WARNING = 1;
<a name="l00091"></a>00091     <span class="keyword">const</span> FETCH_ASSOC = 2;
<a name="l00092"></a>00092     <span class="keyword">const</span> FETCH_BOTH = 4;
<a name="l00093"></a>00093     <span class="keyword">const</span> FETCH_BOUND = 6;
<a name="l00094"></a>00094     <span class="keyword">const</span> FETCH_CLASS = 8;
<a name="l00095"></a>00095     <span class="keyword">const</span> FETCH_CLASSTYPE = 262144;
<a name="l00096"></a>00096     <span class="keyword">const</span> FETCH_COLUMN = 7;
<a name="l00097"></a>00097     <span class="keyword">const</span> FETCH_FUNC = 10;
<a name="l00098"></a>00098     <span class="keyword">const</span> FETCH_GROUP = 65536;
<a name="l00099"></a>00099     <span class="keyword">const</span> FETCH_INTO = 9;
<a name="l00100"></a>00100     <span class="keyword">const</span> FETCH_LAZY = 1;
<a name="l00101"></a>00101     <span class="keyword">const</span> FETCH_NAMED = 11;
<a name="l00102"></a>00102     <span class="keyword">const</span> FETCH_NUM = 3;
<a name="l00103"></a>00103     <span class="keyword">const</span> FETCH_OBJ = 5;
<a name="l00104"></a>00104     <span class="keyword">const</span> FETCH_ORI_ABS = 4;
<a name="l00105"></a>00105     <span class="keyword">const</span> FETCH_ORI_FIRST = 2;
<a name="l00106"></a>00106     <span class="keyword">const</span> FETCH_ORI_LAST = 3;
<a name="l00107"></a>00107     <span class="keyword">const</span> FETCH_ORI_NEXT = 0;
<a name="l00108"></a>00108     <span class="keyword">const</span> FETCH_ORI_PRIOR = 1;
<a name="l00109"></a>00109     <span class="keyword">const</span> FETCH_ORI_REL = 5;
<a name="l00110"></a>00110     <span class="keyword">const</span> FETCH_SERIALIZE = 524288;
<a name="l00111"></a>00111     <span class="keyword">const</span> FETCH_UNIQUE = 196608;
<a name="l00112"></a>00112     <span class="keyword">const</span> NULL_EMPTY_STRING = 1;
<a name="l00113"></a>00113     <span class="keyword">const</span> NULL_NATURAL = 0;
<a name="l00114"></a>00114     <span class="keyword">const</span> NULL_TO_STRING         = NULL;
<a name="l00115"></a>00115     <span class="keyword">const</span> PARAM_BOOL = 5;
<a name="l00116"></a>00116     <span class="keyword">const</span> PARAM_INPUT_OUTPUT = -2147483648;
<a name="l00117"></a>00117     <span class="keyword">const</span> PARAM_INT = 1;
<a name="l00118"></a>00118     <span class="keyword">const</span> PARAM_LOB = 3;
<a name="l00119"></a>00119     <span class="keyword">const</span> PARAM_NULL = 0;
<a name="l00120"></a>00120     <span class="keyword">const</span> PARAM_STMT = 4;
<a name="l00121"></a>00121     <span class="keyword">const</span> PARAM_STR = 2;
<a name="l00122"></a>00122 
<a name="l00130"></a><a class="code" href="classDoctrine__Core.html#a91839462e9d627a6b20ed0629a98b77d">00130</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a91839462e9d627a6b20ed0629a98b77d" title="ATTRIBUTE CONSTANTS.">ATTR_AUTOCOMMIT</a>           = 0;
<a name="l00131"></a>00131     <span class="keyword">const</span> ATTR_PREFETCH             = 1;
<a name="l00132"></a>00132     <span class="keyword">const</span> ATTR_TIMEOUT              = 2;
<a name="l00133"></a>00133     <span class="keyword">const</span> ATTR_ERRMODE              = 3;
<a name="l00134"></a>00134     <span class="keyword">const</span> ATTR_SERVER_VERSION       = 4;
<a name="l00135"></a>00135     <span class="keyword">const</span> ATTR_CLIENT_VERSION       = 5;
<a name="l00136"></a>00136     <span class="keyword">const</span> ATTR_SERVER_INFO          = 6;
<a name="l00137"></a>00137     <span class="keyword">const</span> ATTR_CONNECTION_STATUS    = 7;
<a name="l00138"></a>00138     <span class="keyword">const</span> ATTR_CASE                 = 8;
<a name="l00139"></a>00139     <span class="keyword">const</span> ATTR_CURSOR_NAME          = 9;
<a name="l00140"></a>00140     <span class="keyword">const</span> ATTR_CURSOR               = 10;
<a name="l00141"></a>00141     <span class="keyword">const</span> ATTR_ORACLE_NULLS         = 11;
<a name="l00142"></a>00142     <span class="keyword">const</span> ATTR_PERSISTENT           = 12;
<a name="l00143"></a>00143     <span class="keyword">const</span> ATTR_STATEMENT_CLASS      = 13;
<a name="l00144"></a>00144     <span class="keyword">const</span> ATTR_FETCH_TABLE_NAMES    = 14;
<a name="l00145"></a>00145     <span class="keyword">const</span> ATTR_FETCH_CATALOG_NAMES  = 15;
<a name="l00146"></a>00146     <span class="keyword">const</span> ATTR_DRIVER_NAME          = 16;
<a name="l00147"></a>00147     <span class="keyword">const</span> ATTR_STRINGIFY_FETCHES    = 17;
<a name="l00148"></a>00148     <span class="keyword">const</span> ATTR_MAX_COLUMN_LEN       = 18;
<a name="l00149"></a>00149 
<a name="l00153"></a><a class="code" href="classDoctrine__Core.html#af076ea5fe2ded8b564f8baf70826210a">00153</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#af076ea5fe2ded8b564f8baf70826210a" title="Doctrine constants.">ATTR_LISTENER</a>             = 100;
<a name="l00154"></a>00154     <span class="keyword">const</span> ATTR_QUOTE_IDENTIFIER     = 101;
<a name="l00155"></a>00155     <span class="keyword">const</span> ATTR_FIELD_CASE           = 102;
<a name="l00156"></a>00156     <span class="keyword">const</span> ATTR_IDXNAME_FORMAT       = 103;
<a name="l00157"></a>00157     <span class="keyword">const</span> ATTR_SEQNAME_FORMAT       = 104;
<a name="l00158"></a>00158     <span class="keyword">const</span> ATTR_SEQCOL_NAME          = 105;
<a name="l00159"></a>00159     <span class="keyword">const</span> ATTR_CMPNAME_FORMAT       = 118;
<a name="l00160"></a>00160     <span class="keyword">const</span> ATTR_DBNAME_FORMAT        = 117;
<a name="l00161"></a>00161     <span class="keyword">const</span> ATTR_TBLCLASS_FORMAT      = 119;
<a name="l00162"></a>00162     <span class="keyword">const</span> ATTR_TBLNAME_FORMAT       = 120;
<a name="l00163"></a>00163     <span class="keyword">const</span> ATTR_FKNAME_FORMAT        = 171;
<a name="l00164"></a>00164     <span class="keyword">const</span> ATTR_EXPORT               = 140;
<a name="l00165"></a>00165     <span class="keyword">const</span> ATTR_DECIMAL_PLACES       = 141;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167     <span class="keyword">const</span> ATTR_PORTABILITY          = 106;
<a name="l00168"></a>00168     <span class="keyword">const</span> ATTR_VALIDATE             = 107;
<a name="l00169"></a>00169     <span class="keyword">const</span> ATTR_COLL_KEY             = 108;
<a name="l00170"></a>00170     <span class="keyword">const</span> ATTR_QUERY_LIMIT          = 109;
<a name="l00171"></a>00171     <span class="keyword">const</span> ATTR_DEFAULT_TABLE_TYPE   = 112;
<a name="l00172"></a>00172     <span class="keyword">const</span> ATTR_DEF_TEXT_LENGTH      = 113;
<a name="l00173"></a>00173     <span class="keyword">const</span> ATTR_DEF_VARCHAR_LENGTH   = 114;
<a name="l00174"></a>00174     <span class="keyword">const</span> ATTR_DEF_TABLESPACE       = 115;
<a name="l00175"></a>00175     <span class="keyword">const</span> ATTR_EMULATE_DATABASE     = 116;
<a name="l00176"></a>00176     <span class="keyword">const</span> ATTR_USE_NATIVE_ENUM      = 117;
<a name="l00177"></a>00177     <span class="keyword">const</span> ATTR_DEFAULT_SEQUENCE     = 133;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     <span class="keyword">const</span> ATTR_FETCHMODE                    = 118;
<a name="l00180"></a>00180     <span class="keyword">const</span> ATTR_NAME_PREFIX                  = 121;
<a name="l00181"></a>00181     <span class="keyword">const</span> ATTR_CREATE_TABLES                = 122;
<a name="l00182"></a>00182     <span class="keyword">const</span> ATTR_COLL_LIMIT                   = 123;
<a name="l00183"></a>00183                                         
<a name="l00184"></a>00184     <span class="keyword">const</span> ATTR_CACHE                        = 150;
<a name="l00185"></a>00185     <span class="keyword">const</span> ATTR_RESULT_CACHE                 = 150;
<a name="l00186"></a>00186     <span class="keyword">const</span> ATTR_CACHE_LIFESPAN               = 151;
<a name="l00187"></a>00187     <span class="keyword">const</span> ATTR_RESULT_CACHE_LIFESPAN        = 151;
<a name="l00188"></a>00188     <span class="keyword">const</span> ATTR_LOAD_REFERENCES              = 153;
<a name="l00189"></a>00189     <span class="keyword">const</span> ATTR_RECORD_LISTENER              = 154;
<a name="l00190"></a>00190     <span class="keyword">const</span> ATTR_THROW_EXCEPTIONS             = 155;
<a name="l00191"></a>00191     <span class="keyword">const</span> ATTR_DEFAULT_PARAM_NAMESPACE      = 156;
<a name="l00192"></a>00192     <span class="keyword">const</span> ATTR_QUERY_CACHE                  = 157;
<a name="l00193"></a>00193     <span class="keyword">const</span> ATTR_QUERY_CACHE_LIFESPAN         = 158;
<a name="l00194"></a>00194     <span class="keyword">const</span> ATTR_AUTOLOAD_TABLE_CLASSES       = 160;
<a name="l00195"></a>00195     <span class="keyword">const</span> ATTR_MODEL_LOADING                = 161;
<a name="l00196"></a>00196     <span class="keyword">const</span> ATTR_RECURSIVE_MERGE_FIXTURES     = 162;
<a name="l00197"></a>00197     <span class="keyword">const</span> ATTR_USE_DQL_CALLBACKS            = 164;
<a name="l00198"></a>00198     <span class="keyword">const</span> ATTR_AUTO_ACCESSOR_OVERRIDE       = 165;
<a name="l00199"></a>00199     <span class="keyword">const</span> ATTR_AUTO_FREE_QUERY_OBJECTS      = 166;
<a name="l00200"></a>00200     <span class="keyword">const</span> ATTR_DEFAULT_TABLE_CHARSET        = 167;
<a name="l00201"></a>00201     <span class="keyword">const</span> ATTR_DEFAULT_TABLE_COLLATE        = 168;
<a name="l00202"></a>00202     <span class="keyword">const</span> ATTR_DEFAULT_IDENTIFIER_OPTIONS   = 169;
<a name="l00203"></a>00203     <span class="keyword">const</span> ATTR_DEFAULT_COLUMN_OPTIONS       = 170;
<a name="l00204"></a>00204     <span class="keyword">const</span> ATTR_HYDRATE_OVERWRITE            = 172;
<a name="l00205"></a>00205     <span class="keyword">const</span> ATTR_QUERY_CLASS                  = 173;
<a name="l00206"></a>00206     <span class="keyword">const</span> ATTR_CASCADE_SAVES                = 174;
<a name="l00207"></a>00207     <span class="keyword">const</span> ATTR_COLLECTION_CLASS             = 175;
<a name="l00208"></a>00208     <span class="keyword">const</span> ATTR_TABLE_CLASS                  = 176;
<a name="l00209"></a>00209     <span class="keyword">const</span> ATTR_USE_NATIVE_SET               = 177;
<a name="l00210"></a>00210     <span class="keyword">const</span> ATTR_MODEL_CLASS_PREFIX           = 178;
<a name="l00211"></a>00211     <span class="keyword">const</span> ATTR_TABLE_CLASS_FORMAT           = 179;
<a name="l00212"></a>00212     <span class="keyword">const</span> ATTR_MAX_IDENTIFIER_LENGTH        = 180;
<a name="l00213"></a>00213 
<a name="l00221"></a><a class="code" href="classDoctrine__Core.html#aeaeddd149e99971c7f7b75554647d470">00221</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#aeaeddd149e99971c7f7b75554647d470" title="LIMIT CONSTANTS.">LIMIT_ROWS</a>       = 1;
<a name="l00222"></a>00222     <span class="keyword">const</span> QUERY_LIMIT_ROWS = 1;
<a name="l00223"></a>00223 
<a name="l00227"></a><a class="code" href="classDoctrine__Core.html#a963e760d01506495ff475bedaa61e992">00227</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a963e760d01506495ff475bedaa61e992" title="constant for record limiting">LIMIT_RECORDS</a>       = 2;
<a name="l00228"></a>00228     <span class="keyword">const</span> QUERY_LIMIT_RECORDS = 2;
<a name="l00229"></a>00229 
<a name="l00243"></a><a class="code" href="classDoctrine__Core.html#acbfe4cee3e6f7b0cb74373c19e34e683">00243</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#acbfe4cee3e6f7b0cb74373c19e34e683" title="FETCHMODE CONSTANTS.">PORTABILITY_NONE</a>          = 0;
<a name="l00244"></a>00244 
<a name="l00250"></a><a class="code" href="classDoctrine__Core.html#af78627adb297b1decf1ee9f52fdb4340">00250</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#af78627adb297b1decf1ee9f52fdb4340" title="Portability: convert names of tables and fields to case defined in the &amp;quot;field_case&amp;quot;...">PORTABILITY_FIX_CASE</a>      = 1;
<a name="l00251"></a>00251 
<a name="l00256"></a><a class="code" href="classDoctrine__Core.html#af5dbe9559d8e279a20f759b1468cf785">00256</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#af5dbe9559d8e279a20f759b1468cf785" title="Portability: right trim the data output by query*() and fetch*().">PORTABILITY_RTRIM</a>         = 2;
<a name="l00257"></a>00257 
<a name="l00262"></a><a class="code" href="classDoctrine__Core.html#ac54c9920717c1e697e529bab5c74be28">00262</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#ac54c9920717c1e697e529bab5c74be28" title="Portability: force reporting the number of rows deleted.">PORTABILITY_DELETE_COUNT</a>  = 4;
<a name="l00263"></a>00263 
<a name="l00269"></a><a class="code" href="classDoctrine__Core.html#a77b44584e283186b6ff6b69072f245cd">00269</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a77b44584e283186b6ff6b69072f245cd" title="Portability: convert empty values to null strings in data output by query*() and...">PORTABILITY_EMPTY_TO_NULL</a> = 8;
<a name="l00270"></a>00270 
<a name="l00275"></a><a class="code" href="classDoctrine__Core.html#acbe083ed9a55156fd22dd931a49d3bb8">00275</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#acbe083ed9a55156fd22dd931a49d3bb8" title="Portability: removes database/table qualifiers from associative indexes.">PORTABILITY_FIX_ASSOC_FIELD_NAMES</a> = 16;
<a name="l00276"></a>00276 
<a name="l00281"></a><a class="code" href="classDoctrine__Core.html#a360438b3bbf360206bf32b73e65ebae4">00281</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a360438b3bbf360206bf32b73e65ebae4" title="Portability: makes Doctrine_Expression throw exception for unportable RDBMS expressions...">PORTABILITY_EXPR</a>          = 32;
<a name="l00282"></a>00282 
<a name="l00287"></a><a class="code" href="classDoctrine__Core.html#a4ee5b6c33c0b63e7eea3e5522224f001">00287</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a4ee5b6c33c0b63e7eea3e5522224f001" title="Portability: turn on all portability features.">PORTABILITY_ALL</a>           = 63;
<a name="l00288"></a>00288 
<a name="l00296"></a><a class="code" href="classDoctrine__Core.html#a49c4a8e15ff3a1e82d1bfdfeb8c09b8b">00296</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a49c4a8e15ff3a1e82d1bfdfeb8c09b8b" title="LOCKMODE CONSTANTS.">LOCK_OPTIMISTIC</a>       = 0;
<a name="l00297"></a>00297 
<a name="l00301"></a><a class="code" href="classDoctrine__Core.html#a165a152fc163cce022e5e91c6dbd2db5">00301</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a165a152fc163cce022e5e91c6dbd2db5" title="mode for pessimistic locking">LOCK_PESSIMISTIC</a>      = 1;
<a name="l00302"></a>00302 
<a name="l00310"></a><a class="code" href="classDoctrine__Core.html#a034a240a4b6c4e832989bd04e50b885b">00310</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a034a240a4b6c4e832989bd04e50b885b" title="EXPORT CONSTANTS.">EXPORT_NONE</a>               = 0;
<a name="l00311"></a>00311 
<a name="l00315"></a><a class="code" href="classDoctrine__Core.html#a6a57f117a246a2f11d022401861e390f">00315</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a6a57f117a246a2f11d022401861e390f" title="EXPORT_TABLES.">EXPORT_TABLES</a>             = 1;
<a name="l00316"></a>00316 
<a name="l00320"></a><a class="code" href="classDoctrine__Core.html#a5b961239165033f0e1fc57906f27e9e6">00320</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a5b961239165033f0e1fc57906f27e9e6" title="EXPORT_CONSTRAINTS.">EXPORT_CONSTRAINTS</a>        = 2;
<a name="l00321"></a>00321 
<a name="l00325"></a><a class="code" href="classDoctrine__Core.html#a500496ef3a65404ad7d1ca9beca64139">00325</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a500496ef3a65404ad7d1ca9beca64139" title="EXPORT_PLUGINS.">EXPORT_PLUGINS</a>            = 4;
<a name="l00326"></a>00326 
<a name="l00330"></a><a class="code" href="classDoctrine__Core.html#a22ef36638aa92e2a20e8554be6ddc430">00330</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a22ef36638aa92e2a20e8554be6ddc430" title="EXPORT_ALL.">EXPORT_ALL</a>                = 7;
<a name="l00331"></a>00331 
<a name="l00339"></a><a class="code" href="classDoctrine__Core.html#a56801dd8a24bb6f44afc2ba1dd0a0ba1">00339</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a56801dd8a24bb6f44afc2ba1dd0a0ba1" title="HYDRATION CONSTANTS.">HYDRATE_RECORD</a>            = 2;
<a name="l00340"></a>00340 
<a name="l00344"></a><a class="code" href="classDoctrine__Core.html#aa98a2c96d8437e185eccacf15c81604c">00344</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#aa98a2c96d8437e185eccacf15c81604c" title="HYDRATE_ARRAY.">HYDRATE_ARRAY</a>             = 3;
<a name="l00345"></a>00345 
<a name="l00349"></a><a class="code" href="classDoctrine__Core.html#a36531882557012215d8b9024373239fa">00349</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a36531882557012215d8b9024373239fa" title="HYDRATE_NONE.">HYDRATE_NONE</a>              = 4;
<a name="l00350"></a>00350     
<a name="l00354"></a><a class="code" href="classDoctrine__Core.html#ae2b6a2cec56a4a8443298e473813116f">00354</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#ae2b6a2cec56a4a8443298e473813116f" title="HYDRATE_SCALAR.">HYDRATE_SCALAR</a>            = 5;
<a name="l00355"></a>00355     
<a name="l00359"></a><a class="code" href="classDoctrine__Core.html#a0064a4a73d01e72757257d48d2817fbb">00359</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a0064a4a73d01e72757257d48d2817fbb" title="HYDRATE_SINGLE_SCALAR.">HYDRATE_SINGLE_SCALAR</a>     = 6;
<a name="l00360"></a>00360 
<a name="l00364"></a><a class="code" href="classDoctrine__Core.html#a60ede861db6c2521d7e74124fdb3b9c1">00364</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a60ede861db6c2521d7e74124fdb3b9c1" title="HYDRATE_ON_DEMAND.">HYDRATE_ON_DEMAND</a>         = 7;
<a name="l00365"></a>00365     
<a name="l00369"></a><a class="code" href="classDoctrine__Core.html#a93e73766f1a4b5582fb772f53a87ac07">00369</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a93e73766f1a4b5582fb772f53a87ac07" title="HYDRATE_ARRAY_HIERARCHY.">HYDRATE_ARRAY_HIERARCHY</a>   = 8;
<a name="l00370"></a>00370     
<a name="l00374"></a><a class="code" href="classDoctrine__Core.html#ab268ad36fedf874509ce6aab6bc23908">00374</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#ab268ad36fedf874509ce6aab6bc23908" title="HYDRATE_RECORD_HIERARCHY.">HYDRATE_RECORD_HIERARCHY</a>  = 9;
<a name="l00375"></a>00375 
<a name="l00379"></a><a class="code" href="classDoctrine__Core.html#a27cd87e5d50f11686de40822b263a1bb">00379</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a27cd87e5d50f11686de40822b263a1bb" title="HYDRATE_ARRAY_SHALLOW.">HYDRATE_ARRAY_SHALLOW</a>     = 10;
<a name="l00380"></a>00380 
<a name="l00384"></a><a class="code" href="classDoctrine__Core.html#a751f416ac1d8be2b627961c2371c7dbd">00384</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a751f416ac1d8be2b627961c2371c7dbd" title="VALIDATION CONSTANTS.">VALIDATE_NONE</a>             = 0;
<a name="l00385"></a>00385 
<a name="l00389"></a><a class="code" href="classDoctrine__Core.html#a3f76141e41d8bf31aa73acad6a182b4a">00389</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a3f76141e41d8bf31aa73acad6a182b4a" title="VALIDATE_LENGTHS.">VALIDATE_LENGTHS</a>          = 1;
<a name="l00390"></a>00390 
<a name="l00394"></a><a class="code" href="classDoctrine__Core.html#adc4f5bd052ac4cca8200a8619bb79328">00394</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#adc4f5bd052ac4cca8200a8619bb79328" title="VALIDATE_TYPES.">VALIDATE_TYPES</a>            = 2;
<a name="l00395"></a>00395 
<a name="l00399"></a><a class="code" href="classDoctrine__Core.html#a657ce5abe2fbe63bc05ce38eae535afb">00399</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a657ce5abe2fbe63bc05ce38eae535afb" title="VALIDATE_CONSTRAINTS.">VALIDATE_CONSTRAINTS</a>      = 4;
<a name="l00400"></a>00400 
<a name="l00404"></a><a class="code" href="classDoctrine__Core.html#af573579d30ac3e78fbbb440c6dea6305">00404</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#af573579d30ac3e78fbbb440c6dea6305" title="VALIDATE_ALL.">VALIDATE_ALL</a>              = 7;
<a name="l00405"></a>00405 
<a name="l00409"></a><a class="code" href="classDoctrine__Core.html#a8f74a9e3e4c3ccfe6de77cb7bda4a06d">00409</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a8f74a9e3e4c3ccfe6de77cb7bda4a06d" title="VALIDATE_USER.">VALIDATE_USER</a>             = 8;
<a name="l00410"></a>00410 
<a name="l00416"></a><a class="code" href="classDoctrine__Core.html#a88d2c2bc37e0c74fd50b6990546ecafd">00416</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a88d2c2bc37e0c74fd50b6990546ecafd" title="IDENTIFIER_AUTOINC.">IDENTIFIER_AUTOINC</a>        = 1;
<a name="l00417"></a>00417 
<a name="l00423"></a><a class="code" href="classDoctrine__Core.html#acdd60dfc598a1d5b53b0a1bef049e50f">00423</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#acdd60dfc598a1d5b53b0a1bef049e50f" title="IDENTIFIER_SEQUENCE.">IDENTIFIER_SEQUENCE</a>       = 2;
<a name="l00424"></a>00424 
<a name="l00430"></a><a class="code" href="classDoctrine__Core.html#a9589253eb371da8a5d500431e5a2b1ad">00430</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a9589253eb371da8a5d500431e5a2b1ad" title="IDENTIFIER_NATURAL.">IDENTIFIER_NATURAL</a>        = 3;
<a name="l00431"></a>00431 
<a name="l00437"></a><a class="code" href="classDoctrine__Core.html#ae200dec4ee5f87857561890e4b21a38c">00437</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#ae200dec4ee5f87857561890e4b21a38c" title="IDENTIFIER_COMPOSITE.">IDENTIFIER_COMPOSITE</a>      = 4;
<a name="l00438"></a>00438 
<a name="l00445"></a><a class="code" href="classDoctrine__Core.html#ab12fa6d57d94ff1af9914d21beb05699">00445</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#ab12fa6d57d94ff1af9914d21beb05699" title="MODEL_LOADING_AGGRESSIVE.">MODEL_LOADING_AGGRESSIVE</a>   = 1;
<a name="l00446"></a>00446 
<a name="l00454"></a><a class="code" href="classDoctrine__Core.html#a84b23ca0e9cc72f44b6c98161420bb82">00454</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#a84b23ca0e9cc72f44b6c98161420bb82" title="MODEL_LOADING_CONSERVATIVE.">MODEL_LOADING_CONSERVATIVE</a> = 2;
<a name="l00455"></a>00455 
<a name="l00463"></a><a class="code" href="classDoctrine__Core.html#ae8e55000c39a30134a8cc894283da44b">00463</a>     <span class="keyword">const</span> <a class="code" href="classDoctrine__Core.html#ae8e55000c39a30134a8cc894283da44b" title="MODEL_LOADING_PEAR.">MODEL_LOADING_PEAR</a> = 3;
<a name="l00464"></a>00464 
<a name="l00470"></a>00470     <span class="keyword">private</span> <span class="keyword">static</span> $_path;
<a name="l00471"></a>00471 
<a name="l00477"></a>00477     <span class="keyword">private</span> <span class="keyword">static</span> $_extensionsPath;
<a name="l00478"></a>00478 
<a name="l00484"></a>00484     <span class="keyword">private</span> <span class="keyword">static</span> $_debug = <span class="keyword">false</span>;
<a name="l00485"></a>00485 
<a name="l00491"></a>00491     <span class="keyword">private</span> <span class="keyword">static</span> $_loadedModelFiles = array();
<a name="l00492"></a>00492 
<a name="l00498"></a>00498     <span class="keyword">private</span> <span class="keyword">static</span> $_validators = array();
<a name="l00499"></a>00499 
<a name="l00505"></a>00505     <span class="keyword">private</span> <span class="keyword">static</span> $_modelsDirectory;
<a name="l00506"></a>00506 
<a name="l00513"></a><a class="code" href="classDoctrine__Core.html#a3ccd55b94560dd5734cf200ae4ec0ac9">00513</a>     <span class="keyword">public</span> function <a class="code" href="classDoctrine__Core.html#a3ccd55b94560dd5734cf200ae4ec0ac9" title="__construct">__construct</a>()
<a name="l00514"></a>00514     {
<a name="l00515"></a>00515         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classDoctrine__Exception.html">Doctrine_Exception</a>(<span class="stringliteral">&#39;Doctrine is static class. No instances can be created.&#39;</span>);
<a name="l00516"></a>00516     }
<a name="l00517"></a>00517 
<a name="l00523"></a><a class="code" href="classDoctrine__Core.html#acfae0c5cbf3761c365ee389a3612ba22">00523</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#acfae0c5cbf3761c365ee389a3612ba22" title="Returns an array of all the loaded models and the path where each of them exists...">getLoadedModelFiles</a>()
<a name="l00524"></a>00524     {
<a name="l00525"></a>00525         <span class="keywordflow">return</span> self::$_loadedModelFiles;
<a name="l00526"></a>00526     }
<a name="l00527"></a>00527 
<a name="l00534"></a><a class="code" href="classDoctrine__Core.html#a1b35f008aef6c3ddfa519ae0f35b0de0">00534</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a1b35f008aef6c3ddfa519ae0f35b0de0" title="Turn on/off the debugging setting.">debug</a>($bool = null)
<a name="l00535"></a>00535     {
<a name="l00536"></a>00536         <span class="keywordflow">if</span> ($bool !== null) {
<a name="l00537"></a>00537             self::$_debug = (bool) $bool;
<a name="l00538"></a>00538         }
<a name="l00539"></a>00539 
<a name="l00540"></a>00540         <span class="keywordflow">return</span> self::$_debug;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542 
<a name="l00549"></a><a class="code" href="classDoctrine__Core.html#aa6be68aa6db4ae4619f1c8c2e7cfd632">00549</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#aa6be68aa6db4ae4619f1c8c2e7cfd632" title="Set the path to your core Doctrine libraries.">setPath</a>($path)
<a name="l00550"></a>00550     {
<a name="l00551"></a>00551         self::$_path = $path;
<a name="l00552"></a>00552     }
<a name="l00553"></a>00553 
<a name="l00559"></a><a class="code" href="classDoctrine__Core.html#afedb0510df988ec5ef781def99c6bfa0">00559</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#afedb0510df988ec5ef781def99c6bfa0" title="Get the root path to Doctrine.">getPath</a>()
<a name="l00560"></a>00560     {
<a name="l00561"></a>00561         <span class="keywordflow">if</span> ( ! self::$_path) {
<a name="l00562"></a>00562             self::$_path = realpath(dirname(__FILE__) . <span class="stringliteral">&#39;/..&#39;</span>);
<a name="l00563"></a>00563         }
<a name="l00564"></a>00564 
<a name="l00565"></a>00565         <span class="keywordflow">return</span> self::$_path;
<a name="l00566"></a>00566     }
<a name="l00567"></a>00567 
<a name="l00574"></a><a class="code" href="classDoctrine__Core.html#a2197d479f943c00059442f2492d69a32">00574</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a2197d479f943c00059442f2492d69a32" title="Set the path to autoload extension classes from.">setExtensionsPath</a>($extensionsPath)
<a name="l00575"></a>00575     {
<a name="l00576"></a>00576         self::$_extensionsPath = $extensionsPath;
<a name="l00577"></a>00577     }
<a name="l00578"></a>00578 
<a name="l00584"></a><a class="code" href="classDoctrine__Core.html#ad496d1a63dc7f7921c38f522dbb40e09">00584</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#ad496d1a63dc7f7921c38f522dbb40e09" title="Get the path to load extension classes from.">getExtensionsPath</a>()
<a name="l00585"></a>00585     {
<a name="l00586"></a>00586         <span class="keywordflow">return</span> self::$_extensionsPath;
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588 
<a name="l00594"></a><a class="code" href="classDoctrine__Core.html#ac3bbf1ed9c134f66609f59e89563597d">00594</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#ac3bbf1ed9c134f66609f59e89563597d" title="Load an individual model name and path in to the model loading registry.">loadModel</a>($className, $path = null)
<a name="l00595"></a>00595     {
<a name="l00596"></a>00596         self::$_loadedModelFiles[$className] = $path;
<a name="l00597"></a>00597     }
<a name="l00598"></a>00598 
<a name="l00606"></a><a class="code" href="classDoctrine__Core.html#a7c1a9dd6e5156ce469958cd36aa149e6">00606</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a7c1a9dd6e5156ce469958cd36aa149e6" title="Set the directory where your models are located for PEAR style naming convention...">setModelsDirectory</a>($directory)
<a name="l00607"></a>00607     {
<a name="l00608"></a>00608         self::$_modelsDirectory = $directory;
<a name="l00609"></a>00609     }
<a name="l00610"></a>00610 
<a name="l00618"></a><a class="code" href="classDoctrine__Core.html#a9dfc6963141bec2baa70df521873e30b">00618</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a9dfc6963141bec2baa70df521873e30b" title="Get the directory where your models are located for PEAR style naming convention...">getModelsDirectory</a>()
<a name="l00619"></a>00619     {
<a name="l00620"></a>00620         <span class="keywordflow">return</span> self::$_modelsDirectory;
<a name="l00621"></a>00621     }
<a name="l00622"></a>00622 
<a name="l00631"></a><a class="code" href="classDoctrine__Core.html#a7174ed140b37bd24242286d97824f86a">00631</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a7174ed140b37bd24242286d97824f86a" title="Recursively load all models from a directory or array of directories.">loadModels</a>($directory, $modelLoading = null, $classPrefix = null)
<a name="l00632"></a>00632     {
<a name="l00633"></a>00633         $manager = <a class="code" href="classDoctrine__Manager.html#a0f1f11c9be78468eed7768f4130aac2e" title="Returns an instance of this class (this class uses the singleton pattern).">Doctrine_Manager::getInstance</a>();
<a name="l00634"></a>00634 
<a name="l00635"></a>00635         $modelLoading = $modelLoading === null ? $manager-&gt;getAttribute(Doctrine_Core::ATTR_MODEL_LOADING) : $modelLoading;
<a name="l00636"></a>00636         $classPrefix = $classPrefix === null ? $manager-&gt;getAttribute(Doctrine_Core::ATTR_MODEL_CLASS_PREFIX) : $classPrefix;
<a name="l00637"></a>00637 
<a name="l00638"></a>00638         $loadedModels = array();
<a name="l00639"></a>00639 
<a name="l00640"></a>00640         <span class="keywordflow">if</span> ($directory !== null) {
<a name="l00641"></a>00641             <span class="keywordflow">foreach</span> ((array) $directory as $dir) {
<a name="l00642"></a>00642                 $dir = rtrim($dir, <span class="charliteral">&#39;/&#39;</span>);
<a name="l00643"></a>00643                 <span class="keywordflow">if</span> ( ! is_dir($dir)) {
<a name="l00644"></a>00644                     <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classDoctrine__Exception.html">Doctrine_Exception</a>(<span class="stringliteral">&#39;You must pass a valid path to a directory containing Doctrine models&#39;</span>);
<a name="l00645"></a>00645                 }
<a name="l00646"></a>00646 
<a name="l00647"></a>00647                 $it = <span class="keyword">new</span> RecursiveIteratorIterator(<span class="keyword">new</span> RecursiveDirectoryIterator($dir),
<a name="l00648"></a>00648                                                         RecursiveIteratorIterator::LEAVES_ONLY);
<a name="l00649"></a>00649                                                         
<a name="l00650"></a>00650                 <span class="keywordflow">foreach</span> ($it as $file) {
<a name="l00651"></a>00651                     $e = explode(<span class="charliteral">&#39;.&#39;</span>, $file-&gt;getFileName());
<a name="l00652"></a>00652                     
<a name="l00653"></a>00653                     <span class="keywordflow">if</span> (end($e) === <span class="stringliteral">&#39;php&#39;</span> &amp;&amp; strpos($file-&gt;getFileName(), <span class="stringliteral">&#39;.inc&#39;</span>) === <span class="keyword">false</span>) {
<a name="l00654"></a>00654                         <span class="keywordflow">if</span> ($modelLoading == <a class="code" href="classDoctrine__Core.html#ae8e55000c39a30134a8cc894283da44b" title="MODEL_LOADING_PEAR.">Doctrine_Core::MODEL_LOADING_PEAR</a>) {
<a name="l00655"></a>00655                             $className = str_replace($dir . DIRECTORY_SEPARATOR, null, $file-&gt;getPathName());
<a name="l00656"></a>00656                             $className = str_replace(DIRECTORY_SEPARATOR, <span class="charliteral">&#39;_&#39;</span>, $className);
<a name="l00657"></a>00657                             $className = substr($className, 0, strpos($className, <span class="charliteral">&#39;.&#39;</span>));
<a name="l00658"></a>00658                         } <span class="keywordflow">else</span> {
<a name="l00659"></a>00659                             $className = $e[0];
<a name="l00660"></a>00660                         }
<a name="l00661"></a>00661 
<a name="l00662"></a>00662                         <span class="keywordflow">if</span> ($classPrefix &amp;&amp; $classPrefix != substr($className, 0, strlen($classPrefix))) {
<a name="l00663"></a>00663                             $className = $classPrefix . $className;
<a name="l00664"></a>00664                         }
<a name="l00665"></a>00665 
<a name="l00666"></a>00666                         <span class="keywordflow">if</span> ( ! class_exists($className, <span class="keyword">false</span>)) {
<a name="l00667"></a>00667                             <span class="keywordflow">if</span> ($modelLoading == <a class="code" href="classDoctrine__Core.html#a84b23ca0e9cc72f44b6c98161420bb82" title="MODEL_LOADING_CONSERVATIVE.">Doctrine_Core::MODEL_LOADING_CONSERVATIVE</a> || $modelLoading == <a class="code" href="classDoctrine__Core.html#ae8e55000c39a30134a8cc894283da44b" title="MODEL_LOADING_PEAR.">Doctrine_Core::MODEL_LOADING_PEAR</a>) {
<a name="l00668"></a>00668                                 <a class="code" href="classDoctrine__Core.html#ac3bbf1ed9c134f66609f59e89563597d" title="Load an individual model name and path in to the model loading registry.">self::loadModel</a>($className, $file-&gt;getPathName());
<a name="l00669"></a>00669 
<a name="l00670"></a>00670                                 $loadedModels[$className] = $className;
<a name="l00671"></a>00671                             } <span class="keywordflow">else</span> {
<a name="l00672"></a>00672                                 $declaredBefore = get_declared_classes();
<a name="l00673"></a>00673                                 require_once($file-&gt;getPathName());
<a name="l00674"></a>00674                                 $declaredAfter = get_declared_classes();
<a name="l00675"></a>00675                                 
<a name="l00676"></a>00676                                 <span class="comment">// Using array_slice because array_diff is broken is some PHP versions</span>
<a name="l00677"></a>00677                                 $foundClasses = array_slice($declaredAfter, count($declaredBefore));
<a name="l00678"></a>00678                                 
<a name="l00679"></a>00679                                 <span class="keywordflow">if</span> ($foundClasses) {
<a name="l00680"></a>00680                                     <span class="keywordflow">foreach</span> ($foundClasses as $className) {
<a name="l00681"></a>00681                                         <span class="keywordflow">if</span> (self::isValidModelClass($className)) {
<a name="l00682"></a>00682                                             $loadedModels[$className] = $className;
<a name="l00683"></a>00683 
<a name="l00684"></a>00684                                             <a class="code" href="classDoctrine__Core.html#ac3bbf1ed9c134f66609f59e89563597d" title="Load an individual model name and path in to the model loading registry.">self::loadModel</a>($className, $file-&gt;getPathName());
<a name="l00685"></a>00685                                         }
<a name="l00686"></a>00686                                     }
<a name="l00687"></a>00687                                 }
<a name="l00688"></a>00688                                 
<a name="l00689"></a>00689                                 $previouslyLoaded = array_keys(self::$_loadedModelFiles, $file-&gt;getPathName());
<a name="l00690"></a>00690 
<a name="l00691"></a>00691                                 <span class="keywordflow">if</span> ( ! empty($previouslyLoaded)) {
<a name="l00692"></a>00692                                     $previouslyLoaded = array_combine(array_values($previouslyLoaded), array_values($previouslyLoaded));
<a name="l00693"></a>00693                                     $loadedModels = array_merge($loadedModels, $previouslyLoaded);
<a name="l00694"></a>00694                                 }
<a name="l00695"></a>00695                             }
<a name="l00696"></a>00696                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self::isValidModelClass($className)) {
<a name="l00697"></a>00697                             $loadedModels[$className] = $className;
<a name="l00698"></a>00698                         }
<a name="l00699"></a>00699                     }
<a name="l00700"></a>00700                 }
<a name="l00701"></a>00701             }
<a name="l00702"></a>00702         }
<a name="l00703"></a>00703         
<a name="l00704"></a>00704         asort($loadedModels);
<a name="l00705"></a>00705         
<a name="l00706"></a>00706         <span class="keywordflow">return</span> $loadedModels;
<a name="l00707"></a>00707     }
<a name="l00708"></a>00708 
<a name="l00718"></a><a class="code" href="classDoctrine__Core.html#ac5c6386d8802fb87b068a126521a5457">00718</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#ac5c6386d8802fb87b068a126521a5457" title="Get all the loaded models, you can provide an array of classes or it will use get_declared_classes()...">getLoadedModels</a>($classes = null)
<a name="l00719"></a>00719     {
<a name="l00720"></a>00720         <span class="keywordflow">if</span> ($classes === null) {
<a name="l00721"></a>00721             $classes = get_declared_classes();
<a name="l00722"></a>00722             $classes = array_merge($classes, array_keys(self::$_loadedModelFiles));
<a name="l00723"></a>00723         }
<a name="l00724"></a>00724 
<a name="l00725"></a>00725         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Core.html#aadc15890078718c3d8c50d88e1c7aaa5" title="Filter through an array of classes and return all the classes that are valid models...">self::filterInvalidModels</a>($classes);
<a name="l00726"></a>00726     }
<a name="l00727"></a>00727 
<a name="l00737"></a><a class="code" href="classDoctrine__Core.html#a18c18e6233217974095e3be37e63c5ea">00737</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a18c18e6233217974095e3be37e63c5ea" title="Initialize all models so everything is present and loaded in to memory This will...">initializeModels</a>($models)
<a name="l00738"></a>00738     {
<a name="l00739"></a>00739         $models = <a class="code" href="classDoctrine__Core.html#aadc15890078718c3d8c50d88e1c7aaa5" title="Filter through an array of classes and return all the classes that are valid models...">self::filterInvalidModels</a>($models);
<a name="l00740"></a>00740 
<a name="l00741"></a>00741         <span class="keywordflow">foreach</span> ($models as $model) {
<a name="l00742"></a>00742             $declaredBefore = get_declared_classes();
<a name="l00743"></a>00743             <a class="code" href="classDoctrine__Core.html#a2b20202aaba378351e7915e75b4b7e27" title="Get the Doctrine_Table object for the passed model.">Doctrine_Core::getTable</a>($model);
<a name="l00744"></a>00744 
<a name="l00745"></a>00745             $declaredAfter = get_declared_classes();
<a name="l00746"></a>00746             <span class="comment">// Using array_slice because array_diff is broken is some PHP versions</span>
<a name="l00747"></a>00747             $foundClasses = array_slice($declaredAfter, count($declaredBefore) - 1);
<a name="l00748"></a>00748             <span class="keywordflow">foreach</span> ($foundClasses as $class) {
<a name="l00749"></a>00749                 <span class="keywordflow">if</span> (self::isValidModelClass($class)) {
<a name="l00750"></a>00750                     $models[] = $class;
<a name="l00751"></a>00751                 }
<a name="l00752"></a>00752             }
<a name="l00753"></a>00753         }
<a name="l00754"></a>00754 
<a name="l00755"></a>00755         $models = <a class="code" href="classDoctrine__Core.html#aadc15890078718c3d8c50d88e1c7aaa5" title="Filter through an array of classes and return all the classes that are valid models...">self::filterInvalidModels</a>($models);
<a name="l00756"></a>00756 
<a name="l00757"></a>00757         <span class="keywordflow">return</span> $models;
<a name="l00758"></a>00758     }
<a name="l00759"></a>00759 
<a name="l00767"></a><a class="code" href="classDoctrine__Core.html#aadc15890078718c3d8c50d88e1c7aaa5">00767</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#aadc15890078718c3d8c50d88e1c7aaa5" title="Filter through an array of classes and return all the classes that are valid models...">filterInvalidModels</a>($classes)
<a name="l00768"></a>00768     {
<a name="l00769"></a>00769         $validModels = array();
<a name="l00770"></a>00770 
<a name="l00771"></a>00771         <span class="keywordflow">foreach</span> ((array) $classes as $name) {
<a name="l00772"></a>00772             <span class="keywordflow">if</span> (self::isValidModelClass($name) &amp;&amp; ! in_array($name, $validModels)) {
<a name="l00773"></a>00773                 $validModels[] = $name;
<a name="l00774"></a>00774             }
<a name="l00775"></a>00775         }
<a name="l00776"></a>00776 
<a name="l00777"></a>00777         <span class="keywordflow">return</span> $validModels;
<a name="l00778"></a>00778     }
<a name="l00779"></a>00779 
<a name="l00787"></a><a class="code" href="classDoctrine__Core.html#a3523ee044dd9ad6a04b92c5b2b39fdd8">00787</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a3523ee044dd9ad6a04b92c5b2b39fdd8" title="Checks if what is passed is a valid Doctrine_Record Will load class in to memory...">isValidModelClass</a>($class)
<a name="l00788"></a>00788     {
<a name="l00789"></a>00789         <span class="keywordflow">if</span> ($class instanceof <a class="code" href="classDoctrine__Record.html">Doctrine_Record</a>) {
<a name="l00790"></a>00790             $class = get_class($class);
<a name="l00791"></a>00791         }
<a name="l00792"></a>00792 
<a name="l00793"></a>00793         <span class="keywordflow">if</span> (is_string($class) &amp;&amp; class_exists($class)) {
<a name="l00794"></a>00794             $class = <span class="keyword">new</span> ReflectionClass($class);
<a name="l00795"></a>00795         }
<a name="l00796"></a>00796 
<a name="l00797"></a>00797         <span class="keywordflow">if</span> ($class instanceof ReflectionClass) {
<a name="l00798"></a>00798             <span class="comment">// Skip the following classes</span>
<a name="l00799"></a>00799             <span class="comment">// - abstract classes</span>
<a name="l00800"></a>00800             <span class="comment">// - not a subclass of Doctrine_Record</span>
<a name="l00801"></a>00801             <span class="keywordflow">if</span> ( ! $class-&gt;isAbstract() &amp;&amp; $class-&gt;isSubClassOf(<span class="stringliteral">&#39;Doctrine_Record&#39;</span>)) {
<a name="l00802"></a>00802 
<a name="l00803"></a>00803                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00804"></a>00804             }
<a name="l00805"></a>00805         }
<a name="l00806"></a>00806 
<a name="l00807"></a>00807         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00808"></a>00808     }
<a name="l00809"></a>00809 
<a name="l00817"></a><a class="code" href="classDoctrine__Core.html#a8155d2adda9152d22123bf2822d0f6ad">00817</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a8155d2adda9152d22123bf2822d0f6ad" title="Get the connection object for a table by the actual table name FIXME: I think this...">getConnectionByTableName</a>($tableName)
<a name="l00818"></a>00818     {
<a name="l00819"></a>00819         $loadedModels = <a class="code" href="classDoctrine__Core.html#ac5c6386d8802fb87b068a126521a5457" title="Get all the loaded models, you can provide an array of classes or it will use get_declared_classes()...">self::getLoadedModels</a>();
<a name="l00820"></a>00820 
<a name="l00821"></a>00821         <span class="keywordflow">foreach</span> ($loadedModels as $name) {
<a name="l00822"></a>00822             $table = <a class="code" href="classDoctrine__Core.html#a2b20202aaba378351e7915e75b4b7e27" title="Get the Doctrine_Table object for the passed model.">Doctrine_Core::getTable</a>($name);
<a name="l00823"></a>00823 
<a name="l00824"></a>00824             <span class="keywordflow">if</span> ($table-&gt;getTableName() == $tableName) {
<a name="l00825"></a>00825                <span class="keywordflow">return</span> $table-&gt;getConnection();
<a name="l00826"></a>00826             }
<a name="l00827"></a>00827         }
<a name="l00828"></a>00828 
<a name="l00829"></a>00829         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a4a265fc048ee4080e26779f3ba36681c" title="Open a new connection.">Doctrine_Manager::connection</a>();
<a name="l00830"></a>00830     }
<a name="l00831"></a>00831 
<a name="l00841"></a><a class="code" href="classDoctrine__Core.html#afdba9d9b40d4d62135b2796850354ba1">00841</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#afdba9d9b40d4d62135b2796850354ba1" title="Method for importing existing schema to Doctrine_Record classes.">generateModelsFromDb</a>($directory, array $connections = array(), array $options = array())
<a name="l00842"></a>00842     {
<a name="l00843"></a>00843         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a4a265fc048ee4080e26779f3ba36681c" title="Open a new connection.">Doctrine_Manager::connection</a>()-&gt;import-&gt;importSchema($directory, $connections, $options);
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845 
<a name="l00855"></a><a class="code" href="classDoctrine__Core.html#aa6e19239488f6f2e2d76c04a27fde322">00855</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#aa6e19239488f6f2e2d76c04a27fde322" title="Generates models from database to temporary location then uses those models to generate...">generateYamlFromDb</a>($yamlPath, array $connections = array(), array $options = array())
<a name="l00856"></a>00856     {
<a name="l00857"></a>00857         $directory = sys_get_temp_dir() . DIRECTORY_SEPARATOR . <span class="stringliteral">&#39;tmp_doctrine_models&#39;</span>;
<a name="l00858"></a>00858 
<a name="l00859"></a>00859         $options[<span class="stringliteral">&#39;generateBaseClasses&#39;</span>] = isset($options[<span class="stringliteral">&#39;generateBaseClasses&#39;</span>]) ? $options[<span class="stringliteral">&#39;generateBaseClasses&#39;</span>]:<span class="keyword">false</span>;
<a name="l00860"></a>00860         $result = <a class="code" href="classDoctrine__Core.html#afdba9d9b40d4d62135b2796850354ba1" title="Method for importing existing schema to Doctrine_Record classes.">Doctrine_Core::generateModelsFromDb</a>($directory, $connections, $options);
<a name="l00861"></a>00861 
<a name="l00862"></a>00862         <span class="keywordflow">if</span> ( empty($result) &amp;&amp; ! is_dir($directory)) {
<a name="l00863"></a>00863             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classDoctrine__Exception.html">Doctrine_Exception</a>(<span class="stringliteral">&#39;No models generated from your databases&#39;</span>);
<a name="l00864"></a>00864         }
<a name="l00865"></a>00865 
<a name="l00866"></a>00866         $export = <span class="keyword">new</span> <a class="code" href="classDoctrine__Export__Schema.html">Doctrine_Export_Schema</a>();
<a name="l00867"></a>00867 
<a name="l00868"></a>00868         $result = $export-&gt;exportSchema($yamlPath, <span class="stringliteral">&#39;yml&#39;</span>, $directory, array(), <a class="code" href="classDoctrine__Core.html#ab12fa6d57d94ff1af9914d21beb05699" title="MODEL_LOADING_AGGRESSIVE.">Doctrine_Core::MODEL_LOADING_AGGRESSIVE</a>);
<a name="l00869"></a>00869 
<a name="l00870"></a>00870         <a class="code" href="classDoctrine__Lib.html#a001abd9d0a54934572f97e74ebd14658" title="Removes a non empty directory.">Doctrine_Lib::removeDirectories</a>($directory);
<a name="l00871"></a>00871 
<a name="l00872"></a>00872         <span class="keywordflow">return</span> $result;
<a name="l00873"></a>00873     }
<a name="l00874"></a>00874 
<a name="l00883"></a><a class="code" href="classDoctrine__Core.html#a719dc51019b64e686580d224e9cc5d9f">00883</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a719dc51019b64e686580d224e9cc5d9f" title="Generate a yaml schema file from an existing directory of models.">generateModelsFromYaml</a>($yamlPath, $directory, $options = array())
<a name="l00884"></a>00884     {
<a name="l00885"></a>00885         $import = <span class="keyword">new</span> <a class="code" href="classDoctrine__Import__Schema.html">Doctrine_Import_Schema</a>();
<a name="l00886"></a>00886         $import-&gt;setOptions($options);
<a name="l00887"></a>00887 
<a name="l00888"></a>00888         <span class="keywordflow">return</span> $import-&gt;importSchema($yamlPath, <span class="stringliteral">&#39;yml&#39;</span>, $directory);
<a name="l00889"></a>00889     }
<a name="l00890"></a>00890 
<a name="l00897"></a><a class="code" href="classDoctrine__Core.html#a3aa608b786146c86d4b6f6f438881b05">00897</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a3aa608b786146c86d4b6f6f438881b05" title="Creates database tables for the models in the specified directory.">createTablesFromModels</a>($directory = null)
<a name="l00898"></a>00898     {
<a name="l00899"></a>00899         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a4a265fc048ee4080e26779f3ba36681c" title="Open a new connection.">Doctrine_Manager::connection</a>()-&gt;export-&gt;exportSchema($directory);
<a name="l00900"></a>00900     }
<a name="l00901"></a>00901 
<a name="l00908"></a><a class="code" href="classDoctrine__Core.html#a746ba1dc44271ecc704260a0ae744f0a">00908</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a746ba1dc44271ecc704260a0ae744f0a" title="Creates database tables for the models in the supplied array.">createTablesFromArray</a>($array)
<a name="l00909"></a>00909     {
<a name="l00910"></a>00910         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a4a265fc048ee4080e26779f3ba36681c" title="Open a new connection.">Doctrine_Manager::connection</a>()-&gt;export-&gt;exportClasses($array);
<a name="l00911"></a>00911     }
<a name="l00912"></a>00912 
<a name="l00919"></a><a class="code" href="classDoctrine__Core.html#a7e3218bd289e996f57e256f9ce61b9be">00919</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a7e3218bd289e996f57e256f9ce61b9be" title="Generate a array of sql for the passed array of models.">generateSqlFromArray</a>($array)
<a name="l00920"></a>00920     {
<a name="l00921"></a>00921         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a4a265fc048ee4080e26779f3ba36681c" title="Open a new connection.">Doctrine_Manager::connection</a>()-&gt;export-&gt;exportClassesSql($array);
<a name="l00922"></a>00922     }
<a name="l00923"></a>00923 
<a name="l00931"></a><a class="code" href="classDoctrine__Core.html#a4d5913a5a07041d7fa354bbcdde9dab6">00931</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a4d5913a5a07041d7fa354bbcdde9dab6" title="Generate a sql string to create the tables from all loaded models or the models found...">generateSqlFromModels</a>($directory = null)
<a name="l00932"></a>00932     {
<a name="l00933"></a>00933         $conn = <a class="code" href="classDoctrine__Manager.html#a4a265fc048ee4080e26779f3ba36681c" title="Open a new connection.">Doctrine_Manager::connection</a>();
<a name="l00934"></a>00934         $sql = $conn-&gt;export-&gt;exportSql($directory);
<a name="l00935"></a>00935 
<a name="l00936"></a>00936         $build = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00937"></a>00937         <span class="keywordflow">foreach</span> ($sql as $query) {
<a name="l00938"></a>00938             $build .= $query.$conn-&gt;sql_file_delimiter;
<a name="l00939"></a>00939         }
<a name="l00940"></a>00940 
<a name="l00941"></a>00941         <span class="keywordflow">return</span> $build;
<a name="l00942"></a>00942     }
<a name="l00943"></a>00943 
<a name="l00951"></a><a class="code" href="classDoctrine__Core.html#aa2e690a9f812ad47f68a79ac69cecd57">00951</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#aa2e690a9f812ad47f68a79ac69cecd57" title="Generate yaml schema file for the models in the specified directory.">generateYamlFromModels</a>($yamlPath, $directory)
<a name="l00952"></a>00952     {
<a name="l00953"></a>00953         $export = <span class="keyword">new</span> <a class="code" href="classDoctrine__Export__Schema.html">Doctrine_Export_Schema</a>();
<a name="l00954"></a>00954 
<a name="l00955"></a>00955         <span class="keywordflow">return</span> $export-&gt;exportSchema($yamlPath, <span class="stringliteral">&#39;yml&#39;</span>, $directory);
<a name="l00956"></a>00956     }
<a name="l00957"></a>00957 
<a name="l00964"></a><a class="code" href="classDoctrine__Core.html#ab87c1e3f565ec9c653e39ac11693bf70">00964</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#ab87c1e3f565ec9c653e39ac11693bf70" title="Creates databases for connections.">createDatabases</a>($specifiedConnections = array())
<a name="l00965"></a>00965     {
<a name="l00966"></a>00966         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a0f1f11c9be78468eed7768f4130aac2e" title="Returns an instance of this class (this class uses the singleton pattern).">Doctrine_Manager::getInstance</a>()-&gt;createDatabases($specifiedConnections);
<a name="l00967"></a>00967     }
<a name="l00968"></a>00968 
<a name="l00975"></a><a class="code" href="classDoctrine__Core.html#af1dafe514af0ac45d38b4bdf4ded84e4">00975</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#af1dafe514af0ac45d38b4bdf4ded84e4" title="Drops databases for connections.">dropDatabases</a>($specifiedConnections = array())
<a name="l00976"></a>00976     {
<a name="l00977"></a>00977         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a0f1f11c9be78468eed7768f4130aac2e" title="Returns an instance of this class (this class uses the singleton pattern).">Doctrine_Manager::getInstance</a>()-&gt;dropDatabases($specifiedConnections);
<a name="l00978"></a>00978     }
<a name="l00979"></a>00979 
<a name="l00987"></a><a class="code" href="classDoctrine__Core.html#a1d836831ee9d15351cbf23e81ba26a15">00987</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a1d836831ee9d15351cbf23e81ba26a15" title="Dump data to a yaml fixtures file.">dumpData</a>($yamlPath, $individualFiles = <span class="keyword">false</span>)
<a name="l00988"></a>00988     {
<a name="l00989"></a>00989         $data = <span class="keyword">new</span> <a class="code" href="classDoctrine__Data.html">Doctrine_Data</a>();
<a name="l00990"></a>00990 
<a name="l00991"></a>00991         <span class="keywordflow">return</span> $data-&gt;exportData($yamlPath, <span class="stringliteral">&#39;yml&#39;</span>, array(), $individualFiles);
<a name="l00992"></a>00992     }
<a name="l00993"></a>00993 
<a name="l01002"></a><a class="code" href="classDoctrine__Core.html#aaf76687cc5ee26b1017b81e0d12d5760">01002</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#aaf76687cc5ee26b1017b81e0d12d5760" title="Load data from a yaml fixtures file.">loadData</a>($yamlPath, $append = <span class="keyword">false</span>)
<a name="l01003"></a>01003     {
<a name="l01004"></a>01004         $data = <span class="keyword">new</span> <a class="code" href="classDoctrine__Data.html">Doctrine_Data</a>();
<a name="l01005"></a>01005 
<a name="l01006"></a>01006         <span class="keywordflow">return</span> $data-&gt;importData($yamlPath, <span class="stringliteral">&#39;yml&#39;</span>, array(), $append);
<a name="l01007"></a>01007     }
<a name="l01008"></a>01008 
<a name="l01017"></a><a class="code" href="classDoctrine__Core.html#a36df1fccf96dedc05ebd514055d7f82d">01017</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a36df1fccf96dedc05ebd514055d7f82d" title="Migrate database to specified $to version.">migrate</a>($migrationsPath, $to = null)
<a name="l01018"></a>01018     {
<a name="l01019"></a>01019         $migration = <span class="keyword">new</span> <a class="code" href="classDoctrine__Migration.html">Doctrine_Migration</a>($migrationsPath);
<a name="l01020"></a>01020 
<a name="l01021"></a>01021         <span class="keywordflow">return</span> $migration-&gt;migrate($to);
<a name="l01022"></a>01022     }
<a name="l01023"></a>01023 
<a name="l01030"></a><a class="code" href="classDoctrine__Core.html#acd1b870882f22bc13d296ed73d98c79c">01030</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#acd1b870882f22bc13d296ed73d98c79c" title="Generate new migration class skeleton.">generateMigrationClass</a>($className, $migrationsPath)
<a name="l01031"></a>01031     {
<a name="l01032"></a>01032         $builder = <span class="keyword">new</span> <a class="code" href="classDoctrine__Migration__Builder.html">Doctrine_Migration_Builder</a>($migrationsPath);
<a name="l01033"></a>01033 
<a name="l01034"></a>01034         <span class="keywordflow">return</span> $builder-&gt;generateMigrationClass($className);
<a name="l01035"></a>01035     }
<a name="l01036"></a>01036 
<a name="l01044"></a><a class="code" href="classDoctrine__Core.html#a4d519361fe39f9f908979610775e0461">01044</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a4d519361fe39f9f908979610775e0461" title="Generate a set of migration classes from an existing database.">generateMigrationsFromDb</a>($migrationsPath)
<a name="l01045"></a>01045     {
<a name="l01046"></a>01046         $builder = <span class="keyword">new</span> <a class="code" href="classDoctrine__Migration__Builder.html">Doctrine_Migration_Builder</a>($migrationsPath);
<a name="l01047"></a>01047 
<a name="l01048"></a>01048         <span class="keywordflow">return</span> $builder-&gt;generateMigrationsFromDb();
<a name="l01049"></a>01049     }
<a name="l01050"></a>01050 
<a name="l01059"></a><a class="code" href="classDoctrine__Core.html#a6fdab9f9fcf25d2f0c92f2fd19eed84d">01059</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a6fdab9f9fcf25d2f0c92f2fd19eed84d" title="Generate a set of migration classes from an existing set of models.">generateMigrationsFromModels</a>($migrationsPath, $modelsPath = null, $modelLoading = null)
<a name="l01060"></a>01060     {
<a name="l01061"></a>01061         $builder = <span class="keyword">new</span> <a class="code" href="classDoctrine__Migration__Builder.html">Doctrine_Migration_Builder</a>($migrationsPath);
<a name="l01062"></a>01062 
<a name="l01063"></a>01063         <span class="keywordflow">return</span> $builder-&gt;generateMigrationsFromModels($modelsPath, $modelLoading);
<a name="l01064"></a>01064     }
<a name="l01065"></a>01065 
<a name="l01075"></a><a class="code" href="classDoctrine__Core.html#a176cc84e73ec0b8730c976cbe4054f4c">01075</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a176cc84e73ec0b8730c976cbe4054f4c" title="Generate a set of migration classes by generating differences between two sets of...">generateMigrationsFromDiff</a>($migrationsPath, $from, $to)
<a name="l01076"></a>01076     {
<a name="l01077"></a>01077         $diff = <span class="keyword">new</span> <a class="code" href="classDoctrine__Migration__Diff.html">Doctrine_Migration_Diff</a>($from, $to, $migrationsPath);
<a name="l01078"></a>01078 
<a name="l01079"></a>01079         <span class="keywordflow">return</span> $diff-&gt;generateMigrationClasses();
<a name="l01080"></a>01080     }
<a name="l01081"></a>01081 
<a name="l01088"></a><a class="code" href="classDoctrine__Core.html#a2b20202aaba378351e7915e75b4b7e27">01088</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a2b20202aaba378351e7915e75b4b7e27" title="Get the Doctrine_Table object for the passed model.">getTable</a>($componentName)
<a name="l01089"></a>01089     {
<a name="l01090"></a>01090         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Manager.html#a0f1f11c9be78468eed7768f4130aac2e" title="Returns an instance of this class (this class uses the singleton pattern).">Doctrine_Manager::getInstance</a>()-&gt;getConnectionForComponent($componentName)-&gt;getTable($componentName);
<a name="l01091"></a>01091     }
<a name="l01092"></a>01092 
<a name="l01103"></a><a class="code" href="classDoctrine__Core.html#a56cd301c9ca488c963964e31986139f5">01103</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a56cd301c9ca488c963964e31986139f5" title="Method for making a single file of most used doctrine runtime components including...">compile</a>($target = null, $includedDrivers = array())
<a name="l01104"></a>01104     {
<a name="l01105"></a>01105         <span class="keywordflow">return</span> <a class="code" href="classDoctrine__Core.html#a56cd301c9ca488c963964e31986139f5" title="Method for making a single file of most used doctrine runtime components including...">Doctrine_Compiler::compile</a>($target, $includedDrivers);
<a name="l01106"></a>01106     }
<a name="l01107"></a>01107 
<a name="l01115"></a><a class="code" href="classDoctrine__Core.html#a043694b5827c8786560311dfd44c84ab">01115</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a043694b5827c8786560311dfd44c84ab" title="simple autoload function returns true if the class was loaded, otherwise false">autoload</a>($className)
<a name="l01116"></a>01116     {
<a name="l01117"></a>01117         <span class="keywordflow">if</span> (strpos($className, <span class="stringliteral">&#39;sfYaml&#39;</span>) === 0) {
<a name="l01118"></a>01118             require dirname(__FILE__) . <span class="stringliteral">&#39;/Parser/sfYaml/&#39;</span> . $className . <span class="stringliteral">&#39;.php&#39;</span>;
<a name="l01119"></a>01119 
<a name="l01120"></a>01120             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01121"></a>01121         }
<a name="l01122"></a>01122 
<a name="l01123"></a>01123         <span class="keywordflow">if</span> (0 !== stripos($className, <span class="stringliteral">&#39;Doctrine&#39;</span>) || class_exists($className, <span class="keyword">false</span>) || interface_exists($className, <span class="keyword">false</span>)) {
<a name="l01124"></a>01124             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01125"></a>01125         }
<a name="l01126"></a>01126 
<a name="l01127"></a>01127         $class = <a class="code" href="classDoctrine__Core.html#afedb0510df988ec5ef781def99c6bfa0" title="Get the root path to Doctrine.">self::getPath</a>() . DIRECTORY_SEPARATOR . str_replace(<span class="charliteral">&#39;_&#39;</span>, DIRECTORY_SEPARATOR, $className) . <span class="stringliteral">&#39;.php&#39;</span>;
<a name="l01128"></a>01128 
<a name="l01129"></a>01129         <span class="keywordflow">if</span> (file_exists($class)) {
<a name="l01130"></a>01130             require $class;
<a name="l01131"></a>01131 
<a name="l01132"></a>01132             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01133"></a>01133         }
<a name="l01134"></a>01134 
<a name="l01135"></a>01135         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01136"></a>01136     }
<a name="l01137"></a>01137 
<a name="l01138"></a>01138     <span class="keyword">public</span> <span class="keyword">static</span> function modelsAutoload($className)
<a name="l01139"></a>01139     {
<a name="l01140"></a>01140         <span class="keywordflow">if</span> (class_exists($className, <span class="keyword">false</span>) || interface_exists($className, <span class="keyword">false</span>)) {
<a name="l01141"></a>01141             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01142"></a>01142         }
<a name="l01143"></a>01143 
<a name="l01144"></a>01144         <span class="keywordflow">if</span> ( ! self::$_modelsDirectory) {
<a name="l01145"></a>01145             $loadedModels = self::$_loadedModelFiles;
<a name="l01146"></a>01146 
<a name="l01147"></a>01147             <span class="keywordflow">if</span> (isset($loadedModels[$className]) &amp;&amp; file_exists($loadedModels[$className])) {
<a name="l01148"></a>01148                 require $loadedModels[$className];
<a name="l01149"></a>01149 
<a name="l01150"></a>01150                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01151"></a>01151             }
<a name="l01152"></a>01152         } <span class="keywordflow">else</span> {
<a name="l01153"></a>01153             $class = self::$_modelsDirectory . DIRECTORY_SEPARATOR . str_replace(<span class="charliteral">&#39;_&#39;</span>, DIRECTORY_SEPARATOR, $className) . <span class="stringliteral">&#39;.php&#39;</span>;
<a name="l01154"></a>01154 
<a name="l01155"></a>01155             <span class="keywordflow">if</span> (file_exists($class)) {
<a name="l01156"></a>01156                 require $class;
<a name="l01157"></a>01157 
<a name="l01158"></a>01158                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01159"></a>01159             }
<a name="l01160"></a>01160         }
<a name="l01161"></a>01161 
<a name="l01162"></a>01162         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01163"></a>01163     }
<a name="l01164"></a>01164 
<a name="l01171"></a><a class="code" href="classDoctrine__Core.html#a128840d9e6f057416f74cf5b1d700fbd">01171</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#a128840d9e6f057416f74cf5b1d700fbd" title="Load classes from the Doctrine extensions directory/path.">extensionsAutoload</a>($className)
<a name="l01172"></a>01172     {
<a name="l01173"></a>01173         <span class="keywordflow">if</span> (class_exists($className, <span class="keyword">false</span>) || interface_exists($className, <span class="keyword">false</span>)) {
<a name="l01174"></a>01174             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01175"></a>01175         }
<a name="l01176"></a>01176 
<a name="l01177"></a>01177         $extensions = <a class="code" href="classDoctrine__Manager.html#a0f1f11c9be78468eed7768f4130aac2e" title="Returns an instance of this class (this class uses the singleton pattern).">Doctrine_Manager::getInstance</a>()
<a name="l01178"></a>01178             -&gt;getExtensions();
<a name="l01179"></a>01179 
<a name="l01180"></a>01180         <span class="keywordflow">foreach</span> ($extensions as $name =&gt; $path) {
<a name="l01181"></a>01181             $class = $path . DIRECTORY_SEPARATOR . str_replace(<span class="charliteral">&#39;_&#39;</span>, DIRECTORY_SEPARATOR, $className) . <span class="stringliteral">&#39;.php&#39;</span>;
<a name="l01182"></a>01182 
<a name="l01183"></a>01183             <span class="keywordflow">if</span> (file_exists($class)) {
<a name="l01184"></a>01184                 require $class;
<a name="l01185"></a>01185 
<a name="l01186"></a>01186                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01187"></a>01187             }
<a name="l01188"></a>01188         }
<a name="l01189"></a>01189 
<a name="l01190"></a>01190         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01191"></a>01191     }
<a name="l01192"></a>01192 
<a name="l01201"></a><a class="code" href="classDoctrine__Core.html#ae208b4bc0f558bfe101f5519bbfc4e77">01201</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classDoctrine__Core.html#ae208b4bc0f558bfe101f5519bbfc4e77" title="dumps a given variable">dump</a>($var, $output = <span class="keyword">true</span>, $indent = <span class="stringliteral">&quot;&quot;</span>)
<a name="l01202"></a>01202     {
<a name="l01203"></a>01203         $ret = array();
<a name="l01204"></a>01204         <span class="keywordflow">switch</span> (gettype($var)) {
<a name="l01205"></a>01205             <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l01206"></a>01206                 $ret[] = <span class="stringliteral">&#39;Array(&#39;</span>;
<a name="l01207"></a>01207                 $indent .= <span class="stringliteral">&quot;    &quot;</span>;
<a name="l01208"></a>01208                 <span class="keywordflow">foreach</span> ($var as $k =&gt; $v) {
<a name="l01209"></a>01209 
<a name="l01210"></a>01210                     $ret[] = $indent . $k . <span class="stringliteral">&#39; : &#39;</span> . <a class="code" href="classDoctrine__Core.html#ae208b4bc0f558bfe101f5519bbfc4e77" title="dumps a given variable">self::dump</a>($v, <span class="keyword">false</span>, $indent);
<a name="l01211"></a>01211                 }
<a name="l01212"></a>01212                 $indent = substr($indent,0, -4);
<a name="l01213"></a>01213                 $ret[] = $indent . <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01214"></a>01214                 <span class="keywordflow">break</span>;
<a name="l01215"></a>01215             <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l01216"></a>01216                 $ret[] = <span class="stringliteral">&#39;Object(&#39;</span> . get_class($var) . <span class="charliteral">&#39;)&#39;</span>;
<a name="l01217"></a>01217                 <span class="keywordflow">break</span>;
<a name="l01218"></a>01218             <span class="keywordflow">default</span>:
<a name="l01219"></a>01219                 $ret[] = var_export($var, <span class="keyword">true</span>);
<a name="l01220"></a>01220         }
<a name="l01221"></a>01221 
<a name="l01222"></a>01222         <span class="keywordflow">if</span> ($output) {
<a name="l01223"></a>01223             print implode(<span class="stringliteral">&quot;\n&quot;</span>, $ret);
<a name="l01224"></a>01224         }
<a name="l01225"></a>01225 
<a name="l01226"></a>01226         <span class="keywordflow">return</span> implode(<span class="stringliteral">&quot;\n&quot;</span>, $ret);
<a name="l01227"></a>01227     }
<a name="l01228"></a>01228 }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
