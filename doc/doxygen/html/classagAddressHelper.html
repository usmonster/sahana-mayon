<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sahana Agasti: agAddressHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Sahana Agasti&#160;<span id="projectnumber">2.0 (Mayon)</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>agAddressHelper Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="agAddressHelper" --><!-- doxytag: inherits="agBulkRecordHelper" -->
<p>Provides bulk-address manipulation methods.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for agAddressHelper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classagAddressHelper.png" usemap="#agAddressHelper_map" alt=""/>
  <map id="agAddressHelper_map" name="agAddressHelper_map">
<area href="classagBulkRecordHelper.html" alt="agBulkRecordHelper" shape="rect" coords="0,0,129,24"/>
</map>
 </div></div>

<p><a href="classagAddressHelper-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#ad930eaa848c710c0ab65c63970953d0c">__call</a> ($method, $arguments)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overloaded magic call method to provide access to the getNativeAddress* variants.  <a href="#ad930eaa848c710c0ab65c63970953d0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a6aab0d1b899a1504dd13b751bd6ed24b">__construct</a> ($addressIds=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the class's constructor whic pre-loads the formatting elements according to the default return standard.  <a href="#a6aab0d1b899a1504dd13b751bd6ed24b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#af5c61688cf1597a4da88fdd5169ee5c1">setReturnStandard</a> ($standardId)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A simple method to set the current return standard and force the re-generation of the formatting components.  <a href="#af5c61688cf1597a4da88fdd5169ee5c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#ad6ffebdc34b9445177cb969e73de7767">getAddressComponentsById</a> ($addressIds=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A workhorse method useful for returning address elements that need to be related back to formatting components.  <a href="#ad6ffebdc34b9445177cb969e73de7767"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a50f5d2d5c03efa754c43396a2ea99ac1">getAddressCoordinates</a> ($addressIds=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return the latitude and longitude coordinates of an address.  <a href="#a50f5d2d5c03efa754c43396a2ea99ac1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#acbca2cd72ff263c81a9e246ec7fa5e96">getAddressComponentsByName</a> ($addressIds=NULL, $getGeoCoordinates=TRUE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return address components similar to the getAddressComponentsById method, however, the keys of the second dimension array are strings (for easier access).  <a href="#acbca2cd72ff263c81a9e246ec7fa5e96"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a69425e62015bf1f9309f5c6554731ad8">isCompleteAddress</a> ($addressComponentArray, $checkValues=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A super-helpful (and super-quick) function to tell a user if the address components being passed represent a complete address (one with values in all required element fields) according to the returnStandard.  <a href="#a69425e62015bf1f9309f5c6554731ad8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a0c3b7e7652f0f33ce62ca317e2334736">getIncompleteAddresses</a> ($addressIds=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return an array of address_id's that are not complete.  <a href="#a0c3b7e7652f0f33ce62ca317e2334736"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a450790732a220ed714841bdee5528a33">getAddressComponentsByLine</a> ($addressIds=NULL, $enforceComplete=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return address components as an associative array keyed by line number.  <a href="#a450790732a220ed714841bdee5528a33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#ad5f1a067647d590670bbd79d541f7b0f">getAddressAsString</a> ($addressIds=NULL, $enforceComplete=NULL, $enforceLineNumber=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return an address as a singled formatted string.  <a href="#ad5f1a067647d590670bbd79d541f7b0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a1e5a2315a9aab7c69b8b56e1e116d47a">updateAddressHashes</a> ($addressIds=NULL, $conn=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to update the address hash values of existing addresses.  <a href="#a1e5a2315a9aab7c69b8b56e1e116d47a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#ab6affe3a16fc0479c41a61aeb4399234">getAddressIdsByHash</a> ($addressHashes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A quick helper method to take in an array address hashes and return an array of address ids.  <a href="#ab6affe3a16fc0479c41a61aeb4399234"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#afc3cbc339f6dd558cd07c1291bee6194">setAddresses</a> ($addresses, $enforceComplete=NULL, Doctrine_Connection $conn=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to take in address components and return address ids, inserting new addresses OR address components as necessary.  <a href="#afc3cbc339f6dd558cd07c1291bee6194"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a1a548082262753070a77f36074271c6c">getAddressValueId</a> ($elementId, $value, $conn=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple method to retrieve an address value / element.  <a href="#a1a548082262753070a77f36074271c6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a6715c3d1b307a616f86df9c14b0c87ae">getAddressStandardId</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple method to return the current working address standard id.  <a href="#a6715c3d1b307a616f86df9c14b0c87ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a165bac98516c6a9e239a039726394b6b">getAddressAllowedElements</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A simple getter to return the current working elements allowed for this address.  <a href="#a165bac98516c6a9e239a039726394b6b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37b9c7b9ba7ec29f41150d2b6242ac53"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_TYPEID" ref="a37b9c7b9ba7ec29f41150d2b6242ac53" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_TYPEID</b> = 'getAddressComponentsById'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ddf15b4afa87b4a138ff1cfefb97062"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_GEO" ref="a2ddf15b4afa87b4a138ff1cfefb97062" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_GEO</b> = 'getAddressCoordinates'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0213ebad4406d644897e29ca07bd3ca5"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_TYPE" ref="a0213ebad4406d644897e29ca07bd3ca5" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_TYPE</b> = 'getAddressComponentsByName'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fdddb2387de4b17f2c3d25eafaf30bb"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_LINE" ref="a2fdddb2387de4b17f2c3d25eafaf30bb" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_LINE</b> = 'getAddressComponentsByLine'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29f5cd66419aab65a437049e73b27b05"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_STRING" ref="a29f5cd66419aab65a437049e73b27b05" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_STRING</b> = 'getAddressAsString'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9238b1dd1322c51b06a25213a0d57a37"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_NATIVE_LINE" ref="a9238b1dd1322c51b06a25213a0d57a37" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_NATIVE_LINE</b> = 'getNativeAddressComponentsByLine'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b3f7e3a9912faae43e9203dda65792b"></a><!-- doxytag: member="agAddressHelper::ADDR_GET_NATIVE_STRING" ref="a0b3f7e3a9912faae43e9203dda65792b" args="" -->
const&#160;</td><td class="memItemRight" valign="bottom"><b>ADDR_GET_NATIVE_STRING</b> = 'getNativeAddressAsString'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a943c6d4d9206eca75b99a1138702b658"></a><!-- doxytag: member="agAddressHelper::$lineDelimiter" ref="a943c6d4d9206eca75b99a1138702b658" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$lineDelimiter</b> = &quot;&lt;br /&gt;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19174998d602e70d7e8fbac219a251d5"></a><!-- doxytag: member="agAddressHelper::$enforceComplete" ref="a19174998d602e70d7e8fbac219a251d5" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$enforceComplete</b> = FALSE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd3ed0bd3ac2b57336a5f389026f051e"></a><!-- doxytag: member="agAddressHelper::$enforceLineNumber" ref="abd3ed0bd3ac2b57336a5f389026f051e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$enforceLineNumber</b> = FALSE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01f949ee9729976f8e8e437e7bb6691b"></a><!-- doxytag: member="agAddressHelper::$checkValuesForCompleteness" ref="a01f949ee9729976f8e8e437e7bb6691b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$checkValuesForCompleteness</b> = FALSE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8044fdc42abb8ce8eb2df15551e7e8ad"></a><!-- doxytag: member="agAddressHelper::$_globalDefaultAddressGeoType" ref="a8044fdc42abb8ce8eb2df15551e7e8ad" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_globalDefaultAddressGeoType</b> = 'default_address_geo_type'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a906001cb2ddb3673a83db33e460c4005"></a><!-- doxytag: member="agAddressHelper::$_startingLineNumber" ref="a906001cb2ddb3673a83db33e460c4005" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_startingLineNumber</b> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9ce236d8a9fe2e73c1739cae582fa65"></a><!-- doxytag: member="agAddressHelper::$_addressFormatComponents" ref="af9ce236d8a9fe2e73c1739cae582fa65" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_addressFormatComponents</b> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a867245923312a3c33860b3ecf2da7ca0"></a><!-- doxytag: member="agAddressHelper::$_addressFormatRequired" ref="a867245923312a3c33860b3ecf2da7ca0" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_addressFormatRequired</b> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0a26bedd4d8927e7243e376d3c446f7"></a><!-- doxytag: member="agAddressHelper::$_addressAllowedElements" ref="ac0a26bedd4d8927e7243e376d3c446f7" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_addressAllowedElements</b> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7e2d8ad571ed4cd283900b33a4c2424"></a><!-- doxytag: member="agAddressHelper::$_returnStandardId" ref="ac7e2d8ad571ed4cd283900b33a4c2424" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_returnStandardId</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af05269ef35d05a2ef2a5122315c29f8e"></a><!-- doxytag: member="agAddressHelper::$_addressGeoTypeId" ref="af05269ef35d05a2ef2a5122315c29f8e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_addressGeoTypeId</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40bec3caafafb43bc0d916a008b571c5"></a><!-- doxytag: member="agAddressHelper::_setDefaultReturnStandard" ref="a40bec3caafafb43bc0d916a008b571c5" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a40bec3caafafb43bc0d916a008b571c5">_setDefaultReturnStandard</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Protected method to set the default address standard / format used for returning addresses. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e4c11c29a84c6a522695d90a74645f8"></a><!-- doxytag: member="agAddressHelper::_setDefaultAddressGeoType" ref="a4e4c11c29a84c6a522695d90a74645f8" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a4e4c11c29a84c6a522695d90a74645f8">_setDefaultAddressGeoType</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Small helper function to pick up the default geo-type for addresses. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e098836957aeb8d34bef4e1328b6f7a"></a><!-- doxytag: member="agAddressHelper::_setAddressFormatComponents" ref="a7e098836957aeb8d34bef4e1328b6f7a" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a7e098836957aeb8d34bef4e1328b6f7a">_setAddressFormatComponents</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method queries the database for the required formatting components and loads several properties with quick, referenceable information used in formatting endeavors. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#af06f76908ef7cc4233b287065fee0555">_getNativeAddress</a> ($returnMethod, $arguments)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to wrap the non-native address functions and process addresses per-address standard so that results are returned in the standard in which they were submitted.  <a href="#af06f76908ef7cc4233b287065fee0555"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a2f34deab7dd7eea04a1961fe8d468ea8">_getAddressComponents</a> ($addressIds)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method used to construct the base query object used by other objects in this class.  <a href="#a2f34deab7dd7eea04a1961fe8d468ea8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a1cec96abddb9a87a31289435c0793dd4">_getFlatAddresses</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return a flattened address query object, based on the standard being applied.  <a href="#a1cec96abddb9a87a31289435c0793dd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#a863c1fc463e30bba12ee75d9a9deabda">hashAddress</a> ($addressComponentArray)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to take an address component array and return a json encoded, md5sum'ed address hash.  <a href="#a863c1fc463e30bba12ee75d9a9deabda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#ae6335745f14e8a6df1cc5881d4f463a5">_setAddresses</a> ($addresses, Doctrine_Connection $conn=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to take in address components and return address ids, inserting new addresses OR address components as necessary.  <a href="#ae6335745f14e8a6df1cc5881d4f463a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagAddressHelper.html#afcd6e2ffe1f9f7ec423f07492c2d6d1b">setNewAddresses</a> ($addresses, Doctrine_Connection $conn=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A big honkin' method to create a new address and, if also necessary, the address elements that don't yet exist to support the address.  <a href="#afcd6e2ffe1f9f7ec423f07492c2d6d1b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7ee3faab8edbdbc5de7b3e0db22e990"></a><!-- doxytag: member="agAddressHelper::$_globalDefaultAddressStandard" ref="ae7ee3faab8edbdbc5de7b3e0db22e990" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$_globalDefaultAddressStandard</b> = 'default_address_standard'</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides bulk-address manipulation methods. </p>
<p>PHP Version 5</p>
<p>LICENSE: This source file is subject to LGPLv3.0 license that is available through the world-wide-web at the following URI: <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a></p>
<dl class="author"><dt><b>Author:</b></dt><dd>Chad Heuschober, CUNY SPS</dd></dl>
<p>Copyright of the Sahana Software Foundation, sahanafoundation.org </p>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00016">16</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6aab0d1b899a1504dd13b751bd6ed24b"></a><!-- doxytag: member="agAddressHelper::__construct" ref="a6aab0d1b899a1504dd13b751bd6ed24b" args="($addressIds=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::__construct </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the class's constructor whic pre-loads the formatting elements according to the default return standard. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>A single dimension array of address id values. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classagBulkRecordHelper.html#a44fa71a1c282fd787c4861f73fe6d5bf">agBulkRecordHelper</a>.</p>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00083">83</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad930eaa848c710c0ab65c63970953d0c"></a><!-- doxytag: member="agAddressHelper::__call" ref="ad930eaa848c710c0ab65c63970953d0c" args="($method, $arguments)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::__call </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>arguments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overloaded magic call method to provide access to the getNativeAddress* variants. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The method being called. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$arguments</td><td>The arguments being passed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>function call </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00049">49</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2f34deab7dd7eea04a1961fe8d468ea8"></a><!-- doxytag: member="agAddressHelper::_getAddressComponents" ref="a2f34deab7dd7eea04a1961fe8d468ea8" args="($addressIds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::_getAddressComponents </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method used to construct the base query object used by other objects in this class. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>A single-dimension array of address id's. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classagDoctrineQuery.html" title="Extended Doctrine_Query to provide safe and additional methods.">agDoctrineQuery</a> An extended doctrine query object. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00249">249</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1cec96abddb9a87a31289435c0793dd4"></a><!-- doxytag: member="agAddressHelper::_getFlatAddresses" ref="a1cec96abddb9a87a31289435c0793dd4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::_getFlatAddresses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to return a flattened address query object, based on the standard being applied. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Doctrine Query A doctrine query object. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This function was never used/implemented. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00576">576</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="af06f76908ef7cc4233b287065fee0555"></a><!-- doxytag: member="agAddressHelper::_getNativeAddress" ref="af06f76908ef7cc4233b287065fee0555" args="($returnMethod, $arguments)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::_getNativeAddress </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>returnMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>arguments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to wrap the non-native address functions and process addresses per-address standard so that results are returned in the standard in which they were submitted. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$returnMethod</td><td>The address return method to wrap. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$arguments</td><td>The arguments to be passed to the address return method. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array The results of the $returnMethod. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00195">195</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae6335745f14e8a6df1cc5881d4f463a5"></a><!-- doxytag: member="agAddressHelper::_setAddresses" ref="ae6335745f14e8a6df1cc5881d4f463a5" args="($addresses, Doctrine_Connection $conn=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::_setAddresses </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Doctrine_Connection $&#160;</td>
          <td class="paramname"><em>conn</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to take in address components and return address ids, inserting new addresses OR address components as necessary. </p>
<p>NOTE: This method does not fail fast. Addresses for which address id's could not be returned, either by failed search or failed insert, are returned by index as part of the results set.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addresses</td><td>This multi-dimensional array of address data is keyed by an arbitrary index. The values of each index are: an array of address components, keyed by element id, and the default address standard of this address. <code> array( [$index] =&gt; array( [0] =&gt; array( [$elementId] =&gt; $valueString, ...), [1] =&gt; $addressStanardId ), ... ) </code> </td></tr>
    <tr><td class="paramtype">Doctrine_Connection</td><td class="paramname">$conn</td><td>A doctrine connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two dimensional array. The first array element ([0]), returns an array of address indexes and the newly inserted addressIds. The second array element [1], returns all address indexes that could not be inserted. <code> array( [0] =&gt; array( [$addressIndex] =&gt; [$addressId], ... ) [1] =&gt; array( $addressIndex, ... ) ) </code> </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00817">817</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a165bac98516c6a9e239a039726394b6b"></a><!-- doxytag: member="agAddressHelper::getAddressAllowedElements" ref="a165bac98516c6a9e239a039726394b6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressAllowedElements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A simple getter to return the current working elements allowed for this address. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array $result An associative array (address_element_id =&gt; address_element). </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l01089">1089</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad5f1a067647d590670bbd79d541f7b0f"></a><!-- doxytag: member="agAddressHelper::getAddressAsString" ref="ad5f1a067647d590670bbd79d541f7b0f" args="($addressIds=NULL, $enforceComplete=NULL, $enforceLineNumber=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressAsString </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>enforceComplete</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>enforceLineNumber</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to return an address as a singled formatted string. </p>
<p>Uses the $lineDelimiter public class property as a line Delimiter which can be changed to suit the needs of the output.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>An optional single-dimension array of address id's. If NULL, the classes' $addressIds property is used. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$enforceComplete</td><td>An optional boolean to control whether or not only complete addresses will be returned. Defaults to using the class property of the same name. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$enforceLineNumber</td><td>An optional boolean to control whether or not line numbers will be strictly enforced. Defaults to using the class property of the same name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A mono-dimensional associative array keyed by address_id with the combined address string as a value. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00520">520</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad6ffebdc34b9445177cb969e73de7767"></a><!-- doxytag: member="agAddressHelper::getAddressComponentsById" ref="ad6ffebdc34b9445177cb969e73de7767" args="($addressIds=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressComponentsById </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A workhorse method useful for returning address elements that need to be related back to formatting components. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>An optional single-dimension array of address id's. If NULL, the classes' $addressIds property is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two dimensional array keyed by address_id, then by address_element_id, and containing the address value. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00275">275</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a450790732a220ed714841bdee5528a33"></a><!-- doxytag: member="agAddressHelper::getAddressComponentsByLine" ref="a450790732a220ed714841bdee5528a33" args="($addressIds=NULL, $enforceComplete=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressComponentsByLine </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>enforceComplete</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to return address components as an associative array keyed by line number. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>An optional single-dimension array of address id's. If NULL, the classes' $addressIds property is used. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$enforceComplete</td><td>An optional boolean to control whether or not only complete addresses will be returned. Defaults to using the class property of the same name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two-dimensional associative array, keyed by address_id and line-number with a string representation of that line's combined elements as the value.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000071">Todo:</a></b></dt><dd>This could *perhaps* be turned into some sort of super-efficient walk method </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00457">457</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="acbca2cd72ff263c81a9e246ec7fa5e96"></a><!-- doxytag: member="agAddressHelper::getAddressComponentsByName" ref="acbca2cd72ff263c81a9e246ec7fa5e96" args="($addressIds=NULL, $getGeoCoordinates=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressComponentsByName </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>getGeoCoordinates</em> = <code>TRUE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to return address components similar to the getAddressComponentsById method, however, the keys of the second dimension array are strings (for easier access). </p>
<p>It also can optionally include addresses' latitudes and longitudes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>An optional single-dimension array of address id's. If NULL, the classes' $addressIds property is used. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$getGeoCoordinates</td><td>Optional boolean used to control whether or not the latitude and longitude coordinates are also returned. Defaults to TRUE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two-dimensional associative array, keyed by address_id and the string representation of the address component. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00341">341</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a50f5d2d5c03efa754c43396a2ea99ac1"></a><!-- doxytag: member="agAddressHelper::getAddressCoordinates" ref="a50f5d2d5c03efa754c43396a2ea99ac1" args="($addressIds=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressCoordinates </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to return the latitude and longitude coordinates of an address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>An optional single-dimension array of address id's. If NULL, the classes' $addressIds property is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two-dimensional associative array, keyed by address id, that has key/value pairs representing latitude and longitude. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00291">291</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab6affe3a16fc0479c41a61aeb4399234"></a><!-- doxytag: member="agAddressHelper::getAddressIdsByHash" ref="ab6affe3a16fc0479c41a61aeb4399234" args="($addressHashes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressIdsByHash </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressHashes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A quick helper method to take in an array address hashes and return an array of address ids. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressHashes</td><td>A monodimensional array of md5sum, json_encoded address hashes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array An associative array, keyed by address hash, with a value of address_id. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00681">681</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6715c3d1b307a616f86df9c14b0c87ae"></a><!-- doxytag: member="agAddressHelper::getAddressStandardId" ref="a6715c3d1b307a616f86df9c14b0c87ae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressStandardId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Simple method to return the current working address standard id. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer address_standard_id </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l01079">1079</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1a548082262753070a77f36074271c6c"></a><!-- doxytag: member="agAddressHelper::getAddressValueId" ref="a1a548082262753070a77f36074271c6c" args="($elementId, $value, $conn=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getAddressValueId </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>elementId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>conn</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Simple method to retrieve an address value / element. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$elementId</td><td>The element id being queried. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>String value being searched for. </td></tr>
    <tr><td class="paramtype">Doctrine_Connection</td><td class="paramname">$conn</td><td>A doctrine connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer|array This is a little funny behaviour or HYDRATE_SINGLE_SCALAR's part. If no value is returned from the query it actually returns an empty array instead of a NULL (which would seem more appropriate). Use empty() to check if there's an actual value. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l01061">1061</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0c3b7e7652f0f33ce62ca317e2334736"></a><!-- doxytag: member="agAddressHelper::getIncompleteAddresses" ref="a0c3b7e7652f0f33ce62ca317e2334736" args="($addressIds=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::getIncompleteAddresses </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to return an array of address_id's that are not complete. </p>
<p>Potentially useful for large operations like imports.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>An optional single-dimension array of address id's. If NULL, the classes' $addressIds property is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A mono-dimesional array of address_ids. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00429">429</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a863c1fc463e30bba12ee75d9a9deabda"></a><!-- doxytag: member="agAddressHelper::hashAddress" ref="a863c1fc463e30bba12ee75d9a9deabda" args="($addressComponentArray)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::hashAddress </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressComponentArray</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to take an address component array and return a json encoded, md5sum'ed address hash. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressComponentArray</td><td>An associative array of address components keyed by elementId with the string value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string(128) A 128-bit md5sum string. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00667">667</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a69425e62015bf1f9309f5c6554731ad8"></a><!-- doxytag: member="agAddressHelper::isCompleteAddress" ref="a69425e62015bf1f9309f5c6554731ad8" args="($addressComponentArray, $checkValues=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::isCompleteAddress </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressComponentArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>checkValues</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A super-helpful (and super-quick) function to tell a user if the address components being passed represent a complete address (one with values in all required element fields) according to the returnStandard. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressComponentArray</td><td>An associative, mono-dimensional array keyed by address_element_id. This is, in-effect, the same output as the second-dimension of getAddressComponentsById (hint, hint, hint...) </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$checkValues</td><td>Boolean parameter to control whether or not the method only searches for keys (FALSE) or checks the actual values for zero-length strings and/or nulls. Defaults to the class parameter $checkValuesForCompleteness. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean Is it a complete address? True or False. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00391">391</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="afc3cbc339f6dd558cd07c1291bee6194"></a><!-- doxytag: member="agAddressHelper::setAddresses" ref="afc3cbc339f6dd558cd07c1291bee6194" args="($addresses, $enforceComplete=NULL, Doctrine_Connection $conn=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::setAddresses </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>enforceComplete</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Doctrine_Connection $&#160;</td>
          <td class="paramname"><em>conn</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to take in address components and return address ids, inserting new addresses OR address components as necessary. </p>
<p>NOTE: This method does not fail fast. Addresses for which address id's could not be returned, either by failed search or failed insert, are returned by index as part of the results set.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addresses</td><td>This multi-dimensional array of address data is keyed by an arbitrary index. The values of each index are: an array of address components, keyed by element id, and the default address standard of this address. <code> array( [$index] =&gt; array( [0] =&gt; array( [$elementId] =&gt; $valueString, ...), [1] =&gt; $addressStanardId ), ... ) </code> </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$enforceComplete</td><td>Determines whether or not only complete addresses will be processed and set. Warning! It still won't process addresses that were previously allowed to be incomplete meaning users should attempt to be consistent in the use of this parameter. </td></tr>
    <tr><td class="paramtype">Doctrine_Connection</td><td class="paramname">$conn</td><td>A doctrine connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two dimensional array. The first array element ([0]), returns an array of address indexes and the newly inserted addressIds. The second array element [1], returns all address indexes that could not be inserted. <code> array( [0] =&gt; array( [$addressIndex] =&gt; [$addressId], ... ) [1] =&gt; array( $addressIndex, ... ) ) </code> </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00725">725</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="afcd6e2ffe1f9f7ec423f07492c2d6d1b"></a><!-- doxytag: member="agAddressHelper::setNewAddresses" ref="afcd6e2ffe1f9f7ec423f07492c2d6d1b" args="($addresses, Doctrine_Connection $conn=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::setNewAddresses </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Doctrine_Connection $&#160;</td>
          <td class="paramname"><em>conn</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A big honkin' method to create a new address and, if also necessary, the address elements that don't yet exist to support the address. </p>
<p>NOTE: This method does not fail fast. Failed address inserts are returned by index as part of the results set.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addresses</td><td>This multi-dimensional array of address data is keyed by an arbitrary index. The values of each index are: an array of address components, keyed by element id, the default address standard of this address, and the address hash of the components. <code> array( [$index] =&gt; array( [0] =&gt; array( [$elementId] =&gt; $valueString, ...), [1] =&gt; $addressStanardId, [2] =&gt; $addressHash ), ... ) </code> </td></tr>
    <tr><td class="paramtype">Doctrine_Connection</td><td class="paramname">$conn</td><td>A doctrine connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array A two dimensional array. The first array element ([0]), returns an array of address indexes and the newly inserted addressIds. The second array element [1], returns all address indexes that could not be inserted. <code> array( [0] =&gt; array( [$addressIndex] =&gt; [$addressId], ... ) [1] =&gt; array( $addressIndex, ... ) ) </code> </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00916">916</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="af5c61688cf1597a4da88fdd5169ee5c1"></a><!-- doxytag: member="agAddressHelper::setReturnStandard" ref="af5c61688cf1597a4da88fdd5169ee5c1" args="($standardId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::setReturnStandard </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>standardId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A simple method to set the current return standard and force the re-generation of the formatting components. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$standardId</td><td>The address_standard_id to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00127">127</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1e5a2315a9aab7c69b8b56e1e116d47a"></a><!-- doxytag: member="agAddressHelper::updateAddressHashes" ref="a1e5a2315a9aab7c69b8b56e1e116d47a" args="($addressIds=NULL, $conn=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agAddressHelper::updateAddressHashes </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>addressIds</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>conn</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to update the address hash values of existing addresses. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$addressIds</td><td>A single dimension array of addressIds. </td></tr>
    <tr><td class="paramtype">Doctrine_Connection</td><td class="paramname">$conn</td><td>An optional doctrine connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>This should not normally be necessary as address hashes should be generated at address creation. </dd></dl>

<p>Definition at line <a class="el" href="agAddressHelper_8class_8php_source.html#l00610">610</a> of file <a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>apps/frontend/lib/util/<a class="el" href="agAddressHelper_8class_8php_source.html">agAddressHelper.class.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
